{"remainingRequest":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js??ref--2-1!/Users/eve/development/force/src/desktop/analytics/inquiry_questionnaire.js","dependencies":[{"path":"/Users/eve/development/force/src/desktop/analytics/inquiry_questionnaire.js","mtime":1524156693000},{"path":"/Users/eve/development/force/.babelrc","mtime":1528124541000},{"path":"/Users/eve/development/force/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":[";\n\n(function () {\n  'use strict';\n\n  var namespace, track, bind, bindOnce;\n\n  namespace = function namespace(name) {\n    return 'inquiry_questionnaire:' + name;\n  };\n\n  track = function track() {\n    var args;\n    args = arguments;\n    args[0] = namespace(' ' + args[0]);\n    analytics.track.apply(null, args);\n  };\n\n  bind = function bind(name, handler) {\n    analyticsHooks.on(namespace(name), handler);\n  };\n\n  bindOnce = function bindOnce(name, handler) {\n    analyticsHooks.once(namespace(name), handler);\n  }; // DOM events\n\n\n  var $document = $(document);\n  $document.on('click', '.js-choice', function () {\n    var choice = $(this).data('value');\n    track('Clicked on how_can_we_help option', {\n      choice: choice\n    });\n  });\n  $document.on('click', '.js-iq-collector-level', function (e) {\n    track('Clicked \"Yes\" or \"No\" button on commercial_interest', {\n      collector_level: e.currentTarget.value\n    });\n  });\n  $document.on('click', '.js-login-email', function () {\n    track('Clicked \"Log in\"');\n  });\n  $document.on('click', '.js-forgot-password', function () {\n    track('Clicked \"Forgot Password?\"');\n  });\n  $document.on('click', '.js-send-inquiry', function () {\n    track('Clicked \"Send\" on inquiry form');\n  });\n  $document.one('input', '.js-inquiry-message', function (e) {\n    track('User changed inquiry message from default');\n  });\n  $document.on('alert', '.js-inquiry-message', function (e) {\n    track('User nudged to change inquiry message from default');\n  });\n  $document.on('click', '.js-iq-save-skip', function () {\n    track('Clicked on \"No thanks don’t save my information\"');\n  }); // Proxied events\n\n  bind('modal:opened', function (context) {\n    track('Opened inquiry flow');\n  });\n  bind('modal:closed', function (context) {\n    track('Closed inquiry flow');\n  });\n  bind('state:completed', function (context) {\n    track('Completed inquiry flow');\n  });\n  bind('state:aborted', function (context) {\n    track('Aborted inquiry flow', {\n      current: context.state.current()\n    });\n  });\n  bind('state:next', function (context) {\n    track('State changed to ' + context.state.current());\n    track('State change', {\n      current: context.state.current()\n    });\n  });\n  bind('user:change:profession', function (context) {\n    track('User set profession', {\n      profession: context.user.get('profession')\n    });\n  });\n  bind('user:change:location', function (context) {\n    track('User set location', {\n      location: context.user.get('location')\n    });\n  });\n  bind('user:change:phone', function (context) {\n    track('User set phone', {\n      phone: context.user.get('phone')\n    });\n  });\n  bind('user:sync', function (context) {\n    track('User data saved');\n  });\n  bind('collector_profile:sync', function (context) {\n    track('CollectorProfile data saved');\n  });\n  bind('user_interests:add', function (context) {\n    var userInterest = context.userInterests.last();\n    track('User added an interest in artist', {\n      artist_id: userInterest.related().interest.id\n    });\n  });\n  bind('user_interests:remove', function (context) {\n    track('User removed an interest in artist');\n  });\n  bindOnce('inquiry:sync', function (context) {\n    track('Inquiry successfully sent');\n  });\n  bind('inquiry:error', function (context) {\n    track('Problem sending inquiry', context.inquiry.attributes);\n  });\n  bind('collector_profile:change:affiliated_gallery_ids', function (context) {\n    track('Changed collector_profile:affiliated_gallery_ids', {\n      ids: context.collectorProfile.get('affiliated_gallery_ids')\n    });\n  });\n  bind('collector_profile:change:affiliated_auction_house_ids', function (context) {\n    track('Changed collector_profile:affiliated_auction_house_ids', {\n      ids: context.collectorProfile.get('affiliated_auction_house_ids')\n    });\n  });\n  bind('collector_profile:change:affiliated_fair_ids', function (context) {\n    track('Changed collector_profile:affiliated_fair_ids', {\n      ids: context.collectorProfile.get('affiliated_fair_ids')\n    });\n  });\n  bind('collector_profile:change:institutional_affiliations', function (context) {\n    track('Changed collector_profile:institutional_affiliations', {\n      value: context.collectorProfile.get('institutional_affiliations')\n    });\n  }); // Non-namespaced events\n\n  bind('user:login', function (context) {\n    analytics.track('Successfully logged in', {\n      context: 'inquiry_questionnaire'\n    });\n  });\n  bind('user:signup', function (context) {\n    analytics.track('Created account', {\n      context: 'inquiry_questionnaire'\n    });\n  });\n  bindOnce('inquiry:sync', function (context) {\n    analytics.track('Sent artwork inquiry', {\n      artwork_id: context.artwork.get('_id'),\n      artwork_slug: context.artwork.id,\n      inquiry_id: context.inquiry.id\n    });\n  });\n  bindOnce('inquiry:show', function (context) {\n    analytics.track('Sent show inquiry', {\n      label: context.label\n    });\n  });\n  bindOnce('contact:hover', function (context) {\n    analytics.track(\"Hovered over contact form 'Send' button\");\n  });\n  bindOnce('contact:close-x', function (context) {\n    analytics.track(\"Closed the inquiry form via the '×' button\");\n  });\n  bindOnce('contact:close-back', function (context) {\n    analytics.track('Closed the inquiry form by clicking the modal window backdrop');\n  });\n  bindOnce('contact:submitted', function (context) {\n    analytics.track('Contact form submitted', context.attributes);\n  });\n  bind('inquiry:sent', function (context) {\n    track('Sent artwork inquiry', {\n      label: context.label\n    });\n    track('Submit confirm inquiry modal', context.attributes);\n    track(context.changed + ' default message');\n    track('Inquiry: ' + context.version + ' Flow', context.session_id);\n  });\n})();",{"version":3,"sources":["src/desktop/analytics/inquiry_questionnaire.js"],"names":["namespace","track","bind","bindOnce","name","args","arguments","analytics","apply","handler","analyticsHooks","on","once","$document","$","document","choice","data","e","collector_level","currentTarget","value","one","context","current","state","profession","user","get","location","phone","userInterest","userInterests","last","artist_id","related","interest","id","inquiry","attributes","ids","collectorProfile","artwork_id","artwork","artwork_slug","inquiry_id","label","changed","version","session_id"],"mappings":"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","file":"/Users/eve/development/force/src/desktop/analytics/inquiry_questionnaire.js","sourceRoot":"/Users/eve/development/force","sourcesContent":[";(function() {\n  'use strict'\n\n  var namespace, track, bind, bindOnce\n\n  namespace = function(name) {\n    return 'inquiry_questionnaire:' + name\n  }\n\n  track = function() {\n    var args\n    args = arguments\n    args[0] = namespace(' ' + args[0])\n    analytics.track.apply(null, args)\n  }\n\n  bind = function(name, handler) {\n    analyticsHooks.on(namespace(name), handler)\n  }\n\n  bindOnce = function(name, handler) {\n    analyticsHooks.once(namespace(name), handler)\n  }\n\n  // DOM events\n  var $document = $(document)\n\n  $document.on('click', '.js-choice', function() {\n    var choice = $(this).data('value')\n    track('Clicked on how_can_we_help option', {\n      choice: choice,\n    })\n  })\n\n  $document.on('click', '.js-iq-collector-level', function(e) {\n    track('Clicked \"Yes\" or \"No\" button on commercial_interest', {\n      collector_level: e.currentTarget.value,\n    })\n  })\n\n  $document.on('click', '.js-login-email', function() {\n    track('Clicked \"Log in\"')\n  })\n\n  $document.on('click', '.js-forgot-password', function() {\n    track('Clicked \"Forgot Password?\"')\n  })\n\n  $document.on('click', '.js-send-inquiry', function() {\n    track('Clicked \"Send\" on inquiry form')\n  })\n\n  $document.one('input', '.js-inquiry-message', function(e) {\n    track('User changed inquiry message from default')\n  })\n\n  $document.on('alert', '.js-inquiry-message', function(e) {\n    track('User nudged to change inquiry message from default')\n  })\n\n  $document.on('click', '.js-iq-save-skip', function() {\n    track('Clicked on \"No thanks don’t save my information\"')\n  })\n\n  // Proxied events\n  bind('modal:opened', function(context) {\n    track('Opened inquiry flow')\n  })\n\n  bind('modal:closed', function(context) {\n    track('Closed inquiry flow')\n  })\n\n  bind('state:completed', function(context) {\n    track('Completed inquiry flow')\n  })\n\n  bind('state:aborted', function(context) {\n    track('Aborted inquiry flow', {\n      current: context.state.current(),\n    })\n  })\n\n  bind('state:next', function(context) {\n    track('State changed to ' + context.state.current())\n    track('State change', {\n      current: context.state.current(),\n    })\n  })\n\n  bind('user:change:profession', function(context) {\n    track('User set profession', {\n      profession: context.user.get('profession'),\n    })\n  })\n\n  bind('user:change:location', function(context) {\n    track('User set location', {\n      location: context.user.get('location'),\n    })\n  })\n\n  bind('user:change:phone', function(context) {\n    track('User set phone', {\n      phone: context.user.get('phone'),\n    })\n  })\n\n  bind('user:sync', function(context) {\n    track('User data saved')\n  })\n\n  bind('collector_profile:sync', function(context) {\n    track('CollectorProfile data saved')\n  })\n\n  bind('user_interests:add', function(context) {\n    var userInterest = context.userInterests.last()\n    track('User added an interest in artist', {\n      artist_id: userInterest.related().interest.id,\n    })\n  })\n\n  bind('user_interests:remove', function(context) {\n    track('User removed an interest in artist')\n  })\n\n  bindOnce('inquiry:sync', function(context) {\n    track('Inquiry successfully sent')\n  })\n\n  bind('inquiry:error', function(context) {\n    track('Problem sending inquiry', context.inquiry.attributes)\n  })\n\n  bind('collector_profile:change:affiliated_gallery_ids', function(context) {\n    track('Changed collector_profile:affiliated_gallery_ids', {\n      ids: context.collectorProfile.get('affiliated_gallery_ids'),\n    })\n  })\n\n  bind('collector_profile:change:affiliated_auction_house_ids', function(\n    context\n  ) {\n    track('Changed collector_profile:affiliated_auction_house_ids', {\n      ids: context.collectorProfile.get('affiliated_auction_house_ids'),\n    })\n  })\n\n  bind('collector_profile:change:affiliated_fair_ids', function(context) {\n    track('Changed collector_profile:affiliated_fair_ids', {\n      ids: context.collectorProfile.get('affiliated_fair_ids'),\n    })\n  })\n\n  bind('collector_profile:change:institutional_affiliations', function(\n    context\n  ) {\n    track('Changed collector_profile:institutional_affiliations', {\n      value: context.collectorProfile.get('institutional_affiliations'),\n    })\n  })\n\n  // Non-namespaced events\n  bind('user:login', function(context) {\n    analytics.track('Successfully logged in', {\n      context: 'inquiry_questionnaire',\n    })\n  })\n\n  bind('user:signup', function(context) {\n    analytics.track('Created account', {\n      context: 'inquiry_questionnaire',\n    })\n  })\n\n  bindOnce('inquiry:sync', function(context) {\n    analytics.track('Sent artwork inquiry', {\n      artwork_id: context.artwork.get('_id'),\n      artwork_slug: context.artwork.id,\n      inquiry_id: context.inquiry.id,\n    })\n  })\n\n  bindOnce('inquiry:show', function(context) {\n    analytics.track('Sent show inquiry', {\n      label: context.label,\n    })\n  })\n\n  bindOnce('contact:hover', function(context) {\n    analytics.track(\"Hovered over contact form 'Send' button\")\n  })\n\n  bindOnce('contact:close-x', function(context) {\n    analytics.track(\"Closed the inquiry form via the '×' button\")\n  })\n\n  bindOnce('contact:close-back', function(context) {\n    analytics.track(\n      'Closed the inquiry form by clicking the modal window backdrop'\n    )\n  })\n\n  bindOnce('contact:submitted', function(context) {\n    analytics.track('Contact form submitted', context.attributes)\n  })\n\n  bind('inquiry:sent', function(context) {\n    track('Sent artwork inquiry', { label: context.label })\n    track('Submit confirm inquiry modal', context.attributes)\n    track(context.changed + ' default message')\n    track('Inquiry: ' + context.version + ' Flow', context.session_id)\n  })\n})()\n"]}]}