{"remainingRequest":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js??ref--2-1!/Users/eve/development/force/src/desktop/apps/auction/components/artwork_browser/header/HeaderMobile.js","dependencies":[{"path":"/Users/eve/development/force/src/desktop/apps/auction/components/artwork_browser/header/HeaderMobile.js","mtime":1519227436000},{"path":"/Users/eve/development/force/.babelrc","mtime":1528124541000},{"path":"/Users/eve/development/force/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _underscore = _interopRequireDefault(require(\"underscore\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _bemCnLite = _interopRequireDefault(require(\"bem-cn-lite\"));\n\nvar _reactRedux = require(\"react-redux\");\n\nvar _artworkBrowser = require(\"../../../actions/artworkBrowser\");\n\nvar propTypes = {\n  sortMap: _propTypes.default.object.isRequired,\n  totalLabel: _propTypes.default.string.isRequired,\n  updateSortAction: _propTypes.default.func.isRequired\n};\n\nfunction HeaderMobile(props) {\n  var sortMap = props.sortMap,\n      totalLabel = props.totalLabel,\n      updateSortAction = props.updateSortAction;\n  var b = (0, _bemCnLite.default)('auction-artworks-HeaderMobile');\n  return _react.default.createElement(\"header\", {\n    className: b()\n  }, _react.default.createElement(\"div\", {\n    className: b('total')\n  }, _react.default.createElement(\"em\", null, totalLabel)), _react.default.createElement(\"div\", {\n    className: b('sort')\n  }, _react.default.createElement(\"select\", {\n    dir: \"rtl\",\n    onChange: function onChange(event) {\n      return updateSortAction(event.target.value);\n    }\n  }, _underscore.default.map(sortMap, function (sortName, sort) {\n    return _react.default.createElement(\"option\", {\n      value: sort,\n      key: sort\n    }, sortName);\n  }))));\n}\n\nvar mapStateToProps = function mapStateToProps(state) {\n  var _state$artworkBrowser = state.artworkBrowser,\n      filterParams = _state$artworkBrowser.filterParams,\n      isFetchingArtworks = _state$artworkBrowser.isFetchingArtworks,\n      sortMap = _state$artworkBrowser.sortMap,\n      total = _state$artworkBrowser.total;\n  var selectedSort = filterParams.sort;\n  var totalLabel = isFetchingArtworks ? 'Loading...' : \"\".concat(total, \" Lots\");\n  return {\n    filterParams: filterParams,\n    selectedSort: selectedSort,\n    sortMap: (0, _extends2.default)({\n      default: 'Default'\n    }, sortMap),\n    totalLabel: totalLabel\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    updateSortAction: function updateSortAction(sortValue) {\n      if (sortValue === 'default') {\n        dispatch((0, _artworkBrowser.toggleListView)(false));\n        dispatch((0, _artworkBrowser.updateSort)('position')); // default\n      } else {\n        dispatch((0, _artworkBrowser.toggleListView)(true));\n        dispatch((0, _artworkBrowser.updateSort)(sortValue));\n      }\n    }\n  };\n};\n\nHeaderMobile.propTypes = propTypes;\n\nvar _default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(HeaderMobile);\n\nexports.default = _default;",{"version":3,"sources":["src/desktop/apps/auction/components/artwork_browser/header/HeaderMobile.js"],"names":["propTypes","sortMap","object","isRequired","totalLabel","string","updateSortAction","func","HeaderMobile","props","b","event","target","value","map","sortName","sort","mapStateToProps","state","artworkBrowser","filterParams","isFetchingArtworks","total","selectedSort","default","mapDispatchToProps","dispatch","sortValue"],"mappings":";;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA,IAAMA,YAAY;AAChBC,WAAS,mBAAUC,MAAV,CAAiBC,UADV;AAEhBC,cAAY,mBAAUC,MAAV,CAAiBF,UAFb;AAGhBG,oBAAkB,mBAAUC,IAAV,CAAeJ;AAHjB,CAAlB;;AAMA,SAASK,YAAT,CAAuBC,KAAvB,EAA8B;AAAA,MAE1BR,OAF0B,GAKxBQ,KALwB,CAE1BR,OAF0B;AAAA,MAG1BG,UAH0B,GAKxBK,KALwB,CAG1BL,UAH0B;AAAA,MAI1BE,gBAJ0B,GAKxBG,KALwB,CAI1BH,gBAJ0B;AAO5B,MAAMI,IAAI,wBAAM,+BAAN,CAAV;AAEA,SACE;AAAQ,eAAWA;AAAnB,KACE;AAAK,eAAWA,EAAE,OAAF;AAAhB,KACE,yCACGN,UADH,CADF,CADF,EAOE;AAAK,eAAWM,EAAE,MAAF;AAAhB,KACE;AACE,SAAI,KADN;AAEE,cAAU,kBAACC,KAAD;AAAA,aAAWL,iBAAiBK,MAAMC,MAAN,CAAaC,KAA9B,CAAX;AAAA;AAFZ,KAKI,oBAAEC,GAAF,CAAMb,OAAN,EAAe,UAACc,QAAD,EAAWC,IAAX,EAAoB;AACjC,WACE;AAAQ,aAAOA,IAAf;AAAqB,WAAKA;AAA1B,OACGD,QADH,CADF;AAKD,GAND,CALJ,CADF,CAPF,CADF;AA0BD;;AAED,IAAME,kBAAkB,SAAlBA,eAAkB,CAACC,KAAD,EAAW;AAAA,8BAM7BA,MAAMC,cANuB;AAAA,MAE/BC,YAF+B,yBAE/BA,YAF+B;AAAA,MAG/BC,kBAH+B,yBAG/BA,kBAH+B;AAAA,MAI/BpB,OAJ+B,yBAI/BA,OAJ+B;AAAA,MAK/BqB,KAL+B,yBAK/BA,KAL+B;AAQjC,MAAMC,eAAeH,aAAaJ,IAAlC;AAEA,MAAMZ,aAAaiB,qBACf,YADe,aAEZC,KAFY,UAAnB;AAIA,SAAO;AACLF,8BADK;AAELG,8BAFK;AAGLtB;AAAWuB,eAAS;AAApB,OAAkCvB,OAAlC,CAHK;AAILG;AAJK,GAAP;AAMD,CApBD;;AAsBA,IAAMqB,qBAAqB,SAArBA,kBAAqB,CAACC,QAAD;AAAA,SAAe;AACxCpB,sBAAkB,0BAACqB,SAAD,EAAe;AAC/B,UAAIA,cAAc,SAAlB,EAA6B;AAC3BD,iBAAS,oCAAe,KAAf,CAAT;AACAA,iBAAS,gCAAW,UAAX,CAAT,EAF2B,CAEM;AAClC,OAHD,MAGO;AACLA,iBAAS,oCAAe,IAAf,CAAT;AACAA,iBAAS,gCAAWC,SAAX,CAAT;AACD;AACF;AATuC,GAAf;AAAA,CAA3B;;AAYAnB,aAAaR,SAAb,GAAyBA,SAAzB;;eAEe,yBACbiB,eADa,EAEbQ,kBAFa,EAGbjB,YAHa,C","file":"/Users/eve/development/force/src/desktop/apps/auction/components/artwork_browser/header/HeaderMobile.js","sourceRoot":"/Users/eve/development/force","sourcesContent":["import _ from 'underscore'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport block from 'bem-cn-lite'\nimport { connect } from 'react-redux'\nimport { toggleListView, updateSort } from 'desktop/apps/auction/actions/artworkBrowser'\n\nconst propTypes = {\n  sortMap: PropTypes.object.isRequired,\n  totalLabel: PropTypes.string.isRequired,\n  updateSortAction: PropTypes.func.isRequired\n}\n\nfunction HeaderMobile (props) {\n  const {\n    sortMap,\n    totalLabel,\n    updateSortAction\n  } = props\n\n  const b = block('auction-artworks-HeaderMobile')\n\n  return (\n    <header className={b()}>\n      <div className={b('total')}>\n        <em>\n          {totalLabel}\n        </em>\n      </div>\n\n      <div className={b('sort')}>\n        <select\n          dir='rtl'\n          onChange={(event) => updateSortAction(event.target.value)}\n        >\n          {\n            _.map(sortMap, (sortName, sort) => {\n              return (\n                <option value={sort} key={sort}>\n                  {sortName}\n                </option>\n              )\n            })\n          }\n        </select>\n      </div>\n    </header>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  const {\n    filterParams,\n    isFetchingArtworks,\n    sortMap,\n    total\n  } = state.artworkBrowser\n\n  const selectedSort = filterParams.sort\n\n  const totalLabel = isFetchingArtworks\n    ? 'Loading...'\n    : `${total} Lots`\n\n  return {\n    filterParams,\n    selectedSort,\n    sortMap: { default: 'Default', ...sortMap },\n    totalLabel\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n  updateSortAction: (sortValue) => {\n    if (sortValue === 'default') {\n      dispatch(toggleListView(false))\n      dispatch(updateSort('position')) // default\n    } else {\n      dispatch(toggleListView(true))\n      dispatch(updateSort(sortValue))\n    }\n  }\n})\n\nHeaderMobile.propTypes = propTypes\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(HeaderMobile)\n"]}]}