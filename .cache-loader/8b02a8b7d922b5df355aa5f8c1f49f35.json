{"remainingRequest":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js??ref--2-1!/Users/eve/development/force/src/desktop/components/react/responsive_window/index.js","dependencies":[{"path":"/Users/eve/development/force/src/desktop/components/react/responsive_window/index.js","mtime":1519227436000},{"path":"/Users/eve/development/force/.babelrc","mtime":1528124541000},{"path":"/Users/eve/development/force/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.responsiveWindowReducer = responsiveWindowReducer;\nObject.defineProperty(exports, \"composeReducers\", {\n  enumerable: true,\n  get: function get() {\n    return _composeReducers.composeReducers;\n  }\n});\nexports.default = exports.responsiveWindowAction = void 0;\n\nvar _getPrototypeOf = _interopRequireDefault(require(\"@babel/runtime/core-js/object/get-prototype-of\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _updeep = _interopRequireDefault(require(\"updeep\"));\n\nvar _composeReducers = require(\"../utils/composeReducers\");\n\nvar _reactRedux = require(\"react-redux\");\n\nvar _underscore = require(\"underscore\");\n\n// Set responsive-breakpoint width. Must match value found at\n// desktop/components/stylus_lib/index.styl#25 (responsive-mobile-width - 1).\nvar MOBILE_BREAKPOINT = 767; // Actions\n\nvar RESIZE_WINDOW = 'RESIZE_WINDOW';\n\nvar responsiveWindowAction = function responsiveWindowAction(windowSize) {\n  return {\n    type: RESIZE_WINDOW,\n    payload: {\n      windowSize: windowSize\n    }\n  };\n}; // Reducer\n\n\nexports.responsiveWindowAction = responsiveWindowAction;\n\nfunction responsiveWindowReducer(state, action) {\n  switch (action.type) {\n    case RESIZE_WINDOW:\n      {\n        return (0, _updeep.default)({\n          isMobile: action.payload.windowSize <= MOBILE_BREAKPOINT\n        }, state);\n      }\n\n    default:\n      return state;\n  }\n}\n\nvar ResponsiveWindow =\n/*#__PURE__*/\nfunction (_Component) {\n  (0, _inherits2.default)(ResponsiveWindow, _Component);\n\n  function ResponsiveWindow() {\n    var _ref;\n\n    var _temp, _this;\n\n    (0, _classCallCheck2.default)(this, ResponsiveWindow);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return (0, _possibleConstructorReturn2.default)(_this, (_temp = _this = (0, _possibleConstructorReturn2.default)(this, (_ref = ResponsiveWindow.__proto__ || (0, _getPrototypeOf.default)(ResponsiveWindow)).call.apply(_ref, [this].concat(args))), Object.defineProperty((0, _assertThisInitialized2.default)(_this), \"handleResizeEvent\", {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: function value() {\n        _this.props.onChange(window.innerWidth);\n      }\n    }), _temp));\n  }\n\n  (0, _createClass2.default)(ResponsiveWindow, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      window.addEventListener('resize', this.handleResizeEvent);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener('resize', this.handleResizeEvent);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _react.default.createElement(\"div\", null, this.props.children);\n    }\n  }]);\n  return ResponsiveWindow;\n}(_react.Component);\n\nObject.defineProperty(ResponsiveWindow, \"propTypes\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    children: _propTypes.default.node.isRequired,\n    onChange: _propTypes.default.func.isRequired\n  }\n});\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  var onChange = (0, _underscore.debounce)(function (innerWidth) {\n    return dispatch(responsiveWindowAction(innerWidth));\n  }, 10, true);\n  return {\n    onChange: onChange\n  };\n}; // API\n\n\nvar _default = (0, _reactRedux.connect)(null, mapDispatchToProps)(ResponsiveWindow);\n\nexports.default = _default;",{"version":3,"sources":["src/desktop/components/react/responsive_window/index.js"],"names":["MOBILE_BREAKPOINT","RESIZE_WINDOW","responsiveWindowAction","windowSize","type","payload","responsiveWindowReducer","state","action","isMobile","ResponsiveWindow","props","onChange","window","innerWidth","addEventListener","handleResizeEvent","removeEventListener","children","node","isRequired","func","mapDispatchToProps","dispatch"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;AACA;AACA,IAAMA,oBAAoB,GAA1B,C,CAEA;;AACA,IAAMC,gBAAgB,eAAtB;;AAEA,IAAMC,yBAAyB,SAAzBA,sBAAyB,CAACC,UAAD;AAAA,SAAiB;AAC9CC,UAAMH,aADwC;AAE9CI,aAAS;AACPF;AADO;AAFqC,GAAjB;AAAA,CAA/B,C,CAOA;;;;;AACA,SAASG,uBAAT,CAAiCC,KAAjC,EAAwCC,MAAxC,EAAgD;AAC9C,UAAQA,OAAOJ,IAAf;AACE,SAAKH,aAAL;AAAoB;AAClB,eAAO,qBACL;AACEQ,oBAAUD,OAAOH,OAAP,CAAeF,UAAf,IAA6BH;AADzC,SADK,EAILO,KAJK,CAAP;AAMD;;AACD;AACE,aAAOA,KAAP;AAVJ;AAYD;;IAEKG,gB;;;;;;;;;;;;;;;;;;;;aAcgB,iBAAM;AACxB,cAAKC,KAAL,CAAWC,QAAX,CAAoBC,OAAOC,UAA3B;AACD;;;;;;wCAVmB;AAClBD,aAAOE,gBAAP,CAAwB,QAAxB,EAAkC,KAAKC,iBAAvC;AACD;;;2CAEsB;AACrBH,aAAOI,mBAAP,CAA2B,QAA3B,EAAqC,KAAKD,iBAA1C;AACD;;;6BAMQ;AACP,aAAO,0CAAM,KAAKL,KAAL,CAAWO,QAAjB,CAAP;AACD;;;;;sBApBGR,gB;;;;SACe;AACjBQ,cAAU,mBAAUC,IAAV,CAAeC,UADR;AAEjBR,cAAU,mBAAUS,IAAV,CAAeD;AAFR;;;AAsBrB,IAAME,qBAAqB,SAArBA,kBAAqB,CAACC,QAAD,EAAc;AACvC,MAAMX,WAAW,0BACf,UAACE,UAAD;AAAA,WAAgBS,SAASrB,uBAAuBY,UAAvB,CAAT,CAAhB;AAAA,GADe,EAEf,EAFe,EAGf,IAHe,CAAjB;AAMA,SAAO;AACLF;AADK,GAAP;AAGD,CAVD,C,CAYA;;;eAGe,yBAAQ,IAAR,EAAcU,kBAAd,EAAkCZ,gBAAlC,C","file":"/Users/eve/development/force/src/desktop/components/react/responsive_window/index.js","sourceRoot":"/Users/eve/development/force","sourcesContent":["import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport u from 'updeep'\nimport { composeReducers } from 'desktop/components/react/utils/composeReducers'\nimport { connect } from 'react-redux'\nimport { debounce } from 'underscore'\n\n// Set responsive-breakpoint width. Must match value found at\n// desktop/components/stylus_lib/index.styl#25 (responsive-mobile-width - 1).\nconst MOBILE_BREAKPOINT = 767\n\n// Actions\nconst RESIZE_WINDOW = 'RESIZE_WINDOW'\n\nconst responsiveWindowAction = (windowSize) => ({\n  type: RESIZE_WINDOW,\n  payload: {\n    windowSize,\n  },\n})\n\n// Reducer\nfunction responsiveWindowReducer(state, action) {\n  switch (action.type) {\n    case RESIZE_WINDOW: {\n      return u(\n        {\n          isMobile: action.payload.windowSize <= MOBILE_BREAKPOINT,\n        },\n        state\n      )\n    }\n    default:\n      return state\n  }\n}\n\nclass ResponsiveWindow extends Component {\n  static propTypes = {\n    children: PropTypes.node.isRequired,\n    onChange: PropTypes.func.isRequired,\n  }\n\n  componentDidMount() {\n    window.addEventListener('resize', this.handleResizeEvent)\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.handleResizeEvent)\n  }\n\n  handleResizeEvent = () => {\n    this.props.onChange(window.innerWidth)\n  }\n\n  render() {\n    return <div>{this.props.children}</div>\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  const onChange = debounce(\n    (innerWidth) => dispatch(responsiveWindowAction(innerWidth)),\n    10,\n    true\n  )\n\n  return {\n    onChange,\n  }\n}\n\n// API\nexport { composeReducers, responsiveWindowAction, responsiveWindowReducer }\n\nexport default connect(null, mapDispatchToProps)(ResponsiveWindow)\n"]}]}