{"remainingRequest":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js??ref--2-1!/Users/eve/development/force/node_modules/commonmark-react-renderer/src/commonmark-react-renderer.js","dependencies":[{"path":"/Users/eve/development/force/node_modules/commonmark-react-renderer/src/commonmark-react-renderer.js","mtime":1510362399000},{"path":"/Users/eve/development/force/.babelrc","mtime":1528124541000},{"path":"/Users/eve/development/force/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["'use strict';\n\nvar _Object$keys = require(\"@babel/runtime/core-js/object/keys\");\n\n(function () {\n  var enterModule = require('react-hot-loader').enterModule;\n\n  enterModule && enterModule(module);\n})();\n\nvar React = require('react');\n\nvar assign = require('lodash.assign');\n\nvar isPlainObject = require('lodash.isplainobject');\n\nvar xssFilters = require('xss-filters');\n\nvar pascalCase = require('pascalcase');\n\nvar typeAliases = {\n  blockquote: 'block_quote',\n  thematicbreak: 'thematic_break',\n  htmlblock: 'html_block',\n  htmlinline: 'html_inline',\n  codeblock: 'code_block',\n  hardbreak: 'linebreak'\n};\nvar defaultRenderers = {\n  block_quote: 'blockquote',\n  // eslint-disable-line camelcase\n  emph: 'em',\n  linebreak: 'br',\n  image: 'img',\n  item: 'li',\n  link: 'a',\n  paragraph: 'p',\n  strong: 'strong',\n  thematic_break: 'hr',\n  // eslint-disable-line camelcase\n  html_block: HtmlRenderer,\n  // eslint-disable-line camelcase\n  html_inline: HtmlRenderer,\n  // eslint-disable-line camelcase\n  list: function List(props) {\n    var tag = props.type.toLowerCase() === 'bullet' ? 'ul' : 'ol';\n    var attrs = getCoreProps(props);\n\n    if (props.start !== null && props.start !== 1) {\n      attrs.start = props.start.toString();\n    }\n\n    return createElement(tag, attrs, props.children);\n  },\n  code_block: function CodeBlock(props) {\n    // eslint-disable-line camelcase\n    var className = props.language && 'language-' + props.language;\n    var code = createElement('code', {\n      className: className\n    }, props.literal);\n    return createElement('pre', getCoreProps(props), code);\n  },\n  code: function Code(props) {\n    return createElement('code', getCoreProps(props), props.children);\n  },\n  heading: function Heading(props) {\n    return createElement('h' + props.level, getCoreProps(props), props.children);\n  },\n  text: null,\n  softbreak: null\n};\n\nvar coreTypes = _Object$keys(defaultRenderers);\n\nfunction getCoreProps(props) {\n  return {\n    'key': props.nodeKey,\n    'className': props.className,\n    'data-sourcepos': props['data-sourcepos']\n  };\n}\n\nfunction normalizeTypeName(typeName) {\n  var norm = typeName.toLowerCase();\n  var type = typeAliases[norm] || norm;\n  return typeof defaultRenderers[type] !== 'undefined' ? type : typeName;\n}\n\nfunction normalizeRenderers(renderers) {\n  return _Object$keys(renderers || {}).reduce(function (normalized, type) {\n    var norm = normalizeTypeName(type);\n    normalized[norm] = renderers[type];\n    return normalized;\n  }, {});\n}\n\nfunction HtmlRenderer(props) {\n  var coreProps = getCoreProps(props);\n  var nodeProps = props.escapeHtml ? {} : {\n    dangerouslySetInnerHTML: {\n      __html: props.literal\n    }\n  };\n  var children = props.escapeHtml ? [props.literal] : null;\n\n  if (props.escapeHtml || !props.skipHtml) {\n    var actualProps = assign(coreProps, nodeProps);\n    return createElement(props.isBlock ? 'div' : 'span', actualProps, children);\n  }\n}\n\nfunction isGrandChildOfList(node) {\n  var grandparent = node.parent.parent;\n  return grandparent && grandparent.type.toLowerCase() === 'list' && grandparent.listTight;\n}\n\nfunction addChild(node, child) {\n  var parent = node;\n\n  do {\n    parent = parent.parent;\n  } while (!parent.react);\n\n  parent.react.children.push(child);\n}\n\nfunction createElement(tagName, props, children) {\n  var nodeChildren = Array.isArray(children) && children.reduce(reduceChildren, []);\n  var args = [tagName, props].concat(nodeChildren || children);\n  return React.createElement.apply(React, args);\n}\n\nfunction reduceChildren(children, child) {\n  var lastIndex = children.length - 1;\n\n  if (typeof child === 'string' && typeof children[lastIndex] === 'string') {\n    children[lastIndex] += child;\n  } else {\n    children.push(child);\n  }\n\n  return children;\n}\n\nfunction flattenPosition(pos) {\n  return [pos[0][0], ':', pos[0][1], '-', pos[1][0], ':', pos[1][1]].map(String).join('');\n} // For some nodes, we want to include more props than for others\n\n\nfunction getNodeProps(node, key, opts, renderer) {\n  var props = {\n    key: key\n  },\n      undef; // `sourcePos` is true if the user wants source information (line/column info from markdown source)\n\n  if (opts.sourcePos && node.sourcepos) {\n    props['data-sourcepos'] = flattenPosition(node.sourcepos);\n  }\n\n  var type = normalizeTypeName(node.type);\n\n  switch (type) {\n    case 'html_inline':\n    case 'html_block':\n      props.isBlock = type === 'html_block';\n      props.escapeHtml = opts.escapeHtml;\n      props.skipHtml = opts.skipHtml;\n      break;\n\n    case 'code_block':\n      var codeInfo = node.info ? node.info.split(/ +/) : [];\n\n      if (codeInfo.length > 0 && codeInfo[0].length > 0) {\n        props.language = codeInfo[0];\n        props.codeinfo = codeInfo;\n      }\n\n      break;\n\n    case 'code':\n      props.children = node.literal;\n      props.inline = true;\n      break;\n\n    case 'heading':\n      props.level = node.level;\n      break;\n\n    case 'softbreak':\n      props.softBreak = opts.softBreak;\n      break;\n\n    case 'link':\n      props.href = opts.transformLinkUri ? opts.transformLinkUri(node.destination) : node.destination;\n      props.title = node.title || undef;\n\n      if (opts.linkTarget) {\n        props.target = opts.linkTarget;\n      }\n\n      break;\n\n    case 'image':\n      props.src = opts.transformImageUri ? opts.transformImageUri(node.destination) : node.destination;\n      props.title = node.title || undef; // Commonmark treats image description as children. We just want the text\n\n      props.alt = node.react.children.join('');\n      node.react.children = undef;\n      break;\n\n    case 'list':\n      props.start = node.listStart;\n      props.type = node.listType;\n      props.tight = node.listTight;\n      break;\n\n    default:\n  }\n\n  if (typeof renderer !== 'string') {\n    props.literal = node.literal;\n  }\n\n  var children = props.children || node.react && node.react.children;\n\n  if (Array.isArray(children)) {\n    props.children = children.reduce(reduceChildren, []) || null;\n  }\n\n  return props;\n}\n\nfunction getPosition(node) {\n  if (!node) {\n    return null;\n  }\n\n  if (node.sourcepos) {\n    return flattenPosition(node.sourcepos);\n  }\n\n  return getPosition(node.parent);\n}\n\nfunction renderNodes(block) {\n  var walker = block.walker();\n  var propOptions = {\n    sourcePos: this.sourcePos,\n    escapeHtml: this.escapeHtml,\n    skipHtml: this.skipHtml,\n    transformLinkUri: this.transformLinkUri,\n    transformImageUri: this.transformImageUri,\n    softBreak: this.softBreak,\n    linkTarget: this.linkTarget\n  };\n  var e,\n      node,\n      entering,\n      leaving,\n      type,\n      doc,\n      key,\n      nodeProps,\n      prevPos,\n      prevIndex = 0;\n\n  while (e = walker.next()) {\n    var pos = getPosition(e.node.sourcepos ? e.node : e.node.parent);\n\n    if (prevPos === pos) {\n      key = pos + prevIndex;\n      prevIndex++;\n    } else {\n      key = pos;\n      prevIndex = 0;\n    }\n\n    prevPos = pos;\n    entering = e.entering;\n    leaving = !entering;\n    node = e.node;\n    type = normalizeTypeName(node.type);\n    nodeProps = null; // If we have not assigned a document yet, assume the current node is just that\n\n    if (!doc) {\n      doc = node;\n      node.react = {\n        children: []\n      };\n      continue;\n    } else if (node === doc) {\n      // When we're leaving...\n      continue;\n    } // In HTML, we don't want paragraphs inside of list items\n\n\n    if (type === 'paragraph' && isGrandChildOfList(node)) {\n      continue;\n    } // If we're skipping HTML nodes, don't keep processing\n\n\n    if (this.skipHtml && (type === 'html_block' || type === 'html_inline')) {\n      continue;\n    }\n\n    var isDocument = node === doc;\n    var disallowedByConfig = this.allowedTypes.indexOf(type) === -1;\n    var disallowedByUser = false; // Do we have a user-defined function?\n\n    var isCompleteParent = node.isContainer && leaving;\n    var renderer = this.renderers[type];\n\n    if (this.allowNode && (isCompleteParent || !node.isContainer)) {\n      var nodeChildren = isCompleteParent ? node.react.children : [];\n      nodeProps = getNodeProps(node, key, propOptions, renderer);\n      disallowedByUser = !this.allowNode({\n        type: pascalCase(type),\n        renderer: this.renderers[type],\n        props: nodeProps,\n        children: nodeChildren\n      });\n    }\n\n    if (!isDocument && (disallowedByUser || disallowedByConfig)) {\n      if (!this.unwrapDisallowed && entering && node.isContainer) {\n        walker.resumeAt(node, false);\n      }\n\n      continue;\n    }\n\n    var isSimpleNode = type === 'text' || type === 'softbreak';\n\n    if (typeof renderer !== 'function' && !isSimpleNode && typeof renderer !== 'string') {\n      throw new Error('Renderer for type `' + pascalCase(node.type) + '` not defined or is not renderable');\n    }\n\n    if (node.isContainer && entering) {\n      node.react = {\n        component: renderer,\n        props: {},\n        children: []\n      };\n    } else {\n      var childProps = nodeProps || getNodeProps(node, key, propOptions, renderer);\n\n      if (renderer) {\n        childProps = typeof renderer === 'string' ? childProps : assign(childProps, {\n          nodeKey: childProps.key\n        });\n        addChild(node, React.createElement(renderer, childProps));\n      } else if (type === 'text') {\n        addChild(node, node.literal);\n      } else if (type === 'softbreak') {\n        // Softbreaks are usually treated as newlines, but in HTML we might want explicit linebreaks\n        var softBreak = this.softBreak === 'br' ? React.createElement('br', {\n          key: key\n        }) : this.softBreak;\n        addChild(node, softBreak);\n      }\n    }\n  }\n\n  return doc.react.children;\n}\n\nfunction defaultLinkUriFilter(uri) {\n  var url = uri.replace(/file:\\/\\//g, 'x-file://'); // React does a pretty swell job of escaping attributes,\n  // so to prevent double-escaping, we need to decode\n\n  return decodeURI(xssFilters.uriInDoubleQuotedAttr(url));\n}\n\nfunction ReactRenderer(options) {\n  var opts = options || {};\n\n  if (opts.allowedTypes && opts.disallowedTypes) {\n    throw new Error('Only one of `allowedTypes` and `disallowedTypes` should be defined');\n  }\n\n  if (opts.allowedTypes && !Array.isArray(opts.allowedTypes)) {\n    throw new Error('`allowedTypes` must be an array');\n  }\n\n  if (opts.disallowedTypes && !Array.isArray(opts.disallowedTypes)) {\n    throw new Error('`disallowedTypes` must be an array');\n  }\n\n  if (opts.allowNode && typeof opts.allowNode !== 'function') {\n    throw new Error('`allowNode` must be a function');\n  }\n\n  var linkFilter = opts.transformLinkUri;\n\n  if (typeof linkFilter === 'undefined') {\n    linkFilter = defaultLinkUriFilter;\n  } else if (linkFilter && typeof linkFilter !== 'function') {\n    throw new Error('`transformLinkUri` must either be a function, or `null` to disable');\n  }\n\n  var imageFilter = opts.transformImageUri;\n\n  if (typeof imageFilter !== 'undefined' && typeof imageFilter !== 'function') {\n    throw new Error('`transformImageUri` must be a function');\n  }\n\n  if (opts.renderers && !isPlainObject(opts.renderers)) {\n    throw new Error('`renderers` must be a plain object of `Type`: `Renderer` pairs');\n  }\n\n  var allowedTypes = opts.allowedTypes && opts.allowedTypes.map(normalizeTypeName) || coreTypes;\n\n  if (opts.disallowedTypes) {\n    var disallowed = opts.disallowedTypes.map(normalizeTypeName);\n    allowedTypes = allowedTypes.filter(function filterDisallowed(type) {\n      return disallowed.indexOf(type) === -1;\n    });\n  }\n\n  return {\n    sourcePos: Boolean(opts.sourcePos),\n    softBreak: opts.softBreak || '\\n',\n    renderers: assign({}, defaultRenderers, normalizeRenderers(opts.renderers)),\n    escapeHtml: Boolean(opts.escapeHtml),\n    skipHtml: Boolean(opts.skipHtml),\n    transformLinkUri: linkFilter,\n    transformImageUri: imageFilter,\n    allowNode: opts.allowNode,\n    allowedTypes: allowedTypes,\n    unwrapDisallowed: Boolean(opts.unwrapDisallowed),\n    render: renderNodes,\n    linkTarget: opts.linkTarget || false\n  };\n}\n\nReactRenderer.uriTransformer = defaultLinkUriFilter;\nReactRenderer.types = coreTypes.map(pascalCase);\nReactRenderer.renderers = coreTypes.reduce(function (renderers, type) {\n  renderers[pascalCase(type)] = defaultRenderers[type];\n  return renderers;\n}, {});\nmodule.exports = ReactRenderer;\n;\n\n(function () {\n  var reactHotLoader = require('react-hot-loader').default;\n\n  var leaveModule = require('react-hot-loader').leaveModule;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(typeAliases, \"typeAliases\", \"/Users/eve/development/force/node_modules/commonmark-react-renderer/src/commonmark-react-renderer.js\");\n  reactHotLoader.register(defaultRenderers, \"defaultRenderers\", \"/Users/eve/development/force/node_modules/commonmark-react-renderer/src/commonmark-react-renderer.js\");\n  reactHotLoader.register(coreTypes, \"coreTypes\", \"/Users/eve/development/force/node_modules/commonmark-react-renderer/src/commonmark-react-renderer.js\");\n  reactHotLoader.register(getCoreProps, \"getCoreProps\", \"/Users/eve/development/force/node_modules/commonmark-react-renderer/src/commonmark-react-renderer.js\");\n  reactHotLoader.register(normalizeTypeName, \"normalizeTypeName\", \"/Users/eve/development/force/node_modules/commonmark-react-renderer/src/commonmark-react-renderer.js\");\n  reactHotLoader.register(normalizeRenderers, \"normalizeRenderers\", \"/Users/eve/development/force/node_modules/commonmark-react-renderer/src/commonmark-react-renderer.js\");\n  reactHotLoader.register(HtmlRenderer, \"HtmlRenderer\", \"/Users/eve/development/force/node_modules/commonmark-react-renderer/src/commonmark-react-renderer.js\");\n  reactHotLoader.register(isGrandChildOfList, \"isGrandChildOfList\", \"/Users/eve/development/force/node_modules/commonmark-react-renderer/src/commonmark-react-renderer.js\");\n  reactHotLoader.register(addChild, \"addChild\", \"/Users/eve/development/force/node_modules/commonmark-react-renderer/src/commonmark-react-renderer.js\");\n  reactHotLoader.register(createElement, \"createElement\", \"/Users/eve/development/force/node_modules/commonmark-react-renderer/src/commonmark-react-renderer.js\");\n  reactHotLoader.register(reduceChildren, \"reduceChildren\", \"/Users/eve/development/force/node_modules/commonmark-react-renderer/src/commonmark-react-renderer.js\");\n  reactHotLoader.register(flattenPosition, \"flattenPosition\", \"/Users/eve/development/force/node_modules/commonmark-react-renderer/src/commonmark-react-renderer.js\");\n  reactHotLoader.register(getNodeProps, \"getNodeProps\", \"/Users/eve/development/force/node_modules/commonmark-react-renderer/src/commonmark-react-renderer.js\");\n  reactHotLoader.register(getPosition, \"getPosition\", \"/Users/eve/development/force/node_modules/commonmark-react-renderer/src/commonmark-react-renderer.js\");\n  reactHotLoader.register(renderNodes, \"renderNodes\", \"/Users/eve/development/force/node_modules/commonmark-react-renderer/src/commonmark-react-renderer.js\");\n  reactHotLoader.register(defaultLinkUriFilter, \"defaultLinkUriFilter\", \"/Users/eve/development/force/node_modules/commonmark-react-renderer/src/commonmark-react-renderer.js\");\n  reactHotLoader.register(ReactRenderer, \"ReactRenderer\", \"/Users/eve/development/force/node_modules/commonmark-react-renderer/src/commonmark-react-renderer.js\");\n  leaveModule(module);\n})();\n\n;",{"version":3,"sources":["node_modules/commonmark-react-renderer/src/commonmark-react-renderer.js"],"names":["React","require","assign","isPlainObject","xssFilters","pascalCase","typeAliases","blockquote","thematicbreak","htmlblock","htmlinline","codeblock","hardbreak","defaultRenderers","block_quote","emph","linebreak","image","item","link","paragraph","strong","thematic_break","html_block","HtmlRenderer","html_inline","list","List","props","tag","type","toLowerCase","attrs","getCoreProps","start","toString","createElement","children","code_block","CodeBlock","className","language","code","literal","Code","heading","Heading","level","text","softbreak","coreTypes","nodeKey","normalizeTypeName","typeName","norm","normalizeRenderers","renderers","reduce","normalized","coreProps","nodeProps","escapeHtml","dangerouslySetInnerHTML","__html","skipHtml","actualProps","isBlock","isGrandChildOfList","node","grandparent","parent","listTight","addChild","child","react","push","tagName","nodeChildren","Array","isArray","reduceChildren","args","concat","apply","lastIndex","length","flattenPosition","pos","map","String","join","getNodeProps","key","opts","renderer","undef","sourcePos","sourcepos","codeInfo","info","split","codeinfo","inline","softBreak","href","transformLinkUri","destination","title","linkTarget","target","src","transformImageUri","alt","listStart","listType","tight","getPosition","renderNodes","block","walker","propOptions","e","entering","leaving","doc","prevPos","prevIndex","next","isDocument","disallowedByConfig","allowedTypes","indexOf","disallowedByUser","isCompleteParent","isContainer","allowNode","unwrapDisallowed","resumeAt","isSimpleNode","Error","component","childProps","defaultLinkUriFilter","uri","url","replace","decodeURI","uriInDoubleQuotedAttr","ReactRenderer","options","disallowedTypes","linkFilter","imageFilter","disallowed","filter","filterDisallowed","Boolean","render","uriTransformer","types","module","exports"],"mappings":"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","file":"/Users/eve/development/force/node_modules/commonmark-react-renderer/src/commonmark-react-renderer.js","sourceRoot":"/Users/eve/development/force","sourcesContent":["'use strict';\n\nvar React = require('react');\nvar assign = require('lodash.assign');\nvar isPlainObject = require('lodash.isplainobject');\nvar xssFilters = require('xss-filters');\nvar pascalCase = require('pascalcase');\n\nvar typeAliases = {\n    blockquote: 'block_quote',\n    thematicbreak: 'thematic_break',\n    htmlblock: 'html_block',\n    htmlinline: 'html_inline',\n    codeblock: 'code_block',\n    hardbreak: 'linebreak'\n};\n\nvar defaultRenderers = {\n    block_quote: 'blockquote', // eslint-disable-line camelcase\n    emph: 'em',\n    linebreak: 'br',\n    image: 'img',\n    item: 'li',\n    link: 'a',\n    paragraph: 'p',\n    strong: 'strong',\n    thematic_break: 'hr', // eslint-disable-line camelcase\n\n    html_block: HtmlRenderer, // eslint-disable-line camelcase\n    html_inline: HtmlRenderer, // eslint-disable-line camelcase\n\n    list: function List(props) {\n        var tag = props.type.toLowerCase() === 'bullet' ? 'ul' : 'ol';\n        var attrs = getCoreProps(props);\n\n        if (props.start !== null && props.start !== 1) {\n            attrs.start = props.start.toString();\n        }\n\n        return createElement(tag, attrs, props.children);\n    },\n    code_block: function CodeBlock(props) { // eslint-disable-line camelcase\n        var className = props.language && 'language-' + props.language;\n        var code = createElement('code', { className: className }, props.literal);\n        return createElement('pre', getCoreProps(props), code);\n    },\n    code: function Code(props) {\n        return createElement('code', getCoreProps(props), props.children);\n    },\n    heading: function Heading(props) {\n        return createElement('h' + props.level, getCoreProps(props), props.children);\n    },\n\n    text: null,\n    softbreak: null\n};\n\nvar coreTypes = Object.keys(defaultRenderers);\n\nfunction getCoreProps(props) {\n    return {\n        'key': props.nodeKey,\n        'className': props.className,\n        'data-sourcepos': props['data-sourcepos']\n    };\n}\n\nfunction normalizeTypeName(typeName) {\n    var norm = typeName.toLowerCase();\n    var type = typeAliases[norm] || norm;\n    return typeof defaultRenderers[type] !== 'undefined' ? type : typeName;\n}\n\nfunction normalizeRenderers(renderers) {\n    return Object.keys(renderers || {}).reduce(function(normalized, type) {\n        var norm = normalizeTypeName(type);\n        normalized[norm] = renderers[type];\n        return normalized;\n    }, {});\n}\n\nfunction HtmlRenderer(props) {\n    var coreProps = getCoreProps(props);\n    var nodeProps = props.escapeHtml ? {} : { dangerouslySetInnerHTML: { __html: props.literal } };\n    var children = props.escapeHtml ? [props.literal] : null;\n\n    if (props.escapeHtml || !props.skipHtml) {\n        var actualProps = assign(coreProps, nodeProps);\n        return createElement(props.isBlock ? 'div' : 'span', actualProps, children);\n    }\n}\n\nfunction isGrandChildOfList(node) {\n    var grandparent = node.parent.parent;\n    return (\n        grandparent &&\n        grandparent.type.toLowerCase() === 'list' &&\n        grandparent.listTight\n    );\n}\n\nfunction addChild(node, child) {\n    var parent = node;\n    do {\n        parent = parent.parent;\n    } while (!parent.react);\n\n    parent.react.children.push(child);\n}\n\nfunction createElement(tagName, props, children) {\n    var nodeChildren = Array.isArray(children) && children.reduce(reduceChildren, []);\n    var args = [tagName, props].concat(nodeChildren || children);\n    return React.createElement.apply(React, args);\n}\n\nfunction reduceChildren(children, child) {\n    var lastIndex = children.length - 1;\n    if (typeof child === 'string' && typeof children[lastIndex] === 'string') {\n        children[lastIndex] += child;\n    } else {\n        children.push(child);\n    }\n\n    return children;\n}\n\nfunction flattenPosition(pos) {\n    return [\n        pos[0][0], ':', pos[0][1], '-',\n        pos[1][0], ':', pos[1][1]\n    ].map(String).join('');\n}\n\n// For some nodes, we want to include more props than for others\nfunction getNodeProps(node, key, opts, renderer) {\n    var props = { key: key }, undef;\n\n    // `sourcePos` is true if the user wants source information (line/column info from markdown source)\n    if (opts.sourcePos && node.sourcepos) {\n        props['data-sourcepos'] = flattenPosition(node.sourcepos);\n    }\n\n    var type = normalizeTypeName(node.type);\n\n    switch (type) {\n        case 'html_inline':\n        case 'html_block':\n            props.isBlock = type === 'html_block';\n            props.escapeHtml = opts.escapeHtml;\n            props.skipHtml = opts.skipHtml;\n            break;\n        case 'code_block':\n            var codeInfo = node.info ? node.info.split(/ +/) : [];\n            if (codeInfo.length > 0 && codeInfo[0].length > 0) {\n                props.language = codeInfo[0];\n                props.codeinfo = codeInfo;\n            }\n            break;\n        case 'code':\n            props.children = node.literal;\n            props.inline = true;\n            break;\n        case 'heading':\n            props.level = node.level;\n            break;\n        case 'softbreak':\n            props.softBreak = opts.softBreak;\n            break;\n        case 'link':\n            props.href = opts.transformLinkUri ? opts.transformLinkUri(node.destination) : node.destination;\n            props.title = node.title || undef;\n            if (opts.linkTarget) {\n                props.target = opts.linkTarget;\n            }\n            break;\n        case 'image':\n            props.src = opts.transformImageUri ? opts.transformImageUri(node.destination) : node.destination;\n            props.title = node.title || undef;\n\n            // Commonmark treats image description as children. We just want the text\n            props.alt = node.react.children.join('');\n            node.react.children = undef;\n            break;\n        case 'list':\n            props.start = node.listStart;\n            props.type = node.listType;\n            props.tight = node.listTight;\n            break;\n        default:\n    }\n\n    if (typeof renderer !== 'string') {\n        props.literal = node.literal;\n    }\n\n    var children = props.children || (node.react && node.react.children);\n    if (Array.isArray(children)) {\n        props.children = children.reduce(reduceChildren, []) || null;\n    }\n\n    return props;\n}\n\nfunction getPosition(node) {\n    if (!node) {\n        return null;\n    }\n\n    if (node.sourcepos) {\n        return flattenPosition(node.sourcepos);\n    }\n\n    return getPosition(node.parent);\n}\n\nfunction renderNodes(block) {\n    var walker = block.walker();\n\n    var propOptions = {\n        sourcePos: this.sourcePos,\n        escapeHtml: this.escapeHtml,\n        skipHtml: this.skipHtml,\n        transformLinkUri: this.transformLinkUri,\n        transformImageUri: this.transformImageUri,\n        softBreak: this.softBreak,\n        linkTarget: this.linkTarget\n    };\n\n    var e, node, entering, leaving, type, doc, key, nodeProps, prevPos, prevIndex = 0;\n    while ((e = walker.next())) {\n        var pos = getPosition(e.node.sourcepos ? e.node : e.node.parent);\n        if (prevPos === pos) {\n            key = pos + prevIndex;\n            prevIndex++;\n        } else {\n            key = pos;\n            prevIndex = 0;\n        }\n\n        prevPos = pos;\n        entering = e.entering;\n        leaving = !entering;\n        node = e.node;\n        type = normalizeTypeName(node.type);\n        nodeProps = null;\n\n        // If we have not assigned a document yet, assume the current node is just that\n        if (!doc) {\n            doc = node;\n            node.react = { children: [] };\n            continue;\n        } else if (node === doc) {\n            // When we're leaving...\n            continue;\n        }\n\n        // In HTML, we don't want paragraphs inside of list items\n        if (type === 'paragraph' && isGrandChildOfList(node)) {\n            continue;\n        }\n\n        // If we're skipping HTML nodes, don't keep processing\n        if (this.skipHtml && (type === 'html_block' || type === 'html_inline')) {\n            continue;\n        }\n\n        var isDocument = node === doc;\n        var disallowedByConfig = this.allowedTypes.indexOf(type) === -1;\n        var disallowedByUser = false;\n\n        // Do we have a user-defined function?\n        var isCompleteParent = node.isContainer && leaving;\n        var renderer = this.renderers[type];\n        if (this.allowNode && (isCompleteParent || !node.isContainer)) {\n            var nodeChildren = isCompleteParent ? node.react.children : [];\n\n            nodeProps = getNodeProps(node, key, propOptions, renderer);\n            disallowedByUser = !this.allowNode({\n                type: pascalCase(type),\n                renderer: this.renderers[type],\n                props: nodeProps,\n                children: nodeChildren\n            });\n        }\n\n        if (!isDocument && (disallowedByUser || disallowedByConfig)) {\n            if (!this.unwrapDisallowed && entering && node.isContainer) {\n                walker.resumeAt(node, false);\n            }\n\n            continue;\n        }\n\n        var isSimpleNode = type === 'text' || type === 'softbreak';\n        if (typeof renderer !== 'function' && !isSimpleNode && typeof renderer !== 'string') {\n            throw new Error(\n                'Renderer for type `' + pascalCase(node.type) + '` not defined or is not renderable'\n            );\n        }\n\n        if (node.isContainer && entering) {\n            node.react = {\n                component: renderer,\n                props: {},\n                children: []\n            };\n        } else {\n            var childProps = nodeProps || getNodeProps(node, key, propOptions, renderer);\n            if (renderer) {\n                childProps = typeof renderer === 'string'\n                    ? childProps\n                    : assign(childProps, {nodeKey: childProps.key});\n\n                addChild(node, React.createElement(renderer, childProps));\n            } else if (type === 'text') {\n                addChild(node, node.literal);\n            } else if (type === 'softbreak') {\n                // Softbreaks are usually treated as newlines, but in HTML we might want explicit linebreaks\n                var softBreak = (\n                    this.softBreak === 'br' ?\n                    React.createElement('br', {key: key}) :\n                    this.softBreak\n                );\n                addChild(node, softBreak);\n            }\n        }\n    }\n\n    return doc.react.children;\n}\n\nfunction defaultLinkUriFilter(uri) {\n    var url = uri.replace(/file:\\/\\//g, 'x-file://');\n\n    // React does a pretty swell job of escaping attributes,\n    // so to prevent double-escaping, we need to decode\n    return decodeURI(xssFilters.uriInDoubleQuotedAttr(url));\n}\n\nfunction ReactRenderer(options) {\n    var opts = options || {};\n\n    if (opts.allowedTypes && opts.disallowedTypes) {\n        throw new Error('Only one of `allowedTypes` and `disallowedTypes` should be defined');\n    }\n\n    if (opts.allowedTypes && !Array.isArray(opts.allowedTypes)) {\n        throw new Error('`allowedTypes` must be an array');\n    }\n\n    if (opts.disallowedTypes && !Array.isArray(opts.disallowedTypes)) {\n        throw new Error('`disallowedTypes` must be an array');\n    }\n\n    if (opts.allowNode && typeof opts.allowNode !== 'function') {\n        throw new Error('`allowNode` must be a function');\n    }\n\n    var linkFilter = opts.transformLinkUri;\n    if (typeof linkFilter === 'undefined') {\n        linkFilter = defaultLinkUriFilter;\n    } else if (linkFilter && typeof linkFilter !== 'function') {\n        throw new Error('`transformLinkUri` must either be a function, or `null` to disable');\n    }\n\n    var imageFilter = opts.transformImageUri;\n    if (typeof imageFilter !== 'undefined' && typeof imageFilter !== 'function') {\n        throw new Error('`transformImageUri` must be a function');\n    }\n\n    if (opts.renderers && !isPlainObject(opts.renderers)) {\n        throw new Error('`renderers` must be a plain object of `Type`: `Renderer` pairs');\n    }\n\n    var allowedTypes = (opts.allowedTypes && opts.allowedTypes.map(normalizeTypeName)) || coreTypes;\n    if (opts.disallowedTypes) {\n        var disallowed = opts.disallowedTypes.map(normalizeTypeName);\n        allowedTypes = allowedTypes.filter(function filterDisallowed(type) {\n            return disallowed.indexOf(type) === -1;\n        });\n    }\n\n    return {\n        sourcePos: Boolean(opts.sourcePos),\n        softBreak: opts.softBreak || '\\n',\n        renderers: assign({}, defaultRenderers, normalizeRenderers(opts.renderers)),\n        escapeHtml: Boolean(opts.escapeHtml),\n        skipHtml: Boolean(opts.skipHtml),\n        transformLinkUri: linkFilter,\n        transformImageUri: imageFilter,\n        allowNode: opts.allowNode,\n        allowedTypes: allowedTypes,\n        unwrapDisallowed: Boolean(opts.unwrapDisallowed),\n        render: renderNodes,\n        linkTarget: opts.linkTarget || false\n    };\n}\n\nReactRenderer.uriTransformer = defaultLinkUriFilter;\nReactRenderer.types = coreTypes.map(pascalCase);\nReactRenderer.renderers = coreTypes.reduce(function(renderers, type) {\n    renderers[pascalCase(type)] = defaultRenderers[type];\n    return renderers;\n}, {});\n\nmodule.exports = ReactRenderer;\n"]}]}