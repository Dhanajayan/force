{"remainingRequest":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js??ref--2-1!/Users/eve/development/force/src/mobile/analytics/before_ready.js","dependencies":[{"path":"/Users/eve/development/force/src/mobile/analytics/before_ready.js","mtime":1530028054000},{"path":"/Users/eve/development/force/.babelrc","mtime":1537178749000},{"path":"/Users/eve/development/force/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n// Analytics code that needs to run before page load and analytics.ready\n//\nimport { data as sd } from 'sharify';\nimport { reportLoadTimeToVolley } from \"../../lib/volley\"; // Disable Parsely firing on non-article/section pages\n\nif (!location.pathname.match(/^\\/article/)) {\n  window.PARSELY = {\n    autotrack: false\n  };\n} // Track pageview\n\n\nanalytics.page({\n  path: location.pathname\n}, {\n  integrations: {\n    Marketo: false\n  }\n}); // Track pageload speed\n\nif (window.performance && window.performance.timing && sd.TRACK_PAGELOAD_PATHS) {\n  window.addEventListener('load', function () {\n    var pageType = window.sd.PAGE_TYPE || window.location.pathname.split('/')[1];\n\n    if (sd.TRACK_PAGELOAD_PATHS.split('|').includes(pageType)) {\n      window.setTimeout(function () {\n        var _window$performance$t = window.performance.timing,\n            requestStart = _window$performance$t.requestStart,\n            loadEventEnd = _window$performance$t.loadEventEnd,\n            domComplete = _window$performance$t.domComplete;\n        reportLoadTimeToVolley(requestStart, loadEventEnd, domComplete, pageType, 'mobile');\n      }, 0);\n    }\n  });\n}",{"version":3,"sources":["/Users/eve/development/force/src/mobile/analytics/before_ready.js"],"names":["data","sd","reportLoadTimeToVolley","location","pathname","match","window","PARSELY","autotrack","analytics","page","path","integrations","Marketo","performance","timing","TRACK_PAGELOAD_PATHS","addEventListener","pageType","PAGE_TYPE","split","includes","setTimeout","requestStart","loadEventEnd","domComplete"],"mappings":"AAAA;AACA;AACA;AAEA,SAASA,IAAI,IAAIC,EAAjB,QAA2B,SAA3B;AACA,SAASC,sBAAT,2B,CAEA;;AACA,IAAI,CAACC,QAAQ,CAACC,QAAT,CAAkBC,KAAlB,CAAwB,YAAxB,CAAL,EAA4C;AAC1CC,EAAAA,MAAM,CAACC,OAAP,GAAiB;AAAEC,IAAAA,SAAS,EAAE;AAAb,GAAjB;AACD,C,CAED;;;AACAC,SAAS,CAACC,IAAV,CACE;AAAEC,EAAAA,IAAI,EAAER,QAAQ,CAACC;AAAjB,CADF,EAEE;AAAEQ,EAAAA,YAAY,EAAE;AAAEC,IAAAA,OAAO,EAAE;AAAX;AAAhB,CAFF,E,CAKA;;AACA,IACEP,MAAM,CAACQ,WAAP,IACAR,MAAM,CAACQ,WAAP,CAAmBC,MADnB,IAEAd,EAAE,CAACe,oBAHL,EAIE;AACAV,EAAAA,MAAM,CAACW,gBAAP,CAAwB,MAAxB,EAAgC,YAAW;AACzC,QAAMC,QAAQ,GACZZ,MAAM,CAACL,EAAP,CAAUkB,SAAV,IAAuBb,MAAM,CAACH,QAAP,CAAgBC,QAAhB,CAAyBgB,KAAzB,CAA+B,GAA/B,EAAoC,CAApC,CADzB;;AAEA,QAAInB,EAAE,CAACe,oBAAH,CAAwBI,KAAxB,CAA8B,GAA9B,EAAmCC,QAAnC,CAA4CH,QAA5C,CAAJ,EAA2D;AACzDZ,MAAAA,MAAM,CAACgB,UAAP,CAAkB,YAAW;AAAA,oCAKvBhB,MAAM,CAACQ,WAAP,CAAmBC,MALI;AAAA,YAEzBQ,YAFyB,yBAEzBA,YAFyB;AAAA,YAGzBC,YAHyB,yBAGzBA,YAHyB;AAAA,YAIzBC,WAJyB,yBAIzBA,WAJyB;AAO3BvB,QAAAA,sBAAsB,CACpBqB,YADoB,EAEpBC,YAFoB,EAGpBC,WAHoB,EAIpBP,QAJoB,EAKpB,QALoB,CAAtB;AAOD,OAdD,EAcG,CAdH;AAeD;AACF,GApBD;AAqBD","sourcesContent":["//\n// Analytics code that needs to run before page load and analytics.ready\n//\n\nimport { data as sd } from 'sharify'\nimport { reportLoadTimeToVolley } from 'lib/volley'\n\n// Disable Parsely firing on non-article/section pages\nif (!location.pathname.match(/^\\/article/)) {\n  window.PARSELY = { autotrack: false }\n}\n\n// Track pageview\nanalytics.page(\n  { path: location.pathname },\n  { integrations: { Marketo: false } }\n)\n\n// Track pageload speed\nif (\n  window.performance &&\n  window.performance.timing &&\n  sd.TRACK_PAGELOAD_PATHS\n) {\n  window.addEventListener('load', function() {\n    const pageType =\n      window.sd.PAGE_TYPE || window.location.pathname.split('/')[1]\n    if (sd.TRACK_PAGELOAD_PATHS.split('|').includes(pageType)) {\n      window.setTimeout(function() {\n        const {\n          requestStart,\n          loadEventEnd,\n          domComplete,\n        } = window.performance.timing\n\n        reportLoadTimeToVolley(\n          requestStart,\n          loadEventEnd,\n          domComplete,\n          pageType,\n          'mobile'\n        )\n      }, 0)\n    }\n  })\n}\n"]}]}