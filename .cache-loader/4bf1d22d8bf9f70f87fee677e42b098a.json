{"remainingRequest":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js??ref--2-1!/Users/eve/development/force/src/desktop/apps/artist2/client.js","dependencies":[{"path":"/Users/eve/development/force/src/desktop/apps/artist2/client.js","mtime":1537178749000},{"path":"/Users/eve/development/force/.babelrc","mtime":1537178749000},{"path":"/Users/eve/development/force/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["(function () {\n  var enterModule = require('react-hot-loader').enterModule;\n\n  enterModule && enterModule(module);\n})();\n\nimport { buildClientApp } from \"@artsy/reaction/dist/Artsy/Router\";\nimport { data as sd } from 'sharify';\nimport { routes } from \"@artsy/reaction/dist/Apps/Artist/routes\";\nimport mediator from \"../../lib/mediator.coffee\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport styled from 'styled-components';\nimport qs from 'querystring';\nimport { clone, isArray } from 'underscore';\nmediator.on('artist:filter:changed', function (filters) {\n  onFilterChange(filters);\n});\nmediator.on('artist:tabclick', function (_ref) {\n  var to = _ref.to;\n  window.analytics.page({\n    path: to\n  }, {\n    integrations: {\n      Marketo: false\n    }\n  });\n});\nbuildClientApp({\n  routes: routes,\n  context: {\n    user: sd.CURRENT_USER,\n    mediator: mediator\n  }\n}).then(function (_ref2) {\n  var ClientApp = _ref2.ClientApp;\n  ReactDOM.hydrate(React.createElement(Container, null, React.createElement(ClientApp, null)), document.getElementById('react-root'));\n}).catch(function (error) {\n  console.error(error);\n});\n\nif (module.hot) {\n  module.hot.accept();\n} // Update URL with current filters and sort.\n\n\nvar onFilterChange = function onFilterChange(filters) {\n  var params = clone(filters);\n  Object.keys(params).forEach(function (filter) {\n    if (!params[filter] || isArray(params[filter]) && params[filter].length === 0) {\n      delete params[filter];\n    }\n  });\n  var fragment = '?' + qs.stringify(params);\n  window.history.pushState({}, null, fragment);\n}; // FIXME: Move this to Reaction\n\n\nvar Container =\n/*#__PURE__*/\nstyled.div.withConfig({\n  displayName: \"client__Container\",\n  componentId: \"s1xsyipz-0\"\n})([\"width:100%;max-width:1192px;margin:auto;\"]);\n;\n\n(function () {\n  var reactHotLoader = require('react-hot-loader').default;\n\n  var leaveModule = require('react-hot-loader').leaveModule;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(onFilterChange, \"onFilterChange\", \"/Users/eve/development/force/src/desktop/apps/artist2/client.js\");\n  reactHotLoader.register(Container, \"Container\", \"/Users/eve/development/force/src/desktop/apps/artist2/client.js\");\n  leaveModule(module);\n})();\n\n;",{"version":3,"sources":["/Users/eve/development/force/src/desktop/apps/artist2/client.js"],"names":["buildClientApp","data","sd","routes","mediator","React","ReactDOM","styled","qs","clone","isArray","on","filters","onFilterChange","to","window","analytics","page","path","integrations","Marketo","context","user","CURRENT_USER","then","ClientApp","hydrate","document","getElementById","catch","error","console","module","hot","accept","params","Object","keys","forEach","filter","length","fragment","stringify","history","pushState","Container","div"],"mappings":";;;;;;AAAA,SAASA,cAAT;AACA,SAASC,IAAI,IAAIC,EAAjB,QAA2B,SAA3B;AACA,SAASC,MAAT;AACA,OAAOC,QAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,EAAP,MAAe,aAAf;AACA,SAASC,KAAT,EAAgBC,OAAhB,QAA+B,YAA/B;AAEAN,QAAQ,CAACO,EAAT,CAAY,uBAAZ,EAAqC,UAAAC,OAAO,EAAI;AAC9CC,EAAAA,cAAc,CAACD,OAAD,CAAd;AACD,CAFD;AAIAR,QAAQ,CAACO,EAAT,CAAY,iBAAZ,EAA+B,gBAAY;AAAA,MAATG,EAAS,QAATA,EAAS;AACzCC,EAAAA,MAAM,CAACC,SAAP,CAAiBC,IAAjB,CAAsB;AAAEC,IAAAA,IAAI,EAAEJ;AAAR,GAAtB,EAAoC;AAAEK,IAAAA,YAAY,EAAE;AAAEC,MAAAA,OAAO,EAAE;AAAX;AAAhB,GAApC;AACD,CAFD;AAIApB,cAAc,CAAC;AACbG,EAAAA,MAAM,EAANA,MADa;AAEbkB,EAAAA,OAAO,EAAE;AACPC,IAAAA,IAAI,EAAEpB,EAAE,CAACqB,YADF;AAEPnB,IAAAA,QAAQ,EAARA;AAFO;AAFI,CAAD,CAAd,CAOGoB,IAPH,CAOQ,iBAAmB;AAAA,MAAhBC,SAAgB,SAAhBA,SAAgB;AACvBnB,EAAAA,QAAQ,CAACoB,OAAT,CACE,oBAAC,SAAD,QACE,oBAAC,SAAD,OADF,CADF,EAKEC,QAAQ,CAACC,cAAT,CAAwB,YAAxB,CALF;AAOD,CAfH,EAgBGC,KAhBH,CAgBS,UAAAC,KAAK,EAAI;AACdC,EAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACD,CAlBH;;AAoBA,IAAIE,MAAM,CAACC,GAAX,EAAgB;AACdD,EAAAA,MAAM,CAACC,GAAP,CAAWC,MAAX;AACD,C,CAED;;;AACA,IAAMrB,cAAc,GAAG,SAAjBA,cAAiB,CAAAD,OAAO,EAAI;AAChC,MAAMuB,MAAM,GAAG1B,KAAK,CAACG,OAAD,CAApB;AACAwB,EAAAA,MAAM,CAACC,IAAP,CAAYF,MAAZ,EAAoBG,OAApB,CAA4B,UAAAC,MAAM,EAAI;AACpC,QACE,CAACJ,MAAM,CAACI,MAAD,CAAP,IACC7B,OAAO,CAACyB,MAAM,CAACI,MAAD,CAAP,CAAP,IAA2BJ,MAAM,CAACI,MAAD,CAAN,CAAeC,MAAf,KAA0B,CAFxD,EAGE;AACA,aAAOL,MAAM,CAACI,MAAD,CAAb;AACD;AACF,GAPD;AASA,MAAME,QAAQ,GAAG,MAAMjC,EAAE,CAACkC,SAAH,CAAaP,MAAb,CAAvB;AACApB,EAAAA,MAAM,CAAC4B,OAAP,CAAeC,SAAf,CAAyB,EAAzB,EAA6B,IAA7B,EAAmCH,QAAnC;AACD,CAbD,C,CAeA;;;AACA,IAAMI,SAAS;AAAA;AAAGtC,MAAM,CAACuC,GAAV;AAAA;AAAA;AAAA,gDAAf;;;;;;;;;;;;0BAhBMjC,c;0BAgBAgC,S","sourcesContent":["import { buildClientApp } from 'reaction/Artsy/Router'\nimport { data as sd } from 'sharify'\nimport { routes } from 'reaction/Apps/Artist/routes'\nimport mediator from 'desktop/lib/mediator.coffee'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport styled from 'styled-components'\nimport qs from 'querystring'\nimport { clone, isArray } from 'underscore'\n\nmediator.on('artist:filter:changed', filters => {\n  onFilterChange(filters)\n})\n\nmediator.on('artist:tabclick', ({ to }) => {\n  window.analytics.page({ path: to }, { integrations: { Marketo: false } })\n})\n\nbuildClientApp({\n  routes,\n  context: {\n    user: sd.CURRENT_USER,\n    mediator,\n  },\n})\n  .then(({ ClientApp }) => {\n    ReactDOM.hydrate(\n      <Container>\n        <ClientApp />\n      </Container>,\n\n      document.getElementById('react-root')\n    )\n  })\n  .catch(error => {\n    console.error(error)\n  })\n\nif (module.hot) {\n  module.hot.accept()\n}\n\n// Update URL with current filters and sort.\nconst onFilterChange = filters => {\n  const params = clone(filters)\n  Object.keys(params).forEach(filter => {\n    if (\n      !params[filter] ||\n      (isArray(params[filter]) && params[filter].length === 0)\n    ) {\n      delete params[filter]\n    }\n  })\n\n  const fragment = '?' + qs.stringify(params)\n  window.history.pushState({}, null, fragment)\n}\n\n// FIXME: Move this to Reaction\nconst Container = styled.div`\n  width: 100%;\n  max-width: 1192px;\n  margin: auto;\n`\n"]}]}