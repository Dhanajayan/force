{"remainingRequest":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js??ref--2-1!/Users/eve/development/force/src/desktop/apps/consign/components/location_autocomplete/index.js","dependencies":[{"path":"/Users/eve/development/force/src/desktop/apps/consign/components/location_autocomplete/index.js","mtime":1519227436000},{"path":"/Users/eve/development/force/.babelrc","mtime":1537178749000},{"path":"/Users/eve/development/force/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _extends from \"@babel/runtime/helpers/extends\";\n\n(function () {\n  var enterModule = require('react-hot-loader').enterModule;\n\n  enterModule && enterModule(module);\n})();\n\nimport Autosuggest from 'react-autosuggest';\n\nvar Close = function Close(props) {\n  return React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"32\",\n    height: \"32\",\n    viewBox: \"0 0 32 32\"\n  }, props), React.createElement(\"path\", {\n    d: \"M28.042 6.064l-1.954-1.979-10.076 9.949L6.064 3.958 4.085 5.913l9.948 10.075-10.075 9.948 1.955 1.979 10.075-9.948 9.948 10.075 1.978-1.954-9.947-10.076z\"\n  }));\n};\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport block from 'bem-cn-lite';\nimport { connect } from 'react-redux';\nimport { chooseLocation, clearLocationSuggestions, fetchLocationSuggestions, unfreezeLocationInput, updateLocationAutocomplete } from \"../../client/actions\";\n\nfunction LocationAutocomplete(props) {\n  var chooseLocationAction = props.chooseLocationAction,\n      clearLocationSuggestionsAction = props.clearLocationSuggestionsAction,\n      fetchLocationSuggestionsAction = props.fetchLocationSuggestionsAction,\n      input = props.input,\n      locationAutocompleteFrozen = props.locationAutocompleteFrozen,\n      locationAutocompleteSuggestions = props.locationAutocompleteSuggestions,\n      locationAutocompleteValue = props.locationAutocompleteValue,\n      _props$meta = props.meta,\n      error = _props$meta.error,\n      touched = _props$meta.touched,\n      unfreezeLocationInputAction = props.unfreezeLocationInputAction,\n      updateLocationAutocompleteAction = props.updateLocationAutocompleteAction;\n  var b = block('consignments-location-input');\n  var locationAutosuggestInputProps = {\n    disabled: locationAutocompleteFrozen,\n    onChange: updateLocationAutocompleteAction,\n    value: locationAutocompleteValue\n  };\n\n  var renderInputComponent = function renderInputComponent(inputProps) {\n    return React.createElement(\"div\", null, React.createElement(\"input\", _extends({}, inputProps, {\n      className: b.builder()('input').mix('bordered-input')()\n    })), touched && error && React.createElement(\"div\", {\n      className: b('error')\n    }, error));\n  };\n\n  var getSuggestionValue = function getSuggestionValue(suggestion) {\n    return suggestion.description;\n  };\n\n  var renderSuggestion = function renderSuggestion(suggestion) {\n    return React.createElement(\"div\", {\n      className: \"autosuggest-suggestion\"\n    }, React.createElement(\"div\", null, suggestion.description));\n  };\n\n  var chooseLocationOption = function chooseLocationOption(event, _ref) {\n    var suggestion = _ref.suggestion,\n        suggestionValue = _ref.suggestionValue,\n        suggestionIndex = _ref.suggestionIndex,\n        sectionIndex = _ref.sectionIndex,\n        method = _ref.method;\n    chooseLocationAction(suggestion);\n    input.onChange(suggestionValue);\n  };\n\n  var unfreeze = function unfreeze() {\n    unfreezeLocationInputAction();\n    input.onChange('');\n  };\n\n  return React.createElement(\"div\", {\n    className: b.builder()({\n      disabled: locationAutocompleteFrozen,\n      error: Boolean(touched && error)\n    })(),\n    name: 'location'\n  }, React.createElement(Autosuggest, {\n    suggestions: locationAutocompleteSuggestions,\n    onSuggestionsFetchRequested: fetchLocationSuggestionsAction,\n    onSuggestionsClearRequested: clearLocationSuggestionsAction,\n    onSuggestionSelected: chooseLocationOption,\n    getSuggestionValue: getSuggestionValue,\n    renderInputComponent: renderInputComponent,\n    renderSuggestion: renderSuggestion,\n    inputProps: locationAutosuggestInputProps\n  }), locationAutocompleteFrozen && React.createElement(\"div\", {\n    className: b('unfreeze'),\n    onClick: unfreeze\n  }, React.createElement(Close, null)));\n}\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    locationAutocompleteFrozen: state.submissionFlow.locationAutocompleteFrozen,\n    locationAutocompleteSuggestions: state.submissionFlow.locationAutocompleteSuggestions,\n    locationAutocompleteValue: state.submissionFlow.locationAutocompleteValue\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    chooseLocationAction: function chooseLocationAction(suggestion) {\n      dispatch(chooseLocation(suggestion));\n    },\n    clearLocationSuggestionsAction: function clearLocationSuggestionsAction() {\n      dispatch(clearLocationSuggestions());\n    },\n    fetchLocationSuggestionsAction: function fetchLocationSuggestionsAction(_ref2) {\n      var value = _ref2.value;\n      dispatch(fetchLocationSuggestions(value));\n    },\n    unfreezeLocationInputAction: function unfreezeLocationInputAction() {\n      dispatch(unfreezeLocationInput());\n    },\n    updateLocationAutocompleteAction: function updateLocationAutocompleteAction(event, _ref3) {\n      var newValue = _ref3.newValue;\n      dispatch(updateLocationAutocomplete(newValue));\n    }\n  };\n};\n\nvar _default = connect(mapStateToProps, mapDispatchToProps)(LocationAutocomplete);\n\nexport default _default;\nLocationAutocomplete.propTypes = {\n  chooseLocationAction: PropTypes.func.isRequired,\n  clearLocationSuggestionsAction: PropTypes.func.isRequired,\n  fetchLocationSuggestionsAction: PropTypes.func.isRequired,\n  input: PropTypes.object.isRequired,\n  locationAutocompleteFrozen: PropTypes.bool.isRequired,\n  locationAutocompleteSuggestions: PropTypes.array,\n  locationAutocompleteValue: PropTypes.string,\n  meta: PropTypes.object.isRequired,\n  unfreezeLocationInputAction: PropTypes.func.isRequired,\n  updateLocationAutocompleteAction: PropTypes.func.isRequired\n};\n;\n\n(function () {\n  var reactHotLoader = require('react-hot-loader').default;\n\n  var leaveModule = require('react-hot-loader').leaveModule;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(LocationAutocomplete, \"LocationAutocomplete\", \"/Users/eve/development/force/src/desktop/apps/consign/components/location_autocomplete/index.js\");\n  reactHotLoader.register(mapStateToProps, \"mapStateToProps\", \"/Users/eve/development/force/src/desktop/apps/consign/components/location_autocomplete/index.js\");\n  reactHotLoader.register(mapDispatchToProps, \"mapDispatchToProps\", \"/Users/eve/development/force/src/desktop/apps/consign/components/location_autocomplete/index.js\");\n  reactHotLoader.register(_default, \"default\", \"/Users/eve/development/force/src/desktop/apps/consign/components/location_autocomplete/index.js\");\n  leaveModule(module);\n})();\n\n;",{"version":3,"sources":["/Users/eve/development/force/src/desktop/apps/consign/components/location_autocomplete/index.js"],"names":["Autosuggest","Close","PropTypes","React","block","connect","chooseLocation","clearLocationSuggestions","fetchLocationSuggestions","unfreezeLocationInput","updateLocationAutocomplete","LocationAutocomplete","props","chooseLocationAction","clearLocationSuggestionsAction","fetchLocationSuggestionsAction","input","locationAutocompleteFrozen","locationAutocompleteSuggestions","locationAutocompleteValue","meta","error","touched","unfreezeLocationInputAction","updateLocationAutocompleteAction","b","locationAutosuggestInputProps","disabled","onChange","value","renderInputComponent","inputProps","builder","mix","getSuggestionValue","suggestion","description","renderSuggestion","chooseLocationOption","event","suggestionValue","suggestionIndex","sectionIndex","method","unfreeze","Boolean","mapStateToProps","state","submissionFlow","mapDispatchToProps","dispatch","newValue","propTypes","func","isRequired","object","bool","array","string"],"mappings":"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","sourcesContent":["import Autosuggest from 'react-autosuggest'\nimport Close from '../../../../components/main_layout/public/icons/close.svg'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport block from 'bem-cn-lite'\nimport { connect } from 'react-redux'\nimport {\n  chooseLocation,\n  clearLocationSuggestions,\n  fetchLocationSuggestions,\n  unfreezeLocationInput,\n  updateLocationAutocomplete\n} from '../../client/actions'\n\nfunction LocationAutocomplete (props) {\n  const {\n    chooseLocationAction,\n    clearLocationSuggestionsAction,\n    fetchLocationSuggestionsAction,\n    input,\n    locationAutocompleteFrozen,\n    locationAutocompleteSuggestions,\n    locationAutocompleteValue,\n    meta: {\n      error,\n      touched\n    },\n    unfreezeLocationInputAction,\n    updateLocationAutocompleteAction\n  } = props\n\n  const b = block('consignments-location-input')\n\n  const locationAutosuggestInputProps = {\n    disabled: locationAutocompleteFrozen,\n    onChange: updateLocationAutocompleteAction,\n    value: locationAutocompleteValue\n  }\n\n  const renderInputComponent = inputProps => (\n    <div>\n      <input {...inputProps} className={b.builder()('input').mix('bordered-input')()} />\n      {\n        touched && (\n          (error && <div className={b('error')}>{error}</div>)\n        )\n      }\n    </div>\n  )\n\n  const getSuggestionValue = suggestion => (\n    suggestion.description\n  )\n\n  const renderSuggestion = suggestion => (\n    <div className='autosuggest-suggestion'>\n      <div>{suggestion.description}</div>\n    </div>\n  )\n\n  const chooseLocationOption = (event, { suggestion, suggestionValue, suggestionIndex, sectionIndex, method }) => {\n    chooseLocationAction(suggestion)\n    input.onChange(suggestionValue)\n  }\n\n  const unfreeze = () => {\n    unfreezeLocationInputAction()\n    input.onChange('')\n  }\n\n  return (\n    <div className={b.builder()({ disabled: locationAutocompleteFrozen, error: Boolean(touched && error) })()} name={'location'}>\n      <Autosuggest\n        suggestions={locationAutocompleteSuggestions}\n        onSuggestionsFetchRequested={fetchLocationSuggestionsAction}\n        onSuggestionsClearRequested={clearLocationSuggestionsAction}\n        onSuggestionSelected={chooseLocationOption}\n        getSuggestionValue={getSuggestionValue}\n        renderInputComponent={renderInputComponent}\n        renderSuggestion={renderSuggestion}\n        inputProps={locationAutosuggestInputProps}\n      />\n      { locationAutocompleteFrozen && <div className={b('unfreeze')} onClick={unfreeze}><Close /></div> }\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => ({\n  locationAutocompleteFrozen: state.submissionFlow.locationAutocompleteFrozen,\n  locationAutocompleteSuggestions: state.submissionFlow.locationAutocompleteSuggestions,\n  locationAutocompleteValue: state.submissionFlow.locationAutocompleteValue\n})\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    chooseLocationAction (suggestion) {\n      dispatch(chooseLocation(suggestion))\n    },\n    clearLocationSuggestionsAction () {\n      dispatch(clearLocationSuggestions())\n    },\n    fetchLocationSuggestionsAction ({ value }) {\n      dispatch(fetchLocationSuggestions(value))\n    },\n    unfreezeLocationInputAction () {\n      dispatch(unfreezeLocationInput())\n    },\n    updateLocationAutocompleteAction (event, { newValue }) {\n      dispatch(updateLocationAutocomplete(newValue))\n    }\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(LocationAutocomplete)\n\nLocationAutocomplete.propTypes = {\n  chooseLocationAction: PropTypes.func.isRequired,\n  clearLocationSuggestionsAction: PropTypes.func.isRequired,\n  fetchLocationSuggestionsAction: PropTypes.func.isRequired,\n  input: PropTypes.object.isRequired,\n  locationAutocompleteFrozen: PropTypes.bool.isRequired,\n  locationAutocompleteSuggestions: PropTypes.array,\n  locationAutocompleteValue: PropTypes.string,\n  meta: PropTypes.object.isRequired,\n  unfreezeLocationInputAction: PropTypes.func.isRequired,\n  updateLocationAutocompleteAction: PropTypes.func.isRequired\n}\n"]}]}