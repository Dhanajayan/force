{"remainingRequest":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js??ref--2-1!/Users/eve/development/force/node_modules/@artsy/reaction/src/Styleguide/Components/SelectedExhibitions.tsx","dependencies":[{"path":"/Users/eve/development/force/node_modules/@artsy/reaction/src/Styleguide/Components/SelectedExhibitions.tsx","mtime":1530569767000},{"path":"/Users/eve/development/force/node_modules/@artsy/reaction/.babelrc","mtime":1529423546000},{"path":"/Users/eve/development/force/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SelectedExhibitionFragmentContainer = exports.SelectedExhibitions = exports.SelectedExhibitionsContainer = exports.ExhibitionYearList = exports.ExhibitionsHeadline = exports.isCollapsed = void 0;\n\nvar _toPairs2 = _interopRequireDefault(require(\"lodash/toPairs\"));\n\nvar _groupBy2 = _interopRequireDefault(require(\"lodash/groupBy\"));\n\nvar _palette = require(\"@artsy/palette\");\n\nvar _reactRelay = require(\"react-relay\");\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _Box = require(\"../../../../../../src/Styleguide/Elements/Box\");\n\nvar _Flex = require(\"../../../../../../src/Styleguide/Elements/Flex\");\n\nvar _Responsive = require(\"Utils/Responsive\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _slicedToArray(arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return _sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }\n\nvar MIN_FOR_SELECTED_EXHIBITIONS = 3;\nvar MIN_EXHIBITIONS = 2;\n\nvar isCollapsed = function isCollapsed(props) {\n  return props.collapsible && !props.expanded;\n};\n\nexports.isCollapsed = isCollapsed;\n\nvar ExhibitionsHeadline = function ExhibitionsHeadline(props) {\n  return _react.default.createElement(_Flex.Flex, {\n    justifyContent: \"space-between\",\n    mb: isCollapsed(props) ? 0 : 1\n  }, _react.default.createElement(_palette.Sans, {\n    size: \"2\",\n    weight: \"medium\"\n  }, props.exhibitionCount < MIN_FOR_SELECTED_EXHIBITIONS ? \"Exhibitions\" : \"Selected exhibitions\", isCollapsed(props) ? \" (\".concat(props.exhibitionCount, \")\") : \"\"), isCollapsed(props) && _react.default.createElement(\"div\", {\n    onClick: props.onShowClicked,\n    style: {\n      cursor: \"pointer\"\n    }\n  }, _react.default.createElement(_palette.Sans, {\n    size: \"2\",\n    color: \"black60\",\n    ml: 2\n  }, \"Show\")));\n};\n\nexports.ExhibitionsHeadline = ExhibitionsHeadline;\n\nvar ExhibitionYearList = function ExhibitionYearList(props) {\n  return _react.default.createElement(_Flex.Flex, null, _react.default.createElement(_palette.Sans, {\n    size: \"2\"\n  }, props.year), _react.default.createElement(_Flex.Flex, {\n    flexDirection: \"column\"\n  }, props.exhibitions.map(function (exhibition) {\n    return _react.default.createElement(_Box.Box, {\n      key: exhibition.name,\n      display: \"inline\",\n      ml: 1\n    }, _react.default.createElement(_palette.Sans, {\n      size: \"2\",\n      display: \"inline\",\n      verticalAlign: \"top\"\n    }, exhibition.name, \", \"), _react.default.createElement(_palette.Sans, {\n      size: \"2\",\n      display: \"inline\",\n      verticalAlign: \"top\",\n      color: \"black60\"\n    }, exhibition.partner.name));\n  })));\n};\n\nexports.ExhibitionYearList = ExhibitionYearList;\n\nvar FullExhibitionList = function FullExhibitionList(props) {\n  return _react.default.createElement(_react.default.Fragment, null, (0, _toPairs2.default)((0, _groupBy2.default)(props.exhibitions, function (_ref) {\n    var start_at = _ref.start_at;\n    return start_at;\n  })).reverse().map(function (_ref2) {\n    var _ref3 = _slicedToArray(_ref2, 2),\n        year = _ref3[0],\n        exhibitions = _ref3[1];\n\n    return _react.default.createElement(ExhibitionYearList, {\n      key: year,\n      year: year,\n      exhibitions: exhibitions.reverse()\n    });\n  }), _react.default.createElement(_palette.Sans, {\n    size: \"2\",\n    color: \"black60\"\n  }, _react.default.createElement(\"a\", {\n    href: \"#\",\n    className: \"noUnderline\"\n  }, \"View all\")));\n};\n\nvar SelectedExhibitionsContainer =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SelectedExhibitionsContainer, _React$Component);\n\n  function SelectedExhibitionsContainer() {\n    var _ref4;\n\n    var _temp, _this;\n\n    _classCallCheck(this, SelectedExhibitionsContainer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _possibleConstructorReturn(_this, (_temp = _this = _possibleConstructorReturn(this, (_ref4 = SelectedExhibitionsContainer.__proto__ || Object.getPrototypeOf(SelectedExhibitionsContainer)).call.apply(_ref4, [this].concat(args))), Object.defineProperty(_assertThisInitialized(_this), \"state\", {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: {\n        expanded: false\n      }\n    }), _temp));\n  }\n\n  _createClass(SelectedExhibitionsContainer, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (!this.props.exhibitions || this.props.exhibitions.length < MIN_EXHIBITIONS) return null;\n      return _react.default.createElement(_Box.BorderBox, {\n        width: \"100%\"\n      }, _react.default.createElement(_Flex.Flex, {\n        flexDirection: \"column\"\n      }, _react.default.createElement(ExhibitionsHeadline, {\n        expanded: this.state.expanded,\n        collapsible: this.props.collapsible,\n        exhibitionCount: this.props.exhibitions.length,\n        onShowClicked: function onShowClicked() {\n          return _this2.setState({\n            expanded: true\n          });\n        }\n      }), !isCollapsed(_extends({\n        expanded: this.state.expanded\n      }, this.props)) && _react.default.createElement(FullExhibitionList, {\n        exhibitions: this.props.exhibitions\n      })));\n    }\n  }]);\n\n  return SelectedExhibitionsContainer;\n}(_react.default.Component);\n\nexports.SelectedExhibitionsContainer = SelectedExhibitionsContainer;\n\nvar SelectedExhibitions = function SelectedExhibitions(props) {\n  return _react.default.createElement(_Responsive.Responsive, null, function (_ref5) {\n    var xs = _ref5.xs;\n    if (xs) return _react.default.createElement(SelectedExhibitionsContainer, _extends({\n      collapsible: true\n    }, props));else return _react.default.createElement(SelectedExhibitionsContainer, props);\n  });\n};\n\nexports.SelectedExhibitions = SelectedExhibitions;\nvar SelectedExhibitionFragmentContainer = (0, _reactRelay.createFragmentContainer)(SelectedExhibitions, {\n  exhibitions: function exhibitions() {\n    var node = require(\"../../../../../../src/__generated__/SelectedExhibitions_exhibitions.graphql\");\n\n    if (node.hash && node.hash !== \"3a533b1e1bb6598fc358c2dd076117a0\") {\n      console.error(\"The definition of 'SelectedExhibitions_exhibitions' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.\");\n    }\n\n    return require(\"../../../../../../src/__generated__/SelectedExhibitions_exhibitions.graphql\");\n  }\n});\nexports.SelectedExhibitionFragmentContainer = SelectedExhibitionFragmentContainer;",{"version":3,"sources":["node_modules/@artsy/reaction/src/Styleguide/Components/SelectedExhibitions.tsx"],"names":["MIN_FOR_SELECTED_EXHIBITIONS","MIN_EXHIBITIONS","isCollapsed","props","collapsible","expanded","ExhibitionsHeadline","exhibitionCount","onShowClicked","cursor","ExhibitionYearList","year","exhibitions","map","exhibition","name","partner","FullExhibitionList","start_at","reverse","SelectedExhibitionsContainer","length","state","setState","Component","SelectedExhibitions","xs","SelectedExhibitionFragmentContainer"],"mappings":";;;;;;;;;;;AAAA;;AAEA;;AAGA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAMA,+BAA+B,CAArC;AACA,IAAMC,kBAAkB,CAAxB;;AAIO,IAAMC,cAAc,SAAdA,WAAc;AAAA,SAASC,MAAMC,WAAN,IAAqB,CAACD,MAAME,QAArC;AAAA,CAApB;;;;AAQA,IAAMC,sBAAqD,SAArDA,mBAAqD;AAAA,SAChE;AAAM,oBAAe,eAArB;AAAqC,QAAIJ,YAAYC,KAAZ,IAAqB,CAArB,GAAyB;AAAlE,KACE;AAAM,UAAK,GAAX;AAAe,YAAO;AAAtB,KACGA,MAAMI,eAAN,GAAwBP,4BAAxB,GACG,aADH,GAEG,sBAHN,EAIGE,YAAYC,KAAZ,gBAA0BA,MAAMI,eAAhC,SAAqD,EAJxD,CADF,EAOGL,YAAYC,KAAZ,KACC;AAAK,aAASA,MAAMK,aAApB;AAAmC,WAAO;AAAEC,cAAQ;AAAV;AAA1C,KACE;AAAM,UAAK,GAAX;AAAe,WAAM,SAArB;AAA+B,QAAI;AAAnC,YADF,CARJ,CADgE;AAAA,CAA3D;;;;AAsBA,IAAMC,qBAAmD,SAAnDA,kBAAmD;AAAA,SAC9D,+CACE;AAAM,UAAK;AAAX,KAAgBP,MAAMQ,IAAtB,CADF,EAEE;AAAM,mBAAc;AAApB,KACGR,MAAMS,WAAN,CAAkBC,GAAlB,CAAsB;AAAA,WACrB;AAAK,WAAKC,WAAWC,IAArB;AAA2B,eAAQ,QAAnC;AAA4C,UAAI;AAAhD,OACE;AAAM,YAAK,GAAX;AAAe,eAAQ,QAAvB;AAAgC,qBAAc;AAA9C,OACGD,WAAWC,IADd,EAEG,IAFH,CADF,EAKE;AAAM,YAAK,GAAX;AAAe,eAAQ,QAAvB;AAAgC,qBAAc,KAA9C;AAAoD,aAAM;AAA1D,OACGD,WAAWE,OAAX,CAAmBD,IADtB,CALF,CADqB;AAAA,GAAtB,CADH,CAFF,CAD8D;AAAA,CAAzD;;;;AAsBP,IAAME,qBAAmD,SAAnDA,kBAAmD;AAAA,SACvD,4CAAO,QAAP,QACG,uBAAQ,uBAAQd,MAAMS,WAAd,EAA2B;AAAA,QAAGM,QAAH,QAAGA,QAAH;AAAA,WAAkBA,QAAlB;AAAA,GAA3B,CAAR,EACEC,OADF,GAEEN,GAFF,CAEM;AAAA;AAAA,QAAEF,IAAF;AAAA,QAAQC,WAAR;;AAAA,WACH,6BAAC,kBAAD;AACE,WAAKD,IADP;AAEE,YAAMA,IAFR;AAGE,mBAAaC,YAAYO,OAAZ;AAHf,MADG;AAAA,GAFN,CADH,EAUE;AAAM,UAAK,GAAX;AAAe,WAAM;AAArB,KACE;AAAG,UAAK,GAAR;AAAY,eAAU;AAAtB,gBADF,CAVF,CADuD;AAAA,CAAzD;;IA4BaC,4B;;;;;;;;;;;;;;;;;;;;aAGH;AACNf,kBAAU;AADJ;;;;;;6BAGC;AAAA;;AACP,UACE,CAAC,KAAKF,KAAL,CAAWS,WAAZ,IACA,KAAKT,KAAL,CAAWS,WAAX,CAAuBS,MAAvB,GAAgCpB,eAFlC,EAIE,OAAO,IAAP;AACF,aACE;AAAW,eAAM;AAAjB,SACE;AAAM,uBAAc;AAApB,SACE,6BAAC,mBAAD;AACE,kBAAU,KAAKqB,KAAL,CAAWjB,QADvB;AAEE,qBAAa,KAAKF,KAAL,CAAWC,WAF1B;AAGE,yBAAiB,KAAKD,KAAL,CAAWS,WAAX,CAAuBS,MAH1C;AAIE,uBAAe;AAAA,iBAAM,OAAKE,QAAL,CAAc;AAAElB,sBAAU;AAAZ,WAAd,CAAN;AAAA;AAJjB,QADF,EAOG,CAACH;AAAcG,kBAAU,KAAKiB,KAAL,CAAWjB;AAAnC,SAAgD,KAAKF,KAArD,EAAD,IACC,6BAAC,kBAAD;AAAoB,qBAAa,KAAKA,KAAL,CAAWS;AAA5C,QARJ,CADF,CADF;AAeD;;;;EA3B+C,eAAMY,S;;;;AA8BjD,IAAMC,sBAAqD,SAArDA,mBAAqD;AAAA,SAChE,2DACG,iBAAY;AAAA,QAATC,EAAS,SAATA,EAAS;AACX,QAAIA,EAAJ,EAAQ,OAAO,6BAAC,4BAAD;AAA8B;AAA9B,OAA8CvB,KAA9C,EAAP,CAAR,KACK,OAAO,6BAAC,4BAAD,EAAkCA,KAAlC,CAAP;AACN,GAJH,CADgE;AAAA,CAA3D;;;AASA,IAAMwB,sCAAsC,yCACjDF,mBADiD;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,EAA5C","file":"/Users/eve/development/force/node_modules/@artsy/reaction/src/Styleguide/Components/SelectedExhibitions.tsx","sourceRoot":"/Users/eve/development/force","sourcesContent":["import { Sans } from \"@artsy/palette\"\nimport { groupBy, toPairs } from \"lodash\"\nimport { createFragmentContainer, graphql } from \"react-relay\"\n\nimport { SelectedExhibitions_exhibitions } from \"__generated__/SelectedExhibitions_exhibitions.graphql\"\nimport React, { SFC } from \"react\"\nimport { BorderBox, Box } from \"Styleguide/Elements/Box\"\nimport { Flex } from \"Styleguide/Elements/Flex\"\nimport { Responsive } from \"Utils/Responsive\"\n\nconst MIN_FOR_SELECTED_EXHIBITIONS = 3\nconst MIN_EXHIBITIONS = 2\n\nexport type Year = string\n\nexport const isCollapsed = props => props.collapsible && !props.expanded\n\nexport interface ExhibitionsHeadlineProps {\n  exhibitionCount: number\n  expanded: boolean\n  collapsible: boolean\n  onShowClicked: (event: React.MouseEvent<HTMLElement>) => void\n}\nexport const ExhibitionsHeadline: SFC<ExhibitionsHeadlineProps> = props => (\n  <Flex justifyContent=\"space-between\" mb={isCollapsed(props) ? 0 : 1}>\n    <Sans size=\"2\" weight=\"medium\">\n      {props.exhibitionCount < MIN_FOR_SELECTED_EXHIBITIONS\n        ? \"Exhibitions\"\n        : \"Selected exhibitions\"}\n      {isCollapsed(props) ? ` (${props.exhibitionCount})` : \"\"}\n    </Sans>\n    {isCollapsed(props) && (\n      <div onClick={props.onShowClicked} style={{ cursor: \"pointer\" }}>\n        <Sans size=\"2\" color=\"black60\" ml={2}>\n          Show\n        </Sans>\n      </div>\n    )}\n  </Flex>\n)\n\nexport interface ExhibitionYearListProps {\n  year: Year\n  exhibitions: SelectedExhibitions_exhibitions\n}\nexport const ExhibitionYearList: SFC<ExhibitionYearListProps> = props => (\n  <Flex>\n    <Sans size=\"2\">{props.year}</Sans>\n    <Flex flexDirection=\"column\">\n      {props.exhibitions.map(exhibition => (\n        <Box key={exhibition.name} display=\"inline\" ml={1}>\n          <Sans size=\"2\" display=\"inline\" verticalAlign=\"top\">\n            {exhibition.name}\n            {\", \"}\n          </Sans>\n          <Sans size=\"2\" display=\"inline\" verticalAlign=\"top\" color=\"black60\">\n            {exhibition.partner.name}\n          </Sans>\n        </Box>\n      ))}\n    </Flex>\n  </Flex>\n)\n\ninterface FullExhibitionListProps {\n  exhibitions: SelectedExhibitions_exhibitions\n}\nconst FullExhibitionList: SFC<FullExhibitionListProps> = props => (\n  <React.Fragment>\n    {toPairs(groupBy(props.exhibitions, ({ start_at }) => start_at))\n      .reverse()\n      .map(([year, exhibitions]) => (\n        <ExhibitionYearList\n          key={year}\n          year={year}\n          exhibitions={exhibitions.reverse()}\n        />\n      ))}\n    <Sans size=\"2\" color=\"black60\">\n      <a href=\"#\" className=\"noUnderline\">\n        View all\n      </a>\n    </Sans>\n  </React.Fragment>\n)\n\nexport interface SelectedExhibitionsProps {\n  exhibitions: SelectedExhibitions_exhibitions\n}\n\nexport interface SelectedExhibitionsContainerProps\n  extends SelectedExhibitionsProps {\n  collapsible?: boolean\n}\n\nexport class SelectedExhibitionsContainer extends React.Component<\n  SelectedExhibitionsContainerProps\n> {\n  state = {\n    expanded: false,\n  }\n  render() {\n    if (\n      !this.props.exhibitions ||\n      this.props.exhibitions.length < MIN_EXHIBITIONS\n    )\n      return null\n    return (\n      <BorderBox width=\"100%\">\n        <Flex flexDirection=\"column\">\n          <ExhibitionsHeadline\n            expanded={this.state.expanded}\n            collapsible={this.props.collapsible}\n            exhibitionCount={this.props.exhibitions.length}\n            onShowClicked={() => this.setState({ expanded: true })}\n          />\n          {!isCollapsed({ expanded: this.state.expanded, ...this.props }) && (\n            <FullExhibitionList exhibitions={this.props.exhibitions} />\n          )}\n        </Flex>\n      </BorderBox>\n    )\n  }\n}\n\nexport const SelectedExhibitions: SFC<SelectedExhibitionsProps> = props => (\n  <Responsive>\n    {({ xs }) => {\n      if (xs) return <SelectedExhibitionsContainer collapsible {...props} />\n      else return <SelectedExhibitionsContainer {...props} />\n    }}\n  </Responsive>\n)\n\nexport const SelectedExhibitionFragmentContainer = createFragmentContainer(\n  SelectedExhibitions,\n  graphql`\n    fragment SelectedExhibitions_exhibitions on Show @relay(plural: true) {\n      partner {\n        ... on ExternalPartner {\n          name\n        }\n        ... on Partner {\n          name\n        }\n      }\n      name\n      start_at(format: \"YYYY\")\n      cover_image {\n        cropped(width: 800, height: 600) {\n          url\n        }\n      }\n      city\n    }\n  `\n)\n"]}]}