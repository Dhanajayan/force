{"remainingRequest":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js??ref--2-1!/Users/eve/development/force/src/desktop/apps/consign/components/upload_photo/index.js","dependencies":[{"path":"/Users/eve/development/force/src/desktop/apps/consign/components/upload_photo/index.js","mtime":1521064654000},{"path":"/Users/eve/development/force/.babelrc","mtime":1528124541000},{"path":"/Users/eve/development/force/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _checkbox_input = _interopRequireDefault(require(\"../checkbox_input\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _uploaded_image = _interopRequireDefault(require(\"../uploaded_image\"));\n\nvar _bemCnLite = _interopRequireDefault(require(\"bem-cn-lite\"));\n\nvar _reactRedux = require(\"react-redux\");\n\nvar _actions = require(\"../../client/actions\");\n\nvar Camera = function Camera(props) {\n  return _react.default.createElement(\"svg\", (0, _extends2.default)({\n    width: \"23\",\n    height: \"17\",\n    viewBox: \"0 0 23 17\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props), _react.default.createElement(\"g\", {\n    fill: \"#000\",\n    fillRule: \"evenodd\"\n  }, _react.default.createElement(\"path\", {\n    d: \"M5.768 2.709H1.252C.561 2.709 0 3.267 0 3.954v11.8C0 16.442.56 17 1.252 17h20.496C22.44 17 23 16.442 23 15.754v-11.8c0-.688-.56-1.245-1.252-1.245h-5.009c-.384-.361-.834-.913-1.249-1.742-.519-1.037-1.977-.94-1.977-.94H8.926S7.72-.25 6.996.956c-.441.737-.846 1.338-1.228 1.754z\"\n  }), _react.default.createElement(\"path\", {\n    d: \"M2.789 2.332v-.54c0-.15.169-.272.377-.272h1.708c.209 0 .378.122.378.271v.541H2.789z\"\n  }), _react.default.createElement(\"path\", {\n    d: \"M11 6a4 4 0 1 1 0 8 4 4 0 0 1 0-8z\",\n    stroke: \"#FFF\",\n    strokeWidth: \"2\"\n  }), _react.default.createElement(\"path\", {\n    d: \"M20 6a1 1 0 1 1-2 0 1 1 0 0 1 2 0z\",\n    stroke: \"#FFF\",\n    strokeWidth: \".5\"\n  })));\n};\n\n// FIXME: Rewire\nvar UploadedImage = _uploaded_image.default;\n\nfunction UploadPhoto(props) {\n  var error = props.error,\n      hideCheckbox = props.hideCheckbox,\n      isMobile = props.isMobile,\n      isLoading = props.isLoading,\n      processingImages = props.processingImages,\n      selectPhotoAction = props.selectPhotoAction,\n      skipPhotoSubmission = props.skipPhotoSubmission,\n      updateSkipPhotoSubmissionAction = props.updateSkipPhotoSubmissionAction,\n      submitPhotoAction = props.submitPhotoAction,\n      uploadedImages = props.uploadedImages;\n  var b = (0, _bemCnLite.default)('consignments-submission-upload-photo');\n  var imagesInProgress = uploadedImages.length > 0 && processingImages.length > 0;\n  var imagesFinished = uploadedImages.length > 0 && processingImages.length === 0;\n  var nextEnabled = !skipPhotoSubmission && imagesFinished || skipPhotoSubmission && !imagesInProgress;\n  var uploadCta = isMobile ? 'Click to upload photos' : 'Drag or Click to upload photos';\n  return _react.default.createElement(\"div\", {\n    className: b()\n  }, _react.default.createElement(\"div\", {\n    className: b('title')\n  }, \"Upload photos\"), _react.default.createElement(\"div\", {\n    className: b('subtitle')\n  }, \"Take a quick snapshot of the work so we can better assess the condition of the work. We suggest uploading photos of the front and back of the work, any signatures, and certificates of authenticity.\"), _react.default.createElement(\"div\", {\n    className: b('form')\n  }, _react.default.createElement(\"label\", {\n    htmlFor: \"file\",\n    className: b('drop-area'),\n    onDragOver: function onDragOver(e) {\n      return e.preventDefault();\n    },\n    onDrop: function onDrop(e) {\n      e.preventDefault();\n      selectPhotoAction(e.dataTransfer.files[0]);\n    }\n  }, _react.default.createElement(\"div\", {\n    className: b('drop-area-contents')\n  }, _react.default.createElement(\"input\", {\n    type: \"file\",\n    name: \"file\",\n    id: \"file\",\n    className: b('file-upload'),\n    onChange: function onChange(e) {\n      return selectPhotoAction(e.target.files[0]);\n    }\n  }), _react.default.createElement(\"div\", {\n    className: b('camera-icon')\n  }, _react.default.createElement(Camera, null)), _react.default.createElement(\"div\", {\n    className: b('cta')\n  }, uploadCta))), !hideCheckbox && _react.default.createElement(_checkbox_input.default, {\n    item: 'skip',\n    label: 'No photo currently available',\n    onChange: updateSkipPhotoSubmissionAction,\n    value: skipPhotoSubmission\n  }), uploadedImages.map(function (file, index) {\n    return _react.default.createElement(UploadedImage, {\n      file: file,\n      key: \"\".concat(file.fileName, \"-\").concat(index)\n    });\n  }), _react.default.createElement(\"div\", {\n    className: b.builder()('submit-button').mix('avant-garde-button-black')(),\n    onClick: submitPhotoAction,\n    disabled: !nextEnabled\n  }, isLoading ? _react.default.createElement(\"div\", {\n    className: \"loading-spinner-white\"\n  }) : 'Submit'), error && _react.default.createElement(\"div\", {\n    className: b('error')\n  }, error)));\n}\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    error: state.submissionFlow.error,\n    isMobile: state.submissionFlow.isMobile,\n    isLoading: state.submissionFlow.isLoading,\n    processingImages: state.submissionFlow.processingImages,\n    skipPhotoSubmission: state.submissionFlow.skipPhotoSubmission,\n    uploadedImages: state.submissionFlow.uploadedImages\n  };\n};\n\nvar mapDispatchToProps = {\n  selectPhotoAction: _actions.selectPhoto,\n  submitPhotoAction: _actions.submitPhoto,\n  updateSkipPhotoSubmissionAction: _actions.updateSkipPhotoSubmission\n};\n\nvar _default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(UploadPhoto);\n\nexports.default = _default;\nUploadPhoto.propTypes = {\n  error: _propTypes.default.string,\n  hideCheckbox: _propTypes.default.bool,\n  isMobile: _propTypes.default.bool.isRequired,\n  isLoading: _propTypes.default.bool.isRequired,\n  processingImages: _propTypes.default.array.isRequired,\n  selectPhotoAction: _propTypes.default.func.isRequired,\n  skipPhotoSubmission: _propTypes.default.bool.isRequired,\n  submitPhotoAction: _propTypes.default.func.isRequired,\n  updateSkipPhotoSubmissionAction: _propTypes.default.func.isRequired,\n  uploadedImages: _propTypes.default.array\n};",{"version":3,"sources":["src/desktop/apps/consign/components/upload_photo/index.js"],"names":["Camera","UploadedImage","UploadPhoto","props","error","hideCheckbox","isMobile","isLoading","processingImages","selectPhotoAction","skipPhotoSubmission","updateSkipPhotoSubmissionAction","submitPhotoAction","uploadedImages","b","imagesInProgress","length","imagesFinished","nextEnabled","uploadCta","e","preventDefault","dataTransfer","files","target","map","file","index","fileName","builder","mix","mapStateToProps","state","submissionFlow","mapDispatchToProps","propTypes","string","bool","isRequired","array","func"],"mappings":"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","file":"/Users/eve/development/force/src/desktop/apps/consign/components/upload_photo/index.js","sourceRoot":"/Users/eve/development/force","sourcesContent":["import Camera from '../../../../components/main_layout/public/icons/camera.svg'\nimport CheckboxInput from '../checkbox_input'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport _UploadedImage from '../uploaded_image'\nimport block from 'bem-cn-lite'\nimport { connect } from 'react-redux'\nimport { selectPhoto, submitPhoto, updateSkipPhotoSubmission } from '../../client/actions'\n\n// FIXME: Rewire\nlet UploadedImage = _UploadedImage\n\nfunction UploadPhoto (props) {\n  const {\n    error,\n    hideCheckbox,\n    isMobile,\n    isLoading,\n    processingImages,\n    selectPhotoAction,\n    skipPhotoSubmission,\n    updateSkipPhotoSubmissionAction,\n    submitPhotoAction,\n    uploadedImages\n  } = props\n  const b = block('consignments-submission-upload-photo')\n\n  const imagesInProgress = uploadedImages.length > 0 && processingImages.length > 0\n  const imagesFinished = uploadedImages.length > 0 && processingImages.length === 0\n  const nextEnabled = (!skipPhotoSubmission && imagesFinished) || (skipPhotoSubmission && !imagesInProgress)\n  const uploadCta = isMobile ? 'Click to upload photos' : 'Drag or Click to upload photos'\n\n  return (\n    <div className={b()}>\n      <div className={b('title')}>\n        Upload photos\n      </div>\n      <div className={b('subtitle')}>\n        Take a quick snapshot of the work so we can better assess the condition of the work. We suggest uploading photos of the front and back of the work, any signatures, and certificates of authenticity.\n      </div>\n      <div className={b('form')}>\n        <label\n          htmlFor='file'\n          className={b('drop-area')}\n          onDragOver={(e) => e.preventDefault()}\n          onDrop={(e) => {\n            e.preventDefault()\n            selectPhotoAction(e.dataTransfer.files[0])\n          }}\n        >\n          <div className={b('drop-area-contents')}>\n            <input\n              type='file'\n              name='file'\n              id='file'\n              className={b('file-upload')}\n              onChange={(e) => selectPhotoAction(e.target.files[0])}\n            />\n            <div className={b('camera-icon')}>\n              <Camera />\n            </div>\n            <div className={b('cta')}>\n              {uploadCta}\n            </div>\n          </div>\n        </label>\n        {\n          !hideCheckbox && (\n            <CheckboxInput\n              item={'skip'}\n              label={'No photo currently available'}\n              onChange={updateSkipPhotoSubmissionAction}\n              value={skipPhotoSubmission}\n            />\n          )\n        }\n        {\n          uploadedImages.map((file, index) =>\n            <UploadedImage file={file} key={`${file.fileName}-${index}`} />\n          )\n        }\n        <div\n          className={b.builder()('submit-button').mix('avant-garde-button-black')()}\n          onClick={submitPhotoAction}\n          disabled={!nextEnabled}\n        >\n          {\n            isLoading ? <div className='loading-spinner-white' /> : 'Submit'\n          }\n        </div>\n        {\n          error && <div className={b('error')}>{error}</div>\n        }\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    error: state.submissionFlow.error,\n    isMobile: state.submissionFlow.isMobile,\n    isLoading: state.submissionFlow.isLoading,\n    processingImages: state.submissionFlow.processingImages,\n    skipPhotoSubmission: state.submissionFlow.skipPhotoSubmission,\n    uploadedImages: state.submissionFlow.uploadedImages\n  }\n}\n\nconst mapDispatchToProps = {\n  selectPhotoAction: selectPhoto,\n  submitPhotoAction: submitPhoto,\n  updateSkipPhotoSubmissionAction: updateSkipPhotoSubmission\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(UploadPhoto)\n\nUploadPhoto.propTypes = {\n  error: PropTypes.string,\n  hideCheckbox: PropTypes.bool,\n  isMobile: PropTypes.bool.isRequired,\n  isLoading: PropTypes.bool.isRequired,\n  processingImages: PropTypes.array.isRequired,\n  selectPhotoAction: PropTypes.func.isRequired,\n  skipPhotoSubmission: PropTypes.bool.isRequired,\n  submitPhotoAction: PropTypes.func.isRequired,\n  updateSkipPhotoSubmissionAction: PropTypes.func.isRequired,\n  uploadedImages: PropTypes.array\n}\n"]}]}