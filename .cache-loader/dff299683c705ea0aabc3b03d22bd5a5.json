{"remainingRequest":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js??ref--2-1!/Users/eve/development/force/src/desktop/analytics/bidding.js","dependencies":[{"path":"/Users/eve/development/force/src/desktop/analytics/bidding.js","mtime":1519227435000},{"path":"/Users/eve/development/force/.babelrc","mtime":1537178749000},{"path":"/Users/eve/development/force/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["(function () {\n  var enterModule = require('react-hot-loader').enterModule;\n\n  enterModule && enterModule(module);\n})();\n\n//\n// Generic events around bidding for auctions\n//\nvar USER_ID = sd.CURRENT_USER ? sd.CURRENT_USER.id : null;\nvar AUCTION_ID = sd.AUCTION && sd.AUCTION.id;\nvar AUCTION_STATE = sd.AUCTION && sd.AUCTION.auction_state; // Clicked \"Register to bid\" (context_type: 'auctions landing')\n\n$('.auction-Registration .avant-garde-button-black').click(function () {\n  analytics.track('Clicked \"Register to bid\"', {\n    context_type: 'auctions landing',\n    auction_slug: AUCTION_ID,\n    auction_state: AUCTION_STATE,\n    user_id: USER_ID\n  });\n}); // Clicked \"Register to bid\" (context_type: 'settings')\n\n$(document).on('click', '.settings-auction-registration___button a', function () {\n  analytics.track('Clicked \"Register to bid\"', {\n    context_type: 'settings',\n    auction_slug: $(this).attr('href').split('/')[2],\n    auction_state: 'open',\n    user_id: USER_ID\n  });\n}); // Registration failed to submit\n\nanalyticsHooks.on('registration:submit-address', function () {\n  setTimeout(function () {\n    var errorMessages = $('.error').map(function () {\n      return $(this).text();\n    }).toArray();\n\n    if (errorMessages.length > 0) {\n      analytics.track('Registration failed to submit', {\n        auction_slug: sd.SALE.id,\n        auction_state: sd.SALE.auction_state,\n        user_id: USER_ID,\n        error_messages: errorMessages\n      });\n    }\n  });\n}); // Registration submitted\n\nanalyticsHooks.on('registration:success', function (data) {\n  setTimeout(function () {\n    analytics.track('Registration submitted', {\n      auction_slug: sd.SALE.id,\n      auction_state: sd.SALE.auction_state,\n      user_id: USER_ID,\n      bidder_id: data.bidder_id\n    });\n  });\n}); // Credit card not valid\n\nanalyticsHooks.on('creditcard:unqualified', function (data) {\n  analytics.track('Credit card not valid', data);\n}); // Clicked \"Bid\" (context_type: your active bids on auction page)\n\n$(document).on('click', '.auction-ActiveBidItem__bid-button', function (e) {\n  var artworkId = $(e.target).parent().data('artwork_id');\n  analytics.track('Clicked \"Bid\"', {\n    auction_slug: AUCTION_ID,\n    user_id: USER_ID,\n    context_type: 'your active bids',\n    artwork_slug: artworkId\n  });\n}); // Clicked \"Bid\" (context_type: your active bids)\n\n$(document).on('click', '.my-active-bids-bid-button', function (e) {\n  var artworkId = $(e.target).parent().data('artwork_id');\n  analytics.track('Clicked \"Bid\"', {\n    auction_slug: AUCTION_ID,\n    user_id: USER_ID,\n    context_type: 'your active bids',\n    artwork_slug: artworkId\n  });\n}); // Clicked \"Bid\" (context_type: artwork page: pre-register before bidding, approval required before bidding)\n\n$(document).on('click', 'a.artwork-auction__bid-form__button', function () {\n  analytics.track('Clicked \"Bid\"', {\n    auction_slug: AUCTION_ID,\n    user_id: USER_ID,\n    context_type: 'artwork page',\n    artwork_slug: sd.PARAMS.id\n  });\n}); // Confirm bid failed\n\nanalyticsHooks.on('error', function (message) {\n  if (message.match('bid must be higher')) {\n    analytics.track('Confirm bid failed', {\n      auction_slug: sd.SALE.id,\n      user_id: USER_ID,\n      artwork_slug: sd.SALE_ARTWORK.artwork.id\n    });\n  }\n}); // Confirmed bid on bid page\n\nanalyticsHooks.on('confirm:bid:form:success', function (data) {\n  analytics.track('Confirmed bid on bid page', {\n    auction_slug: sd.SALE.id,\n    user_id: USER_ID,\n    artwork_slug: sd.SALE_ARTWORK.artwork.id,\n    bidder_position_id: data.bidder_position_id,\n    bidder_id: data.bidder_id\n  });\n}); // Changed filter params on /auction page\n\nanalyticsHooks.on('auction:artworks:params:change', function (data) {\n  analytics.track('Commercial filter params changed', {\n    sale_id: AUCTION_ID,\n    auction_slug: sd.AUCTION.slug,\n    user_id: USER_ID,\n    current: data.current,\n    changed: data.changed\n  });\n});\n;\n\n(function () {\n  var reactHotLoader = require('react-hot-loader').default;\n\n  var leaveModule = require('react-hot-loader').leaveModule;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(USER_ID, \"USER_ID\", \"/Users/eve/development/force/src/desktop/analytics/bidding.js\");\n  reactHotLoader.register(AUCTION_ID, \"AUCTION_ID\", \"/Users/eve/development/force/src/desktop/analytics/bidding.js\");\n  reactHotLoader.register(AUCTION_STATE, \"AUCTION_STATE\", \"/Users/eve/development/force/src/desktop/analytics/bidding.js\");\n  leaveModule(module);\n})();\n\n;",{"version":3,"sources":["/Users/eve/development/force/src/desktop/analytics/bidding.js"],"names":["USER_ID","sd","CURRENT_USER","id","AUCTION_ID","AUCTION","AUCTION_STATE","auction_state","$","click","analytics","track","context_type","auction_slug","user_id","document","on","attr","split","analyticsHooks","setTimeout","errorMessages","map","text","toArray","length","SALE","error_messages","data","bidder_id","e","artworkId","target","parent","artwork_slug","PARAMS","message","match","SALE_ARTWORK","artwork","bidder_position_id","sale_id","slug","current","changed"],"mappings":"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","sourcesContent":["//\n// Generic events around bidding for auctions\n//\n\nvar USER_ID = sd.CURRENT_USER ? sd.CURRENT_USER.id : null\nvar AUCTION_ID = sd.AUCTION && sd.AUCTION.id\nvar AUCTION_STATE = sd.AUCTION && sd.AUCTION.auction_state\n\n// Clicked \"Register to bid\" (context_type: 'auctions landing')\n$('.auction-Registration .avant-garde-button-black').click(function () {\n  analytics.track('Clicked \"Register to bid\"', {\n    context_type: 'auctions landing',\n    auction_slug: AUCTION_ID,\n    auction_state: AUCTION_STATE,\n    user_id: USER_ID\n  })\n})\n\n// Clicked \"Register to bid\" (context_type: 'settings')\n$(document).on('click', '.settings-auction-registration___button a', function () {\n  analytics.track('Clicked \"Register to bid\"', {\n    context_type: 'settings',\n    auction_slug: $(this).attr('href').split('/')[2],\n    auction_state: 'open',\n    user_id: USER_ID\n  })\n})\n\n// Registration failed to submit\nanalyticsHooks.on('registration:submit-address', function () {\n  setTimeout(function () {\n    var errorMessages = $('.error').map(function () { return $(this).text() }).toArray()\n    if (errorMessages.length > 0) {\n      analytics.track('Registration failed to submit', {\n        auction_slug: sd.SALE.id,\n        auction_state: sd.SALE.auction_state,\n        user_id: USER_ID,\n        error_messages: errorMessages\n      })\n    }\n  })\n})\n\n// Registration submitted\nanalyticsHooks.on('registration:success', function (data) {\n  setTimeout(function () {\n    analytics.track('Registration submitted', {\n      auction_slug: sd.SALE.id,\n      auction_state: sd.SALE.auction_state,\n      user_id: USER_ID,\n      bidder_id: data.bidder_id\n    })\n  })\n})\n\n// Credit card not valid\nanalyticsHooks.on('creditcard:unqualified', function (data) {\n  analytics.track('Credit card not valid', data)\n})\n\n// Clicked \"Bid\" (context_type: your active bids on auction page)\n$(document).on('click', '.auction-ActiveBidItem__bid-button', function (e) {\n  const artworkId = $(e.target).parent().data('artwork_id')\n  analytics.track('Clicked \"Bid\"', {\n    auction_slug: AUCTION_ID,\n    user_id: USER_ID,\n    context_type: 'your active bids',\n    artwork_slug: artworkId\n  })\n})\n\n// Clicked \"Bid\" (context_type: your active bids)\n$(document).on('click', '.my-active-bids-bid-button', function (e) {\n  const artworkId = $(e.target).parent().data('artwork_id')\n  analytics.track('Clicked \"Bid\"', {\n    auction_slug: AUCTION_ID,\n    user_id: USER_ID,\n    context_type: 'your active bids',\n    artwork_slug: artworkId\n  })\n})\n\n// Clicked \"Bid\" (context_type: artwork page: pre-register before bidding, approval required before bidding)\n$(document).on('click', 'a.artwork-auction__bid-form__button', function () {\n  analytics.track('Clicked \"Bid\"', {\n    auction_slug: AUCTION_ID,\n    user_id: USER_ID,\n    context_type: 'artwork page',\n    artwork_slug: sd.PARAMS.id\n  })\n})\n\n// Confirm bid failed\nanalyticsHooks.on('error', function (message) {\n  if (message.match('bid must be higher')) {\n    analytics.track('Confirm bid failed', {\n      auction_slug: sd.SALE.id,\n      user_id: USER_ID,\n      artwork_slug: sd.SALE_ARTWORK.artwork.id\n    })\n  }\n})\n\n// Confirmed bid on bid page\nanalyticsHooks.on('confirm:bid:form:success', function (data) {\n  analytics.track('Confirmed bid on bid page', {\n    auction_slug: sd.SALE.id,\n    user_id: USER_ID,\n    artwork_slug: sd.SALE_ARTWORK.artwork.id,\n    bidder_position_id: data.bidder_position_id,\n    bidder_id: data.bidder_id\n  })\n})\n\n// Changed filter params on /auction page\nanalyticsHooks.on('auction:artworks:params:change', function (data) {\n  analytics.track('Commercial filter params changed', {\n    sale_id: AUCTION_ID,\n    auction_slug: sd.AUCTION.slug,\n    user_id: USER_ID,\n    current: data.current,\n    changed: data.changed\n  })\n})\n"]}]}