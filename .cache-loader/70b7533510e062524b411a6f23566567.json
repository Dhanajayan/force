{"remainingRequest":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js??ref--2-1!/Users/eve/development/force/src/desktop/apps/consign/components/choose_artist/index.js","dependencies":[{"path":"/Users/eve/development/force/src/desktop/apps/consign/components/choose_artist/index.js","mtime":1519227436000},{"path":"/Users/eve/development/force/.babelrc","mtime":1528124541000},{"path":"/Users/eve/development/force/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _get2 = _interopRequireDefault(require(\"lodash/get\"));\n\nvar _reactAutosuggest = _interopRequireDefault(require(\"react-autosuggest\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _bemCnLite = _interopRequireDefault(require(\"bem-cn-lite\"));\n\nvar _reactRedux = require(\"react-redux\");\n\nvar _actions = require(\"../../client/actions\");\n\nfunction getSuggestionValue(suggestion) {\n  return suggestion.name;\n}\n\nfunction renderSuggestion(suggestion) {\n  var imageUrl = (0, _get2.default)(suggestion, 'image_urls.square', '/images/missing_image.png');\n  return _react.default.createElement(\"div\", {\n    className: \"autosuggest-suggestion\"\n  }, _react.default.createElement(\"img\", {\n    src: imageUrl\n  }), _react.default.createElement(\"div\", null, suggestion.name));\n}\n\nfunction ChooseArtist(props) {\n  var artistAutocompleteSuggestions = props.artistAutocompleteSuggestions,\n      artistAutocompleteValue = props.artistAutocompleteValue,\n      artistName = props.artistName,\n      clearArtistSuggestionsAction = props.clearArtistSuggestionsAction,\n      chooseArtistAction = props.chooseArtistAction,\n      chooseArtistAdvanceAction = props.chooseArtistAdvanceAction,\n      fetchArtistSuggestionsAction = props.fetchArtistSuggestionsAction,\n      notConsigningArtist = props.notConsigningArtist,\n      showNotConsigningMessageAction = props.showNotConsigningMessageAction,\n      updateArtistAutocompleteValueAction = props.updateArtistAutocompleteValueAction;\n  var b = (0, _bemCnLite.default)('consignments-submission-choose-artist');\n  var inputProps = {\n    autoFocus: true,\n    value: artistAutocompleteValue,\n    onChange: updateArtistAutocompleteValueAction\n  };\n\n  var renderInputComponent = function renderInputComponent(inputProps) {\n    return _react.default.createElement(\"div\", null, _react.default.createElement(\"input\", (0, _extends2.default)({}, inputProps, {\n      className: b.builder()('input').mix('bordered-input')()\n    })));\n  };\n\n  var nextEnabled = artistAutocompleteValue.length > 0;\n  return _react.default.createElement(\"div\", {\n    className: b()\n  }, _react.default.createElement(\"div\", {\n    className: b('title')\n  }, \"Enter the name of the artist/designer who created the work\"), _react.default.createElement(\"div\", {\n    className: b('form')\n  }, _react.default.createElement(\"div\", {\n    className: b('label')\n  }, \"Artist/Designer Name\"), _react.default.createElement(\"div\", {\n    className: b('autosuggest')\n  }, _react.default.createElement(_reactAutosuggest.default, {\n    suggestions: artistAutocompleteSuggestions,\n    onSuggestionsFetchRequested: fetchArtistSuggestionsAction,\n    onSuggestionsClearRequested: clearArtistSuggestionsAction,\n    onSuggestionSelected: chooseArtistAction,\n    getSuggestionValue: getSuggestionValue,\n    renderInputComponent: renderInputComponent,\n    renderSuggestion: renderSuggestion,\n    inputProps: inputProps\n  })), _react.default.createElement(\"div\", {\n    className: b.builder()('next-button').mix('avant-garde-button-black')(),\n    onClick: artistAutocompleteValue === artistName ? chooseArtistAdvanceAction : showNotConsigningMessageAction,\n    disabled: !nextEnabled\n  }, \"Next\"), notConsigningArtist && _react.default.createElement(\"div\", {\n    className: b('not-consigning')\n  }, \"Unfortunately we are not accepting consignments for works by \", artistAutocompleteValue, \".\", _react.default.createElement(\"br\", null), _react.default.createElement(\"a\", {\n    href: \"/\"\n  }, \"Back to Artsy\"))));\n}\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    artistAutocompleteSuggestions: state.submissionFlow.artistAutocompleteSuggestions,\n    artistAutocompleteValue: state.submissionFlow.artistAutocompleteValue,\n    artistName: state.submissionFlow.artistName,\n    notConsigningArtist: state.submissionFlow.notConsigningArtist\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    chooseArtistAction: function chooseArtistAction(event, _ref) {\n      var suggestion = _ref.suggestion,\n          suggestionValue = _ref.suggestionValue;\n      dispatch((0, _actions.chooseArtist)(suggestion));\n    },\n    chooseArtistAdvanceAction: function chooseArtistAdvanceAction() {\n      dispatch((0, _actions.chooseArtistAdvance)());\n    },\n    clearArtistSuggestionsAction: function clearArtistSuggestionsAction() {\n      dispatch((0, _actions.clearArtistSuggestions)());\n    },\n    fetchArtistSuggestionsAction: function fetchArtistSuggestionsAction(_ref2) {\n      var value = _ref2.value;\n      dispatch((0, _actions.fetchArtistSuggestions)(value));\n    },\n    showNotConsigningMessageAction: function showNotConsigningMessageAction() {\n      dispatch((0, _actions.showNotConsigningMessage)());\n    },\n    updateArtistAutocompleteValueAction: function updateArtistAutocompleteValueAction(event, _ref3) {\n      var newValue = _ref3.newValue;\n      dispatch((0, _actions.updateArtistAutocompleteValue)(newValue));\n    }\n  };\n};\n\nvar _default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(ChooseArtist);\n\nexports.default = _default;\nChooseArtist.propTypes = {\n  artistAutocompleteSuggestions: _propTypes.default.array,\n  artistAutocompleteValue: _propTypes.default.string,\n  artistName: _propTypes.default.string,\n  clearArtistSuggestionsAction: _propTypes.default.func.isRequired,\n  chooseArtistAction: _propTypes.default.func.isRequired,\n  chooseArtistAdvanceAction: _propTypes.default.func.isRequired,\n  fetchArtistSuggestionsAction: _propTypes.default.func.isRequired,\n  notConsigningArtist: _propTypes.default.bool,\n  showNotConsigningMessageAction: _propTypes.default.func.isRequired,\n  updateArtistAutocompleteValueAction: _propTypes.default.func.isRequired\n};",{"version":3,"sources":["src/desktop/apps/consign/components/choose_artist/index.js"],"names":["getSuggestionValue","suggestion","name","renderSuggestion","imageUrl","ChooseArtist","props","artistAutocompleteSuggestions","artistAutocompleteValue","artistName","clearArtistSuggestionsAction","chooseArtistAction","chooseArtistAdvanceAction","fetchArtistSuggestionsAction","notConsigningArtist","showNotConsigningMessageAction","updateArtistAutocompleteValueAction","b","inputProps","autoFocus","value","onChange","renderInputComponent","builder","mix","nextEnabled","length","mapStateToProps","state","submissionFlow","mapDispatchToProps","dispatch","event","suggestionValue","newValue","propTypes","array","string","func","isRequired","bool"],"mappings":"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","file":"/Users/eve/development/force/src/desktop/apps/consign/components/choose_artist/index.js","sourceRoot":"/Users/eve/development/force","sourcesContent":["import Autosuggest from 'react-autosuggest'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport block from 'bem-cn-lite'\nimport { connect } from 'react-redux'\nimport { get } from 'lodash'\nimport {\n  clearArtistSuggestions,\n  chooseArtist,\n  chooseArtistAdvance,\n  fetchArtistSuggestions,\n  showNotConsigningMessage,\n  updateArtistAutocompleteValue\n} from '../../client/actions'\n\nfunction getSuggestionValue (suggestion) {\n  return suggestion.name\n}\n\nfunction renderSuggestion (suggestion) {\n  const imageUrl = get(suggestion, 'image_urls.square', '/images/missing_image.png')\n  return (\n    <div className='autosuggest-suggestion'>\n      <img src={imageUrl} />\n      <div>{suggestion.name}</div>\n    </div>\n  )\n}\n\nfunction ChooseArtist (props) {\n  const {\n    artistAutocompleteSuggestions,\n    artistAutocompleteValue,\n    artistName,\n    clearArtistSuggestionsAction,\n    chooseArtistAction,\n    chooseArtistAdvanceAction,\n    fetchArtistSuggestionsAction,\n    notConsigningArtist,\n    showNotConsigningMessageAction,\n    updateArtistAutocompleteValueAction\n  } = props\n  const b = block('consignments-submission-choose-artist')\n\n  const inputProps = {\n    autoFocus: true,\n    value: artistAutocompleteValue,\n    onChange: updateArtistAutocompleteValueAction\n  }\n\n  const renderInputComponent = inputProps => (\n    <div>\n      <input {...inputProps} className={b.builder()('input').mix('bordered-input')()} />\n    </div>\n  )\n\n  const nextEnabled = artistAutocompleteValue.length > 0\n\n  return (\n    <div className={b()}>\n      <div className={b('title')}>\n        Enter the name of the artist/designer who created the work\n      </div>\n      <div className={b('form')}>\n        <div className={b('label')}>Artist/Designer Name</div>\n        <div className={b('autosuggest')}>\n          <Autosuggest\n            suggestions={artistAutocompleteSuggestions}\n            onSuggestionsFetchRequested={fetchArtistSuggestionsAction}\n            onSuggestionsClearRequested={clearArtistSuggestionsAction}\n            onSuggestionSelected={chooseArtistAction}\n            getSuggestionValue={getSuggestionValue}\n            renderInputComponent={renderInputComponent}\n            renderSuggestion={renderSuggestion}\n            inputProps={inputProps}\n          />\n        </div>\n        <div\n          className={b.builder()('next-button').mix('avant-garde-button-black')()}\n          onClick={artistAutocompleteValue === artistName ? chooseArtistAdvanceAction : showNotConsigningMessageAction}\n          disabled={!nextEnabled}\n        >\n          Next\n        </div>\n        {\n          notConsigningArtist &&\n          <div className={b('not-consigning')}>\n            Unfortunately we are not accepting consignments for works by {artistAutocompleteValue}.<br /><a href='/'>Back to Artsy</a>\n          </div>\n        }\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    artistAutocompleteSuggestions: state.submissionFlow.artistAutocompleteSuggestions,\n    artistAutocompleteValue: state.submissionFlow.artistAutocompleteValue,\n    artistName: state.submissionFlow.artistName,\n    notConsigningArtist: state.submissionFlow.notConsigningArtist\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    chooseArtistAction (event, { suggestion, suggestionValue }) {\n      dispatch(chooseArtist(suggestion))\n    },\n    chooseArtistAdvanceAction () {\n      dispatch(chooseArtistAdvance())\n    },\n    clearArtistSuggestionsAction () {\n      dispatch(clearArtistSuggestions())\n    },\n    fetchArtistSuggestionsAction ({ value }) {\n      dispatch(fetchArtistSuggestions(value))\n    },\n    showNotConsigningMessageAction () {\n      dispatch(showNotConsigningMessage())\n    },\n    updateArtistAutocompleteValueAction (event, { newValue }) {\n      dispatch(updateArtistAutocompleteValue(newValue))\n    }\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ChooseArtist)\n\nChooseArtist.propTypes = {\n  artistAutocompleteSuggestions: PropTypes.array,\n  artistAutocompleteValue: PropTypes.string,\n  artistName: PropTypes.string,\n  clearArtistSuggestionsAction: PropTypes.func.isRequired,\n  chooseArtistAction: PropTypes.func.isRequired,\n  chooseArtistAdvanceAction: PropTypes.func.isRequired,\n  fetchArtistSuggestionsAction: PropTypes.func.isRequired,\n  notConsigningArtist: PropTypes.bool,\n  showNotConsigningMessageAction: PropTypes.func.isRequired,\n  updateArtistAutocompleteValueAction: PropTypes.func.isRequired\n}\n"]}]}