{"remainingRequest":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js??ref--2-1!/Users/eve/development/force/src/mobile/analytics/auth.js","dependencies":[{"path":"/Users/eve/development/force/src/mobile/analytics/auth.js","mtime":1519227436000},{"path":"/Users/eve/development/force/.babelrc","mtime":1537178749000},{"path":"/Users/eve/development/force/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["(function () {\n  var enterModule = require('react-hot-loader').enterModule;\n\n  enterModule && enterModule(module);\n})();\n\n//\n// Events for signup and login.\n//\n// Created account (via email)\nanalyticsHooks.on('auth:signup', function (data, res) {\n  analytics.track('Created account', {\n    acquisition_initiative: data.acquisition_initiative,\n    signup_service: 'email',\n    user_id: res.user.id\n  });\n}); // Created account (via social)\n// 1. Upon clicking the social signup button\n\n$(document).on('click', '.auth-signup-facebook, .marketing-signup-modal-fb', function () {\n  // 2. Store some data in cookies before being redirected everywhere\n  Cookies.set('analytics-signup', JSON.stringify({\n    service: 'facebook',\n    acquisition_initiative: location.search.replace('?m-id=', '')\n  }));\n}); // 3. After landing back on Artsy send the tracking call and expire the cookie\n\nif (Cookies.get('analytics-signup')) {\n  var data = JSON.parse(Cookies.get('analytics-signup'));\n  Cookies.expire('analytics-signup');\n\n  if (sd.CURRENT_USER) {\n    analytics.track('Created account', {\n      acquisition_initiative: data.acquisition_initiative,\n      signup_service: data.service,\n      user_id: sd.CURRENT_USER.id\n    });\n  }\n} // Successfully logged in\n\n\nanalyticsHooks.on('auth:login', function (options) {\n  analytics.track('Successfully logged in');\n});\n;\n\n(function () {\n  var reactHotLoader = require('react-hot-loader').default;\n\n  var leaveModule = require('react-hot-loader').leaveModule;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(data, \"data\", \"/Users/eve/development/force/src/mobile/analytics/auth.js\");\n  leaveModule(module);\n})();\n\n;",{"version":3,"sources":["/Users/eve/development/force/src/mobile/analytics/auth.js"],"names":["analyticsHooks","on","data","res","analytics","track","acquisition_initiative","signup_service","user_id","user","id","$","document","Cookies","set","JSON","stringify","service","location","search","replace","get","parse","expire","sd","CURRENT_USER","options"],"mappings":";;;;;;AAAA;AACA;AACA;AAEA;AACAA,cAAc,CAACC,EAAf,CAAkB,aAAlB,EAAiC,UAASC,IAAT,EAAeC,GAAf,EAAoB;AACnDC,EAAAA,SAAS,CAACC,KAAV,CAAgB,iBAAhB,EAAmC;AACjCC,IAAAA,sBAAsB,EAAEJ,IAAI,CAACI,sBADI;AAEjCC,IAAAA,cAAc,EAAE,OAFiB;AAGjCC,IAAAA,OAAO,EAAEL,GAAG,CAACM,IAAJ,CAASC;AAHe,GAAnC;AAKD,CAND,E,CAQA;AAEA;;AACAC,CAAC,CAACC,QAAD,CAAD,CAAYX,EAAZ,CACE,OADF,EAEE,mDAFF,EAGE,YAAW;AACT;AACAY,EAAAA,OAAO,CAACC,GAAR,CACE,kBADF,EAEEC,IAAI,CAACC,SAAL,CAAe;AACbC,IAAAA,OAAO,EAAE,UADI;AAEbX,IAAAA,sBAAsB,EAAEY,QAAQ,CAACC,MAAT,CAAgBC,OAAhB,CAAwB,QAAxB,EAAkC,EAAlC;AAFX,GAAf,CAFF;AAOD,CAZH,E,CAeA;;AACA,IAAIP,OAAO,CAACQ,GAAR,CAAY,kBAAZ,CAAJ,EAAqC;AACnC,MAAInB,IAAI,GAAGa,IAAI,CAACO,KAAL,CAAWT,OAAO,CAACQ,GAAR,CAAY,kBAAZ,CAAX,CAAX;AACAR,EAAAA,OAAO,CAACU,MAAR,CAAe,kBAAf;;AACA,MAAIC,EAAE,CAACC,YAAP,EAAqB;AACnBrB,IAAAA,SAAS,CAACC,KAAV,CAAgB,iBAAhB,EAAmC;AACjCC,MAAAA,sBAAsB,EAAEJ,IAAI,CAACI,sBADI;AAEjCC,MAAAA,cAAc,EAAEL,IAAI,CAACe,OAFY;AAGjCT,MAAAA,OAAO,EAAEgB,EAAE,CAACC,YAAH,CAAgBf;AAHQ,KAAnC;AAKD;AACF,C,CAED;;;AACAV,cAAc,CAACC,EAAf,CAAkB,YAAlB,EAAgC,UAASyB,OAAT,EAAkB;AAChDtB,EAAAA,SAAS,CAACC,KAAV,CAAgB,wBAAhB;AACD,CAFD;;;;;;;;;;;;0BAZMH,I","sourcesContent":["//\n// Events for signup and login.\n//\n\n// Created account (via email)\nanalyticsHooks.on('auth:signup', function(data, res) {\n  analytics.track('Created account', {\n    acquisition_initiative: data.acquisition_initiative,\n    signup_service: 'email',\n    user_id: res.user.id,\n  })\n})\n\n// Created account (via social)\n\n// 1. Upon clicking the social signup button\n$(document).on(\n  'click',\n  '.auth-signup-facebook, .marketing-signup-modal-fb',\n  function() {\n    // 2. Store some data in cookies before being redirected everywhere\n    Cookies.set(\n      'analytics-signup',\n      JSON.stringify({\n        service: 'facebook',\n        acquisition_initiative: location.search.replace('?m-id=', ''),\n      })\n    )\n  }\n)\n\n// 3. After landing back on Artsy send the tracking call and expire the cookie\nif (Cookies.get('analytics-signup')) {\n  var data = JSON.parse(Cookies.get('analytics-signup'))\n  Cookies.expire('analytics-signup')\n  if (sd.CURRENT_USER) {\n    analytics.track('Created account', {\n      acquisition_initiative: data.acquisition_initiative,\n      signup_service: data.service,\n      user_id: sd.CURRENT_USER.id,\n    })\n  }\n}\n\n// Successfully logged in\nanalyticsHooks.on('auth:login', function(options) {\n  analytics.track('Successfully logged in')\n})\n"]}]}