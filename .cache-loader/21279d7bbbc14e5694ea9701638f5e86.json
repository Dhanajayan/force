{"remainingRequest":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js??ref--2-1!/Users/eve/development/force/src/desktop/apps/personalize/client/onboarding.js","dependencies":[{"path":"/Users/eve/development/force/src/desktop/apps/personalize/client/onboarding.js","mtime":1521064654000},{"path":"/Users/eve/development/force/.babelrc","mtime":1528124541000},{"path":"/Users/eve/development/force/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.init = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\n\nvar _reactRouter = require(\"react-router\");\n\nvar _createBrowserHistory = _interopRequireDefault(require(\"history/createBrowserHistory\"));\n\nvar _cookiesJs = _interopRequireDefault(require(\"cookies-js\"));\n\nvar _Artsy = require(\"@artsy/reaction/dist/Components/Artsy\");\n\nvar _Wizard = require(\"@artsy/reaction/dist/Components/Onboarding/Wizard\");\n\nvar init = function init() {\n  var bootstrapData = window.__BOOTSTRAP__;\n  var redirectTo = '/'; // Check the cookie for a destination\n\n  if (_cookiesJs.default.get('destination')) {\n    redirectTo = _cookiesJs.default.get('destination');\n\n    _cookiesJs.default.expire('destination'); // Also check the redirectTo from query params\n\n  } else if (bootstrapData.redirectTo) {\n    redirectTo = bootstrapData.redirectTo;\n  }\n\n  var history = (0, _createBrowserHistory.default)();\n  history.listen(function (ev) {\n    window.scrollTo(0, 0); // track pageviews when react-router updates the url\n\n    window.analytics.page({\n      path: ev.pathname\n    }, {\n      integrations: {\n        Marketo: false\n      }\n    });\n  }); // Start app\n\n  _reactDom.default.hydrate(_react.default.createElement(_reactRouter.Router, {\n    history: history\n  }, _react.default.createElement(_Artsy.ContextProvider, bootstrapData, _react.default.createElement(_Wizard.Wizard, {\n    redirectTo: redirectTo\n  }))), document.getElementById('react-root'));\n};\n\nexports.init = init;",{"version":3,"sources":["src/desktop/apps/personalize/client/onboarding.js"],"names":["init","bootstrapData","window","__BOOTSTRAP__","redirectTo","get","expire","history","listen","ev","scrollTo","analytics","page","path","pathname","integrations","Marketo","hydrate","document","getElementById"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AACA;;AAEO,IAAMA,OAAO,SAAPA,IAAO,GAAM;AACxB,MAAMC,gBAAgBC,OAAOC,aAA7B;AAEA,MAAIC,aAAa,GAAjB,CAHwB,CAIxB;;AACA,MAAI,mBAAQC,GAAR,CAAY,aAAZ,CAAJ,EAAgC;AAC9BD,iBAAa,mBAAQC,GAAR,CAAY,aAAZ,CAAb;;AACA,uBAAQC,MAAR,CAAe,aAAf,EAF8B,CAI9B;;AACD,GALD,MAKO,IAAIL,cAAcG,UAAlB,EAA8B;AACnCA,iBAAaH,cAAcG,UAA3B;AACD;;AAED,MAAMG,UAAU,oCAAhB;AAEAA,UAAQC,MAAR,CAAe,UAACC,EAAD,EAAQ;AACrBP,WAAOQ,QAAP,CAAgB,CAAhB,EAAmB,CAAnB,EADqB,CAGrB;;AACAR,WAAOS,SAAP,CAAiBC,IAAjB,CACE;AAAEC,YAAMJ,GAAGK;AAAX,KADF,EAEE;AAAEC,oBAAc;AAAEC,iBAAS;AAAX;AAAhB,KAFF;AAID,GARD,EAhBwB,CA0BxB;;AACA,oBAASC,OAAT,CACE;AAAQ,aAASV;AAAjB,KACE,qDAAqBN,aAArB,EACE;AAAQ,gBAAYG;AAApB,IADF,CADF,CADF,EAMEc,SAASC,cAAT,CAAwB,YAAxB,CANF;AAQD,CAnCM","file":"/Users/eve/development/force/src/desktop/apps/personalize/client/onboarding.js","sourceRoot":"/Users/eve/development/force","sourcesContent":["import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Router } from 'react-router'\nimport createHistory from 'history/createBrowserHistory'\nimport Cookies from 'cookies-js'\n\nimport { ContextProvider } from 'reaction/Components/Artsy'\nimport { Wizard } from 'reaction/Components/Onboarding/Wizard'\n\nexport const init = () => {\n  const bootstrapData = window.__BOOTSTRAP__\n\n  let redirectTo = '/'\n  // Check the cookie for a destination\n  if (Cookies.get('destination')) {\n    redirectTo = Cookies.get('destination')\n    Cookies.expire('destination')\n\n    // Also check the redirectTo from query params\n  } else if (bootstrapData.redirectTo) {\n    redirectTo = bootstrapData.redirectTo\n  }\n\n  const history = createHistory()\n\n  history.listen((ev) => {\n    window.scrollTo(0, 0)\n\n    // track pageviews when react-router updates the url\n    window.analytics.page(\n      { path: ev.pathname },\n      { integrations: { Marketo: false } }\n    )\n  })\n\n  // Start app\n  ReactDOM.hydrate(\n    <Router history={history}>\n      <ContextProvider {...bootstrapData}>\n        <Wizard redirectTo={redirectTo} />\n      </ContextProvider>\n    </Router>,\n    document.getElementById('react-root')\n  )\n}\n"]}]}