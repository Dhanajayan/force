{"remainingRequest":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js??ref--2-1!/Users/eve/development/force/src/desktop/apps/article/components/App.js","dependencies":[{"path":"/Users/eve/development/force/src/desktop/apps/article/components/App.js","mtime":1533589543000},{"path":"/Users/eve/development/force/.babelrc","mtime":1528124541000},{"path":"/Users/eve/development/force/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _getPrototypeOf = _interopRequireDefault(require(\"@babel/runtime/core-js/object/get-prototype-of\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _reactHotLoader = require(\"react-hot-loader\");\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\n\nvar _Publishing = require(\"@artsy/reaction/dist/Components/Publishing\");\n\nvar _Artsy = require(\"@artsy/reaction/dist/Components/Artsy\");\n\nvar _InfiniteScrollNewsArticle = require(\"./InfiniteScrollNewsArticle.tsx\");\n\nvar _EditButton = require(\"./EditButton\");\n\nvar _Article = _interopRequireDefault(require(\"./layouts/Article\"));\n\nvar _sharify = require(\"sharify\");\n\nvar _class, _temp2;\n\n// FIXME: Rewire\nvar ArticleLayout = _Article.default;\n\nvar _default = (0, _reactHotLoader.hot)(module)((_temp2 = _class =\n/*#__PURE__*/\nfunction (_React$Component) {\n  (0, _inherits2.default)(App, _React$Component);\n\n  function App() {\n    var _ref;\n\n    var _temp, _this;\n\n    (0, _classCallCheck2.default)(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return (0, _possibleConstructorReturn2.default)(_this, (_temp = _this = (0, _possibleConstructorReturn2.default)(this, (_ref = App.__proto__ || (0, _getPrototypeOf.default)(App)).call.apply(_ref, [this].concat(args))), Object.defineProperty((0, _assertThisInitialized2.default)(_this), \"getArticleLayout\", {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: function value() {\n        var article = _this.props.article;\n\n        switch (article.layout) {\n          case 'video':\n            {\n              return _react.default.createElement(_Publishing.Article, (0, _extends2.default)({}, _this.props, {\n                relatedArticles: article.relatedArticles,\n                seriesArticle: article.seriesArticle\n              }));\n            }\n\n          case 'series':\n            {\n              return _react.default.createElement(_Publishing.Article, (0, _extends2.default)({}, _this.props, {\n                relatedArticles: article.relatedArticles\n              }));\n            }\n\n          case 'news':\n            {\n              return _react.default.createElement(_InfiniteScrollNewsArticle.InfiniteScrollNewsArticle, (0, _extends2.default)({\n                articles: [article]\n              }, _this.props));\n            }\n\n          default:\n            {\n              return _react.default.createElement(ArticleLayout, _this.props);\n            }\n        }\n      }\n    }), _temp));\n  }\n\n  (0, _createClass2.default)(App, [{\n    key: \"render\",\n    value: function render() {\n      var article = this.props.article;\n      return _react.default.createElement(_react.Fragment, null, _react.default.createElement(EditPortal, {\n        article: article\n      }), _react.default.createElement(_Artsy.ContextProvider, {\n        currentUser: _sharify.data.CURRENT_USER\n      }, this.getArticleLayout()));\n    }\n  }]);\n  return App;\n}(_react.default.Component), Object.defineProperty(_class, \"propTypes\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    article: _propTypes.default.object\n  }\n}), _temp2));\n\nexports.default = _default;\n\nvar EditPortal =\n/*#__PURE__*/\nfunction (_React$Component2) {\n  (0, _inherits2.default)(EditPortal, _React$Component2);\n\n  function EditPortal() {\n    (0, _classCallCheck2.default)(this, EditPortal);\n    return (0, _possibleConstructorReturn2.default)(this, (EditPortal.__proto__ || (0, _getPrototypeOf.default)(EditPortal)).apply(this, arguments));\n  }\n\n  (0, _createClass2.default)(EditPortal, [{\n    key: \"render\",\n    value: function render() {\n      var article = this.props.article;\n      var positionTop = article.layout === 'news' ? 125 : null;\n\n      try {\n        return _reactDom.default.createPortal(_react.default.createElement(_EditButton.EditButton, {\n          channelId: article.channel_id,\n          slug: article.slug,\n          positionTop: positionTop\n        }), document.getElementById('react-portal'));\n      } catch (e) {\n        return false;\n      }\n    }\n  }]);\n  return EditPortal;\n}(_react.default.Component);\n\nObject.defineProperty(EditPortal, \"propTypes\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    article: _propTypes.default.object\n  }\n});",{"version":3,"sources":["src/desktop/apps/article/components/App.js"],"names":["ArticleLayout","module","article","props","layout","relatedArticles","seriesArticle","CURRENT_USER","getArticleLayout","Component","object","EditPortal","positionTop","createPortal","channel_id","slug","document","getElementById","e"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA;AACA,IAAIA,gCAAJ;;eAEe,yBAAIC,MAAJ;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,aAMQ,iBAAM;AAAA,YACfC,OADe,GACH,MAAKC,KADF,CACfD,OADe;;AAGvB,gBAAQA,QAAQE,MAAhB;AACE,eAAK,OAAL;AAAc;AACZ,qBACE,6EACM,MAAKD,KADX;AAEE,iCAAiBD,QAAQG,eAF3B;AAGE,+BAAeH,QAAQI;AAHzB,iBADF;AAOD;;AACD,eAAK,QAAL;AAAe;AACb,qBACE,6EACM,MAAKH,KADX;AAEE,iCAAiBD,QAAQG;AAF3B,iBADF;AAMD;;AACD,eAAK,MAAL;AAAa;AACX,qBACE;AAA2B,0BAAU,CAACH,OAAD;AAArC,iBAAoD,MAAKC,KAAzD,EADF;AAGD;;AACD;AAAS;AACP,qBAAO,6BAAC,aAAD,EAAmB,MAAKA,KAAxB,CAAP;AACD;AAzBH;AA2BD;AApCU;AAAA;;AAAA;AAAA;AAAA,6BAsCF;AAAA,UACCD,OADD,GACa,KAAKC,KADlB,CACCD,OADD;AAGP,aACE,oDACE,6BAAC,UAAD;AAAY,iBAASA;AAArB,QADF,EAEE;AAAiB,qBAAa,cAAGK;AAAjC,SACG,KAAKC,gBAAL,EADH,CAFF,CADF;AAQD;AAjDU;AAAA;AAAA,EACK,eAAMC,SADX;AAAA;AAAA;AAAA;AAAA,SAEQ;AACjBP,aAAS,mBAAUQ;AADF;AAFR,Y;;;;IAqDTC,U;;;;;;;;;;;;6BAKK;AAAA,UACCT,OADD,GACa,KAAKC,KADlB,CACCD,OADD;AAEP,UAAMU,cAAcV,QAAQE,MAAR,KAAmB,MAAnB,GAA4B,GAA5B,GAAkC,IAAtD;;AAEA,UAAI;AACF,eAAO,kBAASS,YAAT,CACL;AACE,qBAAWX,QAAQY,UADrB;AAEE,gBAAMZ,QAAQa,IAFhB;AAGE,uBAAaH;AAHf,UADK,EAMLI,SAASC,cAAT,CAAwB,cAAxB,CANK,CAAP;AAQD,OATD,CASE,OAAOC,CAAP,EAAU;AACV,eAAO,KAAP;AACD;AACF;;;EArBsB,eAAMT,S;;sBAAzBE,U;;;;SACe;AACjBT,aAAS,mBAAUQ;AADF","file":"/Users/eve/development/force/src/desktop/apps/article/components/App.js","sourceRoot":"/Users/eve/development/force","sourcesContent":["import { hot } from 'react-hot-loader'\nimport PropTypes from 'prop-types'\nimport React, { Fragment } from 'react'\nimport ReactDOM from 'react-dom'\nimport { Article } from 'reaction/Components/Publishing'\nimport { ContextProvider } from 'reaction/Components/Artsy'\nimport { InfiniteScrollNewsArticle } from './InfiniteScrollNewsArticle.tsx'\nimport { EditButton } from 'desktop/apps/article/components/EditButton'\nimport _ArticleLayout from './layouts/Article'\nimport { data as sd } from 'sharify'\n\n// FIXME: Rewire\nlet ArticleLayout = _ArticleLayout\n\nexport default hot(module)(\n  class App extends React.Component {\n    static propTypes = {\n      article: PropTypes.object,\n    }\n\n    getArticleLayout = () => {\n      const { article } = this.props\n\n      switch (article.layout) {\n        case 'video': {\n          return (\n            <Article\n              {...this.props}\n              relatedArticles={article.relatedArticles}\n              seriesArticle={article.seriesArticle}\n            />\n          )\n        }\n        case 'series': {\n          return (\n            <Article\n              {...this.props}\n              relatedArticles={article.relatedArticles}\n            />\n          )\n        }\n        case 'news': {\n          return (\n            <InfiniteScrollNewsArticle articles={[article]} {...this.props} />\n          )\n        }\n        default: {\n          return <ArticleLayout {...this.props} />\n        }\n      }\n    }\n\n    render() {\n      const { article } = this.props\n\n      return (\n        <Fragment>\n          <EditPortal article={article} />\n          <ContextProvider currentUser={sd.CURRENT_USER}>\n            {this.getArticleLayout()}\n          </ContextProvider>\n        </Fragment>\n      )\n    }\n  }\n)\n\nclass EditPortal extends React.Component {\n  static propTypes = {\n    article: PropTypes.object,\n  }\n\n  render() {\n    const { article } = this.props\n    const positionTop = article.layout === 'news' ? 125 : null\n\n    try {\n      return ReactDOM.createPortal(\n        <EditButton\n          channelId={article.channel_id}\n          slug={article.slug}\n          positionTop={positionTop}\n        />,\n        document.getElementById('react-portal')\n      )\n    } catch (e) {\n      return false\n    }\n  }\n}\n"]}]}