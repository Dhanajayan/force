{"remainingRequest":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js??ref--2-1!/Users/eve/development/force/src/desktop/apps/auctions2/actions/appActions.js","dependencies":[{"path":"/Users/eve/development/force/src/desktop/apps/auctions2/actions/appActions.js","mtime":1519227436000},{"path":"/Users/eve/development/force/.babelrc","mtime":1528124541000},{"path":"/Users/eve/development/force/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getAuctionsRequest = getAuctionsRequest;\nexports.getAuctionsFailure = getAuctionsFailure;\nexports.getAuctionsSuccess = getAuctionsSuccess;\nexports.getCurrentAuctions = getCurrentAuctions;\nexports.GET_AUCTIONS_SUCCESS = exports.GET_AUCTIONS_FAILURE = exports.GET_AUCTIONS_REQUEST = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _metaphysics = _interopRequireDefault(require(\"../../../../lib/metaphysics.coffee\"));\n\nvar _queries = require(\"../utils/queries\");\n\nvar GET_AUCTIONS_REQUEST = 'GET_AUCTIONS_REQUEST';\nexports.GET_AUCTIONS_REQUEST = GET_AUCTIONS_REQUEST;\nvar GET_AUCTIONS_FAILURE = 'GET_AUCTIONS_FAILURE';\nexports.GET_AUCTIONS_FAILURE = GET_AUCTIONS_FAILURE;\nvar GET_AUCTIONS_SUCCESS = 'GET_AUCTIONS_SUCCESS';\nexports.GET_AUCTIONS_SUCCESS = GET_AUCTIONS_SUCCESS;\n\nfunction getAuctionsRequest() {\n  return {\n    type: GET_AUCTIONS_REQUEST\n  };\n}\n\nfunction getAuctionsFailure() {\n  return {\n    type: GET_AUCTIONS_FAILURE\n  };\n}\n\nfunction getAuctionsSuccess(auctions) {\n  return {\n    type: GET_AUCTIONS_SUCCESS,\n    payload: {\n      auctions: auctions\n    }\n  };\n}\n\nfunction getCurrentAuctions() {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref = (0, _asyncToGenerator2.default)(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee(dispatch) {\n        var fetchedAuctions;\n        return _regenerator.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                dispatch(getAuctionsRequest());\n                _context.next = 4;\n                return (0, _metaphysics.default)({\n                  query: (0, _queries.currentAuctions)()\n                });\n\n              case 4:\n                fetchedAuctions = _context.sent;\n                dispatch(getAuctionsSuccess(fetchedAuctions.sales));\n                _context.next = 12;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](0);\n                dispatch(getAuctionsFailure());\n                console.error('error!', _context.t0);\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 8]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()\n  );\n}",{"version":3,"sources":["src/desktop/apps/auctions2/actions/appActions.js"],"names":["GET_AUCTIONS_REQUEST","GET_AUCTIONS_FAILURE","GET_AUCTIONS_SUCCESS","getAuctionsRequest","type","getAuctionsFailure","getAuctionsSuccess","auctions","payload","getCurrentAuctions","dispatch","query","fetchedAuctions","sales","console","error"],"mappings":";;;;;;;;;;;;;;;;;AAAA;;AACA;;AAEO,IAAMA,uBAAuB,sBAA7B;;AACA,IAAMC,uBAAuB,sBAA7B;;AACA,IAAMC,uBAAuB,sBAA7B;;;AAEA,SAASC,kBAAT,GAA+B;AACpC,SAAO;AACLC,UAAMJ;AADD,GAAP;AAGD;;AAEM,SAASK,kBAAT,GAA+B;AACpC,SAAO;AACLD,UAAMH;AADD,GAAP;AAGD;;AAEM,SAASK,kBAAT,CAA6BC,QAA7B,EAAuC;AAC5C,SAAO;AACLH,UAAMF,oBADD;AAELM,aAAS;AACPD;AADO;AAFJ,GAAP;AAMD;;AAEM,SAASE,kBAAT,GAA8B;AACnC;AAAA;AAAA;AAAA;AAAA;AAAA,gCAAO,iBAAOC,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEHA,yBAASP,oBAAT;AAFG;AAAA,uBAG2B,0BAAY;AACxCQ,yBAAO;AADiC,iBAAZ,CAH3B;;AAAA;AAGGC,+BAHH;AAMHF,yBAASJ,mBAAmBM,gBAAgBC,KAAnC,CAAT;AANG;AAAA;;AAAA;AAAA;AAAA;AAQHH,yBAASL,oBAAT;AACAS,wBAAQC,KAAR,CAAc,QAAd;;AATG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAP;;AAAA;AAAA;AAAA;AAAA;AAAA;AAYD","file":"/Users/eve/development/force/src/desktop/apps/auctions2/actions/appActions.js","sourceRoot":"/Users/eve/development/force","sourcesContent":["import metaphysics from 'lib/metaphysics.coffee'\nimport { currentAuctions } from 'desktop/apps/auctions2/utils/queries'\n\nexport const GET_AUCTIONS_REQUEST = 'GET_AUCTIONS_REQUEST'\nexport const GET_AUCTIONS_FAILURE = 'GET_AUCTIONS_FAILURE'\nexport const GET_AUCTIONS_SUCCESS = 'GET_AUCTIONS_SUCCESS'\n\nexport function getAuctionsRequest () {\n  return {\n    type: GET_AUCTIONS_REQUEST\n  }\n}\n\nexport function getAuctionsFailure () {\n  return {\n    type: GET_AUCTIONS_FAILURE\n  }\n}\n\nexport function getAuctionsSuccess (auctions) {\n  return {\n    type: GET_AUCTIONS_SUCCESS,\n    payload: {\n      auctions\n    }\n  }\n}\n\nexport function getCurrentAuctions() {\n  return async (dispatch) => {\n    try {\n      dispatch(getAuctionsRequest())\n      const fetchedAuctions = await metaphysics({\n        query: currentAuctions()\n      })\n      dispatch(getAuctionsSuccess(fetchedAuctions.sales))\n    } catch (error) {\n      dispatch(getAuctionsFailure())\n      console.error('error!', error)\n    }\n  }\n}\n"]}]}