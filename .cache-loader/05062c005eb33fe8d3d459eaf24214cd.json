{"remainingRequest":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js??ref--2-1!/Users/eve/development/force/src/desktop/apps/consign/client/reducers.js","dependencies":[{"path":"/Users/eve/development/force/src/desktop/apps/consign/client/reducers.js","mtime":1537287041000},{"path":"/Users/eve/development/force/.babelrc","mtime":1537178749000},{"path":"/Users/eve/development/force/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/objectSpread\";\n\n(function () {\n  var enterModule = require('react-hot-loader').enterModule;\n\n  enterModule && enterModule(module);\n})();\n\nimport * as actions from \"./actions\";\nimport u from 'updeep';\nimport { combineReducers } from 'redux';\nimport { composeReducers } from \"../../../components/react/utils/composeReducers\";\nimport { data as sd } from 'sharify';\nimport { contains } from 'underscore';\nimport { reducer as formReducer } from 'redux-form';\nimport { responsiveWindowReducer } from \"../../../components/react/responsive_window\";\nimport { routerReducer } from 'react-router-redux';\nvar createAccountStep = 'createAccount';\nvar chooseArtistStep = 'chooseArtist';\nvar describeWorkStep = 'describeWork';\nvar uploadPhotosStep = 'uploadPhotos';\nvar initialState = {\n  artistAutocompleteSuggestions: [],\n  artistAutocompleteValue: '',\n  artistName: sd.SUBMISSION_ARTIST_NAME || '',\n  assetIds: [],\n  authFormState: 'signUp',\n  categoryOptions: ['Painting', 'Sculpture', 'Photography', 'Print', 'Drawing, Collage or other Work on Paper', 'Mixed Media', 'Performance Art', 'Installation', 'Video/Film/Animation', 'Architecture', 'Fashion Design and Wearable Art', 'Jewelry', 'Design/Decorative Art', 'Textile Arts', 'Other'],\n  currencyOptions: ['USD', 'GBP'],\n  currentStep: createAccountStep,\n  error: null,\n  erroredImages: [],\n  inputs: {\n    artist_id: '',\n    authenticity_certificate: false,\n    category: 'Painting',\n    depth: '',\n    dimensions_metric: 'in',\n    edition: false,\n    edition_number: '',\n    edition_size: 0,\n    height: '',\n    location_city: '',\n    location_state: '',\n    location_country: '',\n    medium: '',\n    minimum_price_yesno: false,\n    minimum_price_dollars: '',\n    phone: '',\n    provenance: '',\n    signature: false,\n    title: '',\n    width: '',\n    year: ''\n  },\n  isMobile: false,\n  isLoading: false,\n  locationAutocompleteFrozen: false,\n  locationAutocompleteSuggestions: [],\n  locationAutocompleteValue: '',\n  notConsigningArtist: false,\n  processingImages: [],\n  progressBars: {},\n  redirectOnAuth: true,\n  resetPasswordSuccess: false,\n  skipPhotoSubmission: false,\n  steps: [],\n  submission: sd.SUBMISSION || {},\n  submissionIdFromServer: sd.SUBMISSION_ID,\n  uploadedImages: [],\n  user: sd.CURRENT_USER\n};\n\nfunction submissionFlow() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case actions.ADD_ASSET_ID:\n      {\n        return u({\n          assetIds: state.assetIds.concat(action.payload.assetId)\n        }, state);\n      }\n\n    case actions.ADD_IMAGE_TO_UPLOADED_IMAGES:\n      {\n        var newImage = {\n          fileName: action.payload.fileName,\n          processing: true,\n          src: action.payload.src\n        };\n        return u({\n          uploadedImages: state.uploadedImages.concat(newImage)\n        }, state);\n      }\n\n    case actions.CLEAR_ARTIST_SUGGESTIONS:\n      {\n        return u({\n          artistAutocompleteSuggestions: []\n        }, state);\n      }\n\n    case actions.CLEAR_ERROR:\n      {\n        return u({\n          error: null\n        }, state);\n      }\n\n    case actions.CLEAR_LOCATION_DATA:\n      {\n        return u({\n          inputs: {\n            location_city: '',\n            location_country: '',\n            location_state: ''\n          }\n        }, state);\n      }\n\n    case actions.CLEAR_LOCATION_SUGGESTIONS:\n      {\n        return u({\n          locationAutocompleteSuggestions: []\n        }, state);\n      }\n\n    case actions.ERROR_ON_IMAGE:\n      {\n        var fileName = action.payload.fileName;\n\n        if (!contains(state.erroredImages, fileName)) {\n          return u({\n            erroredImages: state.erroredImages.concat(fileName)\n          }, state);\n        }\n\n        return state;\n      }\n\n    case actions.FREEZE_LOCATION_INPUT:\n      {\n        return u({\n          locationAutocompleteFrozen: true\n        }, state);\n      }\n\n    case actions.HIDE_LOADER:\n      {\n        return u({\n          isLoading: false\n        }, state);\n      }\n\n    case actions.HIDE_NOT_CONSIGNING_MESSAGE:\n      {\n        return u({\n          notConsigningArtist: false\n        }, state);\n      }\n\n    case actions.IGNORE_REDIRECT_ON_AUTH:\n      {\n        return u({\n          redirectOnAuth: false\n        }, state);\n      }\n\n    case actions.REMOVE_ERRORED_IMAGE:\n      {\n        var _fileName = action.payload.fileName;\n\n        if (contains(state.erroredImages, _fileName)) {\n          return u({\n            erroredImages: u.reject(function (ff) {\n              return ff === _fileName;\n            })\n          }, state);\n        }\n\n        return state;\n      }\n\n    case actions.REMOVE_UPLOADED_IMAGE:\n      {\n        var _fileName2 = action.payload.fileName;\n        return u({\n          uploadedImages: u.reject(function (ff) {\n            return ff.fileName === _fileName2;\n          })\n        }, state);\n      }\n\n    case actions.SHOW_LOADER:\n      {\n        return u({\n          isLoading: true\n        }, state);\n      }\n\n    case actions.SHOW_NOT_CONSIGNING_MESSAGE:\n      {\n        return u({\n          notConsigningArtist: true\n        }, state);\n      }\n\n    case actions.SHOW_RESET_PASSWORD_SUCCESS_MESSAGE:\n      {\n        return u({\n          resetPasswordSuccess: true\n        }, state);\n      }\n\n    case actions.START_PROCESSING_IMAGE:\n      {\n        var _fileName3 = action.payload.fileName;\n\n        if (!contains(state.processingImages, _fileName3)) {\n          return u({\n            processingImages: state.processingImages.concat(_fileName3)\n          }, state);\n        }\n\n        return state;\n      }\n\n    case actions.STOP_PROCESSING_IMAGE:\n      {\n        var _fileName4 = action.payload.fileName;\n\n        if (contains(state.processingImages, _fileName4)) {\n          return u({\n            processingImages: u.reject(function (ff) {\n              return ff === _fileName4;\n            })\n          }, state);\n        }\n\n        return state;\n      }\n\n    case actions.UNFREEZE_LOCATION_INPUT:\n      {\n        return u({\n          locationAutocompleteFrozen: false,\n          locationAutocompleteValue: ''\n        }, state);\n      }\n\n    case actions.UPDATE_ARTIST_AUTOCOMPLETE_VALUE:\n      {\n        return u({\n          artistAutocompleteValue: action.payload.value\n        }, state);\n      }\n\n    case actions.UPDATE_ARTIST_ID:\n      {\n        return u({\n          inputs: {\n            artist_id: action.payload.artistId\n          }\n        }, state);\n      }\n\n    case actions.UPDATE_ARTIST_NAME:\n      {\n        return u({\n          artistName: action.payload.artistName\n        }, state);\n      }\n\n    case actions.UPDATE_ARTIST_SUGGESTIONS:\n      {\n        return u({\n          artistAutocompleteSuggestions: action.payload.suggestions\n        }, state);\n      }\n\n    case actions.UPDATE_AUTH_FORM_STATE:\n      {\n        return u({\n          authFormState: action.payload.state\n        }, state);\n      }\n\n    case actions.UPDATE_CURRENT_STEP:\n      {\n        return u({\n          currentStep: action.payload.step\n        }, state);\n      }\n\n    case actions.UPDATE_ERROR:\n      {\n        return u({\n          error: action.payload.error\n        }, state);\n      }\n\n    case actions.UPDATE_INPUTS:\n      {\n        return u({\n          inputs: _objectSpread({}, state.inputs, action.payload.inputs)\n        }, state);\n      }\n\n    case actions.UPDATE_LOCATION_AUTOCOMPLETE_VALUE:\n      {\n        return u({\n          locationAutocompleteValue: action.payload.value\n        }, state);\n      }\n\n    case actions.UPDATE_LOCATION_CITY_VALUE:\n      {\n        return u({\n          inputs: {\n            location_city: action.payload.city\n          }\n        }, state);\n      }\n\n    case actions.UPDATE_LOCATION_SUGGESTIONS:\n      {\n        return u({\n          locationAutocompleteSuggestions: action.payload.suggestions\n        }, state);\n      }\n\n    case actions.UPDATE_LOCATION_VALUES:\n      {\n        return u({\n          inputs: {\n            location_city: action.payload.city,\n            location_country: action.payload.country,\n            location_state: action.payload.state\n          }\n        }, state);\n      }\n\n    case actions.UPDATE_PROGRESS_BAR:\n      {\n        var updatedProgress = _defineProperty({}, action.payload.fileName, action.payload.percent);\n\n        return u({\n          progressBars: _objectSpread({}, state.progressBars, updatedProgress)\n        }, state);\n      }\n\n    case actions.UPDATE_SKIP_PHOTO_SUBMISSION:\n      {\n        return u({\n          skipPhotoSubmission: action.payload.skip\n        }, state);\n      }\n\n    case actions.UPDATE_STEPS_WITH_USER:\n      {\n        return u({\n          currentStep: chooseArtistStep,\n          steps: [chooseArtistStep, describeWorkStep, uploadPhotosStep]\n        }, state);\n      }\n\n    case actions.UPDATE_STEPS_WITHOUT_USER:\n      {\n        return u({\n          currentStep: createAccountStep,\n          steps: [createAccountStep, chooseArtistStep, describeWorkStep, uploadPhotosStep]\n        }, state);\n      }\n\n    case actions.UPDATE_SUBMISSION:\n      {\n        return u({\n          submission: action.payload.submission\n        }, state);\n      }\n\n    case actions.UPDATE_USER:\n      {\n        return u({\n          user: action.payload.user\n        }, state);\n      }\n\n    case actions.UPDATE_USER_PHONE:\n      {\n        return u({\n          user: {\n            phone: action.payload.phone\n          }\n        }, state);\n      }\n\n    default:\n      return state;\n  }\n}\n\nvar _default = combineReducers({\n  submissionFlow: composeReducers(responsiveWindowReducer, submissionFlow),\n  router: routerReducer,\n  form: formReducer\n});\n\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = require('react-hot-loader').default;\n\n  var leaveModule = require('react-hot-loader').leaveModule;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(createAccountStep, \"createAccountStep\", \"/Users/eve/development/force/src/desktop/apps/consign/client/reducers.js\");\n  reactHotLoader.register(chooseArtistStep, \"chooseArtistStep\", \"/Users/eve/development/force/src/desktop/apps/consign/client/reducers.js\");\n  reactHotLoader.register(describeWorkStep, \"describeWorkStep\", \"/Users/eve/development/force/src/desktop/apps/consign/client/reducers.js\");\n  reactHotLoader.register(uploadPhotosStep, \"uploadPhotosStep\", \"/Users/eve/development/force/src/desktop/apps/consign/client/reducers.js\");\n  reactHotLoader.register(initialState, \"initialState\", \"/Users/eve/development/force/src/desktop/apps/consign/client/reducers.js\");\n  reactHotLoader.register(submissionFlow, \"submissionFlow\", \"/Users/eve/development/force/src/desktop/apps/consign/client/reducers.js\");\n  reactHotLoader.register(_default, \"default\", \"/Users/eve/development/force/src/desktop/apps/consign/client/reducers.js\");\n  leaveModule(module);\n})();\n\n;",{"version":3,"sources":["/Users/eve/development/force/src/desktop/apps/consign/client/reducers.js"],"names":["actions","u","combineReducers","composeReducers","data","sd","contains","reducer","formReducer","responsiveWindowReducer","routerReducer","createAccountStep","chooseArtistStep","describeWorkStep","uploadPhotosStep","initialState","artistAutocompleteSuggestions","artistAutocompleteValue","artistName","SUBMISSION_ARTIST_NAME","assetIds","authFormState","categoryOptions","currencyOptions","currentStep","error","erroredImages","inputs","artist_id","authenticity_certificate","category","depth","dimensions_metric","edition","edition_number","edition_size","height","location_city","location_state","location_country","medium","minimum_price_yesno","minimum_price_dollars","phone","provenance","signature","title","width","year","isMobile","isLoading","locationAutocompleteFrozen","locationAutocompleteSuggestions","locationAutocompleteValue","notConsigningArtist","processingImages","progressBars","redirectOnAuth","resetPasswordSuccess","skipPhotoSubmission","steps","submission","SUBMISSION","submissionIdFromServer","SUBMISSION_ID","uploadedImages","user","CURRENT_USER","submissionFlow","state","action","type","ADD_ASSET_ID","concat","payload","assetId","ADD_IMAGE_TO_UPLOADED_IMAGES","newImage","fileName","processing","src","CLEAR_ARTIST_SUGGESTIONS","CLEAR_ERROR","CLEAR_LOCATION_DATA","CLEAR_LOCATION_SUGGESTIONS","ERROR_ON_IMAGE","FREEZE_LOCATION_INPUT","HIDE_LOADER","HIDE_NOT_CONSIGNING_MESSAGE","IGNORE_REDIRECT_ON_AUTH","REMOVE_ERRORED_IMAGE","reject","ff","REMOVE_UPLOADED_IMAGE","SHOW_LOADER","SHOW_NOT_CONSIGNING_MESSAGE","SHOW_RESET_PASSWORD_SUCCESS_MESSAGE","START_PROCESSING_IMAGE","STOP_PROCESSING_IMAGE","UNFREEZE_LOCATION_INPUT","UPDATE_ARTIST_AUTOCOMPLETE_VALUE","value","UPDATE_ARTIST_ID","artistId","UPDATE_ARTIST_NAME","UPDATE_ARTIST_SUGGESTIONS","suggestions","UPDATE_AUTH_FORM_STATE","UPDATE_CURRENT_STEP","step","UPDATE_ERROR","UPDATE_INPUTS","UPDATE_LOCATION_AUTOCOMPLETE_VALUE","UPDATE_LOCATION_CITY_VALUE","city","UPDATE_LOCATION_SUGGESTIONS","UPDATE_LOCATION_VALUES","country","UPDATE_PROGRESS_BAR","updatedProgress","percent","UPDATE_SKIP_PHOTO_SUBMISSION","skip","UPDATE_STEPS_WITH_USER","UPDATE_STEPS_WITHOUT_USER","UPDATE_SUBMISSION","UPDATE_USER","UPDATE_USER_PHONE","router","form"],"mappings":"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","sourcesContent":["import * as actions from './actions'\nimport u from 'updeep'\nimport { combineReducers } from 'redux'\nimport { composeReducers } from '../../../components/react/utils/composeReducers'\nimport { data as sd } from 'sharify'\nimport { contains } from 'underscore'\nimport { reducer as formReducer } from 'redux-form'\nimport { responsiveWindowReducer } from '../../../components/react/responsive_window'\nimport { routerReducer } from 'react-router-redux'\n\nconst createAccountStep = 'createAccount'\nconst chooseArtistStep = 'chooseArtist'\nconst describeWorkStep = 'describeWork'\nconst uploadPhotosStep = 'uploadPhotos'\n\nconst initialState = {\n  artistAutocompleteSuggestions: [],\n  artistAutocompleteValue: '',\n  artistName: sd.SUBMISSION_ARTIST_NAME || '',\n  assetIds: [],\n  authFormState: 'signUp',\n  categoryOptions: [\n    'Painting',\n    'Sculpture',\n    'Photography',\n    'Print',\n    'Drawing, Collage or other Work on Paper',\n    'Mixed Media',\n    'Performance Art',\n    'Installation',\n    'Video/Film/Animation',\n    'Architecture',\n    'Fashion Design and Wearable Art',\n    'Jewelry',\n    'Design/Decorative Art',\n    'Textile Arts',\n    'Other',\n  ],\n  currencyOptions: ['USD', 'GBP'],\n  currentStep: createAccountStep,\n  error: null,\n  erroredImages: [],\n  inputs: {\n    artist_id: '',\n    authenticity_certificate: false,\n    category: 'Painting',\n    depth: '',\n    dimensions_metric: 'in',\n    edition: false,\n    edition_number: '',\n    edition_size: 0,\n    height: '',\n    location_city: '',\n    location_state: '',\n    location_country: '',\n    medium: '',\n    minimum_price_yesno: false,\n    minimum_price_dollars: '',\n    phone: '',\n    provenance: '',\n    signature: false,\n    title: '',\n    width: '',\n    year: '',\n  },\n  isMobile: false,\n  isLoading: false,\n  locationAutocompleteFrozen: false,\n  locationAutocompleteSuggestions: [],\n  locationAutocompleteValue: '',\n  notConsigningArtist: false,\n  processingImages: [],\n  progressBars: {},\n  redirectOnAuth: true,\n  resetPasswordSuccess: false,\n  skipPhotoSubmission: false,\n  steps: [],\n  submission: sd.SUBMISSION || {},\n  submissionIdFromServer: sd.SUBMISSION_ID,\n  uploadedImages: [],\n  user: sd.CURRENT_USER,\n}\n\nfunction submissionFlow(state = initialState, action) {\n  switch (action.type) {\n    case actions.ADD_ASSET_ID: {\n      return u(\n        {\n          assetIds: state.assetIds.concat(action.payload.assetId),\n        },\n        state\n      )\n    }\n    case actions.ADD_IMAGE_TO_UPLOADED_IMAGES: {\n      const newImage = {\n        fileName: action.payload.fileName,\n        processing: true,\n        src: action.payload.src,\n      }\n      return u(\n        {\n          uploadedImages: state.uploadedImages.concat(newImage),\n        },\n        state\n      )\n    }\n    case actions.CLEAR_ARTIST_SUGGESTIONS: {\n      return u(\n        {\n          artistAutocompleteSuggestions: [],\n        },\n        state\n      )\n    }\n    case actions.CLEAR_ERROR: {\n      return u(\n        {\n          error: null,\n        },\n        state\n      )\n    }\n    case actions.CLEAR_LOCATION_DATA: {\n      return u(\n        {\n          inputs: {\n            location_city: '',\n            location_country: '',\n            location_state: '',\n          },\n        },\n        state\n      )\n    }\n    case actions.CLEAR_LOCATION_SUGGESTIONS: {\n      return u(\n        {\n          locationAutocompleteSuggestions: [],\n        },\n        state\n      )\n    }\n    case actions.ERROR_ON_IMAGE: {\n      const fileName = action.payload.fileName\n      if (!contains(state.erroredImages, fileName)) {\n        return u(\n          {\n            erroredImages: state.erroredImages.concat(fileName),\n          },\n          state\n        )\n      }\n      return state\n    }\n    case actions.FREEZE_LOCATION_INPUT: {\n      return u(\n        {\n          locationAutocompleteFrozen: true,\n        },\n        state\n      )\n    }\n    case actions.HIDE_LOADER: {\n      return u(\n        {\n          isLoading: false,\n        },\n        state\n      )\n    }\n    case actions.HIDE_NOT_CONSIGNING_MESSAGE: {\n      return u(\n        {\n          notConsigningArtist: false,\n        },\n        state\n      )\n    }\n    case actions.IGNORE_REDIRECT_ON_AUTH: {\n      return u(\n        {\n          redirectOnAuth: false,\n        },\n        state\n      )\n    }\n    case actions.REMOVE_ERRORED_IMAGE: {\n      const fileName = action.payload.fileName\n      if (contains(state.erroredImages, fileName)) {\n        return u(\n          {\n            erroredImages: u.reject(ff => ff === fileName),\n          },\n          state\n        )\n      }\n      return state\n    }\n    case actions.REMOVE_UPLOADED_IMAGE: {\n      const fileName = action.payload.fileName\n      return u(\n        {\n          uploadedImages: u.reject(ff => ff.fileName === fileName),\n        },\n        state\n      )\n    }\n    case actions.SHOW_LOADER: {\n      return u(\n        {\n          isLoading: true,\n        },\n        state\n      )\n    }\n    case actions.SHOW_NOT_CONSIGNING_MESSAGE: {\n      return u(\n        {\n          notConsigningArtist: true,\n        },\n        state\n      )\n    }\n    case actions.SHOW_RESET_PASSWORD_SUCCESS_MESSAGE: {\n      return u(\n        {\n          resetPasswordSuccess: true,\n        },\n        state\n      )\n    }\n    case actions.START_PROCESSING_IMAGE: {\n      const fileName = action.payload.fileName\n      if (!contains(state.processingImages, fileName)) {\n        return u(\n          {\n            processingImages: state.processingImages.concat(fileName),\n          },\n          state\n        )\n      }\n      return state\n    }\n    case actions.STOP_PROCESSING_IMAGE: {\n      const fileName = action.payload.fileName\n      if (contains(state.processingImages, fileName)) {\n        return u(\n          {\n            processingImages: u.reject(ff => ff === fileName),\n          },\n          state\n        )\n      }\n      return state\n    }\n    case actions.UNFREEZE_LOCATION_INPUT: {\n      return u(\n        {\n          locationAutocompleteFrozen: false,\n          locationAutocompleteValue: '',\n        },\n        state\n      )\n    }\n    case actions.UPDATE_ARTIST_AUTOCOMPLETE_VALUE: {\n      return u(\n        {\n          artistAutocompleteValue: action.payload.value,\n        },\n        state\n      )\n    }\n    case actions.UPDATE_ARTIST_ID: {\n      return u(\n        {\n          inputs: {\n            artist_id: action.payload.artistId,\n          },\n        },\n        state\n      )\n    }\n    case actions.UPDATE_ARTIST_NAME: {\n      return u(\n        {\n          artistName: action.payload.artistName,\n        },\n        state\n      )\n    }\n    case actions.UPDATE_ARTIST_SUGGESTIONS: {\n      return u(\n        {\n          artistAutocompleteSuggestions: action.payload.suggestions,\n        },\n        state\n      )\n    }\n    case actions.UPDATE_AUTH_FORM_STATE: {\n      return u(\n        {\n          authFormState: action.payload.state,\n        },\n        state\n      )\n    }\n    case actions.UPDATE_CURRENT_STEP: {\n      return u(\n        {\n          currentStep: action.payload.step,\n        },\n        state\n      )\n    }\n    case actions.UPDATE_ERROR: {\n      return u(\n        {\n          error: action.payload.error,\n        },\n        state\n      )\n    }\n    case actions.UPDATE_INPUTS: {\n      return u(\n        {\n          inputs: {\n            ...state.inputs,\n            ...action.payload.inputs,\n          },\n        },\n        state\n      )\n    }\n    case actions.UPDATE_LOCATION_AUTOCOMPLETE_VALUE: {\n      return u(\n        {\n          locationAutocompleteValue: action.payload.value,\n        },\n        state\n      )\n    }\n    case actions.UPDATE_LOCATION_CITY_VALUE: {\n      return u(\n        {\n          inputs: {\n            location_city: action.payload.city,\n          },\n        },\n        state\n      )\n    }\n    case actions.UPDATE_LOCATION_SUGGESTIONS: {\n      return u(\n        {\n          locationAutocompleteSuggestions: action.payload.suggestions,\n        },\n        state\n      )\n    }\n    case actions.UPDATE_LOCATION_VALUES: {\n      return u(\n        {\n          inputs: {\n            location_city: action.payload.city,\n            location_country: action.payload.country,\n            location_state: action.payload.state,\n          },\n        },\n        state\n      )\n    }\n    case actions.UPDATE_PROGRESS_BAR: {\n      const updatedProgress = {\n        [action.payload.fileName]: action.payload.percent,\n      }\n      return u(\n        {\n          progressBars: {\n            ...state.progressBars,\n            ...updatedProgress,\n          },\n        },\n        state\n      )\n    }\n    case actions.UPDATE_SKIP_PHOTO_SUBMISSION: {\n      return u(\n        {\n          skipPhotoSubmission: action.payload.skip,\n        },\n        state\n      )\n    }\n    case actions.UPDATE_STEPS_WITH_USER: {\n      return u(\n        {\n          currentStep: chooseArtistStep,\n          steps: [chooseArtistStep, describeWorkStep, uploadPhotosStep],\n        },\n        state\n      )\n    }\n    case actions.UPDATE_STEPS_WITHOUT_USER: {\n      return u(\n        {\n          currentStep: createAccountStep,\n          steps: [\n            createAccountStep,\n            chooseArtistStep,\n            describeWorkStep,\n            uploadPhotosStep,\n          ],\n        },\n        state\n      )\n    }\n    case actions.UPDATE_SUBMISSION: {\n      return u(\n        {\n          submission: action.payload.submission,\n        },\n        state\n      )\n    }\n    case actions.UPDATE_USER: {\n      return u(\n        {\n          user: action.payload.user,\n        },\n        state\n      )\n    }\n    case actions.UPDATE_USER_PHONE: {\n      return u(\n        {\n          user: {\n            phone: action.payload.phone,\n          },\n        },\n        state\n      )\n    }\n    default:\n      return state\n  }\n}\n\nexport default combineReducers({\n  submissionFlow: composeReducers(responsiveWindowReducer, submissionFlow),\n  router: routerReducer,\n  form: formReducer,\n})\n"]}]}