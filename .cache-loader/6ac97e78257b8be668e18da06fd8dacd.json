{"remainingRequest":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js??ref--2-1!/Users/eve/development/force/src/desktop/apps/consign/client/validate.js","dependencies":[{"path":"/Users/eve/development/force/src/desktop/apps/consign/client/validate.js","mtime":1519227436000},{"path":"/Users/eve/development/force/.babelrc","mtime":1537178749000},{"path":"/Users/eve/development/force/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["(function () {\n  var enterModule = require('react-hot-loader').enterModule;\n\n  enterModule && enterModule(module);\n})();\n\nimport { submissionError } from \"./actions\";\nexport var numberWarning = function numberWarning(value) {\n  return value && isNaN(Number(value)) && 'Must be a number';\n};\nexport var dispatchAndScrollToError = function dispatchAndScrollToError(errors, dispatch) {\n  dispatch(submissionError('validation'));\n  scrollToError(errors);\n};\nexport var scrollToError = function scrollToError(errors) {\n  var scrollBuffer = 5;\n  var firstError = Object.keys(errors)[0];\n  var firstErrorElement = document.getElementsByName(firstError)[0];\n\n  if (firstErrorElement) {\n    window.scrollTo(0, firstErrorElement.offsetTop - scrollBuffer);\n    firstErrorElement.querySelector('input').focus();\n  }\n};\nexport function validate(values) {\n  var depth = values.depth,\n      edition = values.edition,\n      edition_number = values.edition_number,\n      edition_size = values.edition_size,\n      height = values.height,\n      location = values.location,\n      medium = values.medium,\n      phone = values.phone,\n      title = values.title,\n      width = values.width,\n      year = values.year;\n  var errors = {}; // The order of these errors are important, as it determines which field to scroll to\n  // when there is an error on submission.\n\n  if (!title) errors.title = 'Required';\n  if (!year) errors.year = 'Required';\n  if (!medium) errors.medium = 'Required';\n  if (!phone) errors.phone = 'Required';\n  if (!height || numberWarning(height)) errors.height = 'Required';\n  if (!width || numberWarning(width)) errors.width = 'Required';\n  if (numberWarning(depth)) errors.depth = 'Required';\n\n  if (edition) {\n    if (!edition_number) errors.edition_number = 'Required';\n    if (!edition_size || numberWarning(edition_size)) errors.edition_size = 'Required';\n  }\n\n  if (!location) errors.location = 'Required';\n  return errors;\n}\n;\n\n(function () {\n  var reactHotLoader = require('react-hot-loader').default;\n\n  var leaveModule = require('react-hot-loader').leaveModule;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(numberWarning, \"numberWarning\", \"/Users/eve/development/force/src/desktop/apps/consign/client/validate.js\");\n  reactHotLoader.register(dispatchAndScrollToError, \"dispatchAndScrollToError\", \"/Users/eve/development/force/src/desktop/apps/consign/client/validate.js\");\n  reactHotLoader.register(scrollToError, \"scrollToError\", \"/Users/eve/development/force/src/desktop/apps/consign/client/validate.js\");\n  reactHotLoader.register(validate, \"validate\", \"/Users/eve/development/force/src/desktop/apps/consign/client/validate.js\");\n  leaveModule(module);\n})();\n\n;",{"version":3,"sources":["/Users/eve/development/force/src/desktop/apps/consign/client/validate.js"],"names":["submissionError","numberWarning","value","isNaN","Number","dispatchAndScrollToError","errors","dispatch","scrollToError","scrollBuffer","firstError","Object","keys","firstErrorElement","document","getElementsByName","window","scrollTo","offsetTop","querySelector","focus","validate","values","depth","edition","edition_number","edition_size","height","location","medium","phone","title","width","year"],"mappings":"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","sourcesContent":["import { submissionError } from './actions'\n\nexport const numberWarning = value => value && isNaN(Number(value)) && 'Must be a number'\n\nexport const dispatchAndScrollToError = (errors, dispatch) => {\n  dispatch(submissionError('validation'))\n  scrollToError(errors)\n}\n\nexport const scrollToError = (errors) => {\n  const scrollBuffer = 5\n  const firstError = Object.keys(errors)[0]\n  const firstErrorElement = document.getElementsByName(firstError)[0]\n  if (firstErrorElement) {\n    window.scrollTo(0, firstErrorElement.offsetTop - scrollBuffer)\n    firstErrorElement.querySelector('input').focus()\n  }\n}\n\nexport function validate (values) {\n  const {\n    depth,\n    edition,\n    edition_number,\n    edition_size,\n    height,\n    location,\n    medium,\n    phone,\n    title,\n    width,\n    year\n  } = values\n  const errors = {}\n\n  // The order of these errors are important, as it determines which field to scroll to\n  // when there is an error on submission.\n  if (!title) errors.title = 'Required'\n  if (!year) errors.year = 'Required'\n  if (!medium) errors.medium = 'Required'\n  if (!phone) errors.phone = 'Required'\n  if (!height || numberWarning(height)) errors.height = 'Required'\n  if (!width || numberWarning(width)) errors.width = 'Required'\n  if (numberWarning(depth)) errors.depth = 'Required'\n  if (edition) {\n    if (!edition_number) errors.edition_number = 'Required'\n    if (!edition_size || numberWarning(edition_size)) errors.edition_size = 'Required'\n  }\n  if (!location) errors.location = 'Required'\n\n  return errors\n}\n"]}]}