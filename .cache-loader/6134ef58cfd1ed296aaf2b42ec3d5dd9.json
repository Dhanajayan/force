{"remainingRequest":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js??ref--2-1!/Users/eve/development/force/src/desktop/apps/auction/components/artwork_browser/PromotedSaleArtworks.js","dependencies":[{"path":"/Users/eve/development/force/src/desktop/apps/auction/components/artwork_browser/PromotedSaleArtworks.js","mtime":1524156693000},{"path":"/Users/eve/development/force/.babelrc","mtime":1528124541000},{"path":"/Users/eve/development/force/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _MasonryGrid = _interopRequireDefault(require(\"../../../../components/react/masonry_grid/MasonryGrid\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _lodash = _interopRequireDefault(require(\"lodash.get\"));\n\nvar _Artwork = require(\"@artsy/reaction/dist/Components/Artwork\");\n\nvar _ArtworkRail = require(\"../artwork_rail/ArtworkRail\");\n\nvar _reactRedux = require(\"react-redux\");\n\nfunction PromotedSaleArtworks(props) {\n  var isClosed = props.isClosed,\n      isMobile = props.isMobile,\n      promotedSaleArtworks = props.promotedSaleArtworks;\n  var isRenderable = Boolean(!isClosed && promotedSaleArtworks && promotedSaleArtworks.length);\n\n  if (!isRenderable) {\n    return null;\n  }\n\n  return _react.default.createElement(_react.Fragment, null, isMobile ? _react.default.createElement(_MasonryGrid.default, {\n    mask: true,\n    title: \"Buy Now\",\n    columnCount: 2,\n    items: promotedSaleArtworks,\n    getAspectRatio: function getAspectRatio(_ref) {\n      var artwork = _ref.artwork;\n      return (0, _lodash.default)(artwork, 'images.0.aspect_ratio');\n    },\n    getDisplayComponent: function getDisplayComponent(_ref2) {\n      var artwork = _ref2.artwork;\n      return _react.default.createElement(\"div\", {\n        onClick: function onClick() {\n          return window.location = artwork.href;\n        }\n      }, _react.default.createElement(_Artwork.Artwork, {\n        artwork: artwork,\n        useRelay: false\n      }));\n    }\n  }) : // Desktop\n  _react.default.createElement(_ArtworkRail.ArtworkRail, {\n    title: \"Buy Now\",\n    artworks: promotedSaleArtworks,\n    getDisplayComponent: function getDisplayComponent(_ref3) {\n      var artwork = _ref3.artwork;\n      return _react.default.createElement(\"div\", {\n        onClick: function onClick() {\n          return window.location = artwork.href;\n        }\n      }, _react.default.createElement(_Artwork.Artwork, {\n        artwork: artwork,\n        useRelay: false\n      }));\n    }\n  }));\n}\n\nPromotedSaleArtworks.propTypes = {\n  isClosed: _propTypes.default.bool.isRequired,\n  isMobile: _propTypes.default.bool.isRequired,\n  promotedSaleArtworks: _propTypes.default.array.isRequired\n};\nPromotedSaleArtworks.defaultProps = {\n  promotedSaleArtworks: []\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  var _state$app = state.app,\n      auction = _state$app.auction,\n      isMobile = _state$app.isMobile;\n  var auctionData = auction.toJSON();\n  var promotedSaleArtworks = (0, _lodash.default)(auctionData, 'promoted_sale.sale_artworks', []);\n  return {\n    isClosed: auctionData.is_closed,\n    isMobile: isMobile,\n    promotedSaleArtworks: promotedSaleArtworks\n  };\n};\n\nvar _default = (0, _reactRedux.connect)(mapStateToProps)(PromotedSaleArtworks);\n\nexports.default = _default;",{"version":3,"sources":["src/desktop/apps/auction/components/artwork_browser/PromotedSaleArtworks.js"],"names":["PromotedSaleArtworks","props","isClosed","isMobile","promotedSaleArtworks","isRenderable","Boolean","length","artwork","window","location","href","propTypes","bool","isRequired","array","defaultProps","mapStateToProps","state","app","auction","auctionData","toJSON","is_closed"],"mappings":";;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA,SAASA,oBAAT,CAA8BC,KAA9B,EAAqC;AAAA,MAC3BC,QAD2B,GACkBD,KADlB,CAC3BC,QAD2B;AAAA,MACjBC,QADiB,GACkBF,KADlB,CACjBE,QADiB;AAAA,MACPC,oBADO,GACkBH,KADlB,CACPG,oBADO;AAEnC,MAAMC,eAAeC,QACnB,CAACJ,QAAD,IAAaE,oBAAb,IAAqCA,qBAAqBG,MADvC,CAArB;;AAIA,MAAI,CAACF,YAAL,EAAmB;AACjB,WAAO,IAAP;AACD;;AAED,SACE,oDACGF,WACC;AACE,cADF;AAEE,WAAM,SAFR;AAGE,iBAAa,CAHf;AAIE,WAAOC,oBAJT;AAKE,oBAAgB,8BAAiB;AAAA,UAAdI,OAAc,QAAdA,OAAc;AAC/B,aAAO,qBAAIA,OAAJ,EAAa,uBAAb,CAAP;AACD,KAPH;AAQE,yBAAqB,oCAAiB;AAAA,UAAdA,OAAc,SAAdA,OAAc;AACpC,aACE;AAAK,iBAAS;AAAA,iBAAOC,OAAOC,QAAP,GAAkBF,QAAQG,IAAjC;AAAA;AAAd,SACE;AAAS,iBAASH,OAAlB;AAA2B,kBAAU;AAArC,QADF,CADF;AAKD;AAdH,IADD,GAkBC;AACA;AACE,WAAM,SADR;AAEE,cAAUJ,oBAFZ;AAGE,yBAAqB,oCAAiB;AAAA,UAAdI,OAAc,SAAdA,OAAc;AACpC,aACE;AAAK,iBAAS;AAAA,iBAAOC,OAAOC,QAAP,GAAkBF,QAAQG,IAAjC;AAAA;AAAd,SACE;AAAS,iBAASH,OAAlB;AAA2B,kBAAU;AAArC,QADF,CADF;AAKD;AATH,IApBJ,CADF;AAmCD;;AAEDR,qBAAqBY,SAArB,GAAiC;AAC/BV,YAAU,mBAAUW,IAAV,CAAeC,UADM;AAE/BX,YAAU,mBAAUU,IAAV,CAAeC,UAFM;AAG/BV,wBAAsB,mBAAUW,KAAV,CAAgBD;AAHP,CAAjC;AAMAd,qBAAqBgB,YAArB,GAAoC;AAClCZ,wBAAsB;AADY,CAApC;;AAIA,IAAMa,kBAAkB,SAAlBA,eAAkB,QAAS;AAAA,mBACQC,KADR,CACvBC,GADuB;AAAA,MAChBC,OADgB,cAChBA,OADgB;AAAA,MACPjB,QADO,cACPA,QADO;AAG/B,MAAMkB,cAAcD,QAAQE,MAAR,EAApB;AACA,MAAMlB,uBAAuB,qBAC3BiB,WAD2B,EAE3B,6BAF2B,EAG3B,EAH2B,CAA7B;AAMA,SAAO;AACLnB,cAAUmB,YAAYE,SADjB;AAELpB,sBAFK;AAGLC;AAHK,GAAP;AAKD,CAfD;;eAiBe,yBAAQa,eAAR,EAAyBjB,oBAAzB,C","file":"/Users/eve/development/force/src/desktop/apps/auction/components/artwork_browser/PromotedSaleArtworks.js","sourceRoot":"/Users/eve/development/force","sourcesContent":["import PropTypes from 'prop-types'\nimport MasonryGrid from 'desktop/components/react/masonry_grid/MasonryGrid'\nimport React, { Fragment } from 'react'\nimport get from 'lodash.get'\nimport { Artwork } from 'reaction/Components/Artwork'\nimport { ArtworkRail } from '../artwork_rail/ArtworkRail'\nimport { connect } from 'react-redux'\n\nfunction PromotedSaleArtworks(props) {\n  const { isClosed, isMobile, promotedSaleArtworks } = props\n  const isRenderable = Boolean(\n    !isClosed && promotedSaleArtworks && promotedSaleArtworks.length\n  )\n\n  if (!isRenderable) {\n    return null\n  }\n\n  return (\n    <Fragment>\n      {isMobile ? (\n        <MasonryGrid\n          mask\n          title=\"Buy Now\"\n          columnCount={2}\n          items={promotedSaleArtworks}\n          getAspectRatio={({ artwork }) => {\n            return get(artwork, 'images.0.aspect_ratio')\n          }}\n          getDisplayComponent={({ artwork }) => {\n            return (\n              <div onClick={() => (window.location = artwork.href)}>\n                <Artwork artwork={artwork} useRelay={false} />\n              </div>\n            )\n          }}\n        />\n      ) : (\n        // Desktop\n        <ArtworkRail\n          title=\"Buy Now\"\n          artworks={promotedSaleArtworks}\n          getDisplayComponent={({ artwork }) => {\n            return (\n              <div onClick={() => (window.location = artwork.href)}>\n                <Artwork artwork={artwork} useRelay={false} />\n              </div>\n            )\n          }}\n        />\n      )}\n    </Fragment>\n  )\n}\n\nPromotedSaleArtworks.propTypes = {\n  isClosed: PropTypes.bool.isRequired,\n  isMobile: PropTypes.bool.isRequired,\n  promotedSaleArtworks: PropTypes.array.isRequired,\n}\n\nPromotedSaleArtworks.defaultProps = {\n  promotedSaleArtworks: [],\n}\n\nconst mapStateToProps = state => {\n  const { app: { auction, isMobile } } = state\n\n  const auctionData = auction.toJSON()\n  const promotedSaleArtworks = get(\n    auctionData,\n    'promoted_sale.sale_artworks',\n    []\n  )\n\n  return {\n    isClosed: auctionData.is_closed,\n    isMobile,\n    promotedSaleArtworks,\n  }\n}\n\nexport default connect(mapStateToProps)(PromotedSaleArtworks)\n"]}]}