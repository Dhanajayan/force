{"remainingRequest":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js??ref--2-1!/Users/eve/development/force/src/desktop/apps/consign/components/uploaded_image/index.js","dependencies":[{"path":"/Users/eve/development/force/src/desktop/apps/consign/components/uploaded_image/index.js","mtime":1519227436000},{"path":"/Users/eve/development/force/.babelrc","mtime":1537178749000},{"path":"/Users/eve/development/force/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _extends from \"@babel/runtime/helpers/extends\";\n\n(function () {\n  var enterModule = require('react-hot-loader').enterModule;\n\n  enterModule && enterModule(module);\n})();\n\nvar Alert = function Alert(props) {\n  return React.createElement(\"svg\", _extends({\n    width: \"15\",\n    height: \"15\",\n    viewBox: \"0 0 15 15\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props), React.createElement(\"path\", {\n    d: \"M7.216 0a7.216 7.216 0 1 0 7.214 7.215A7.216 7.216 0 0 0 7.216 0zm.844 12.175a1.293 1.293 0 0 1-.918.368 1.297 1.297 0 0 1-.924-.376 1.186 1.186 0 0 1-.39-.892c0-.346.134-.643.398-.897.261-.25.57-.375.925-.374.352 0 .657.129.918.381.258.255.389.555.387.902a1.184 1.184 0 0 1-.396.888zm.341-7.692c-.066.307-.153.667-.255 1.08a55.14 55.14 0 0 0-.334 1.463 50.279 50.279 0 0 0-.397 2.166L6.89 9.19a42.91 42.91 0 0 0-.701-3.629 36.661 36.661 0 0 1-.235-1.055c-.073-.343-.108-.601-.105-.775 0-.35.133-.648.392-.894.259-.249.573-.372.936-.37.359.002.672.127.935.377.262.248.393.549.391.899 0 .186-.035.433-.102.74z\",\n    fill: \"#F4645C\",\n    fillRule: \"evenodd\"\n  }));\n};\n\nvar Close = function Close(props) {\n  return React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"32\",\n    height: \"32\",\n    viewBox: \"0 0 32 32\"\n  }, props), React.createElement(\"path\", {\n    d: \"M28.042 6.064l-1.954-1.979-10.076 9.949L6.064 3.958 4.085 5.913l9.948 10.075-10.075 9.948 1.955 1.979 10.075-9.948 9.948 10.075 1.978-1.954-9.947-10.076z\"\n  }));\n};\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport block from 'bem-cn-lite';\nimport { connect } from 'react-redux';\nimport { contains } from 'underscore';\nimport { removeImage } from \"../../client/actions\";\nexport function UploadedImage(props) {\n  var file = props.file,\n      erroredImages = props.erroredImages,\n      processingImages = props.processingImages,\n      progressBars = props.progressBars,\n      removeImageAction = props.removeImageAction;\n  var b = block('consignments-submission-uploaded-image');\n  var processing = contains(processingImages, file.fileName);\n  var errored = contains(erroredImages, file.fileName);\n  var processingPercentage = progressBars[file.fileName] ? progressBars[file.fileName] * 100 : 0;\n  var errorBlock = React.createElement(\"div\", {\n    className: b('error')\n  }, React.createElement(\"div\", {\n    className: b('error-alert')\n  }, React.createElement(Alert, null)), React.createElement(\"div\", {\n    className: b('error-content')\n  }, file.fileName, \" failed to upload.\", React.createElement(\"br\", null), React.createElement(\"b\", null, \"The image file should be JPG or PNG and should be less than 30mb.\")), React.createElement(\"div\", {\n    className: b('error-close'),\n    onClick: function onClick() {\n      return removeImageAction(file.fileName);\n    }\n  }, React.createElement(Close, null)));\n  return React.createElement(\"div\", {\n    className: b()\n  }, errored ? errorBlock : React.createElement(\"div\", {\n    className: b('image-wrapper', {\n      processing: processing\n    })\n  }, React.createElement(\"img\", {\n    className: b('image'),\n    src: file.src\n  }), processing ? React.createElement(\"div\", {\n    className: b('progress-wrapper')\n  }, React.createElement(\"div\", {\n    className: b('progress'),\n    style: {\n      width: \"\".concat(processingPercentage, \"%\")\n    }\n  })) : React.createElement(\"div\", {\n    className: b('filename')\n  }, file.fileName)));\n}\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    erroredImages: state.submissionFlow.erroredImages,\n    processingImages: state.submissionFlow.processingImages,\n    progressBars: state.submissionFlow.progressBars\n  };\n};\n\nvar mapDispatchToProps = {\n  removeImageAction: removeImage\n};\n\nvar _default = connect(mapStateToProps, mapDispatchToProps)(UploadedImage);\n\nexport default _default;\nUploadedImage.propTypes = {\n  file: PropTypes.object.isRequired,\n  erroredImages: PropTypes.array,\n  processingImages: PropTypes.array,\n  progressBars: PropTypes.object,\n  removeImageAction: PropTypes.func.isRequired\n};\n;\n\n(function () {\n  var reactHotLoader = require('react-hot-loader').default;\n\n  var leaveModule = require('react-hot-loader').leaveModule;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(UploadedImage, \"UploadedImage\", \"/Users/eve/development/force/src/desktop/apps/consign/components/uploaded_image/index.js\");\n  reactHotLoader.register(mapStateToProps, \"mapStateToProps\", \"/Users/eve/development/force/src/desktop/apps/consign/components/uploaded_image/index.js\");\n  reactHotLoader.register(mapDispatchToProps, \"mapDispatchToProps\", \"/Users/eve/development/force/src/desktop/apps/consign/components/uploaded_image/index.js\");\n  reactHotLoader.register(_default, \"default\", \"/Users/eve/development/force/src/desktop/apps/consign/components/uploaded_image/index.js\");\n  leaveModule(module);\n})();\n\n;",{"version":3,"sources":["/Users/eve/development/force/src/desktop/apps/consign/components/uploaded_image/index.js"],"names":["Alert","Close","PropTypes","React","block","connect","contains","removeImage","UploadedImage","props","file","erroredImages","processingImages","progressBars","removeImageAction","b","processing","fileName","errored","processingPercentage","errorBlock","src","width","mapStateToProps","state","submissionFlow","mapDispatchToProps","propTypes","object","isRequired","array","func"],"mappings":"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","sourcesContent":["import Alert from '../../../../components/main_layout/public/icons/alert.svg'\nimport Close from '../../../../components/main_layout/public/icons/close.svg'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport block from 'bem-cn-lite'\nimport { connect } from 'react-redux'\nimport { contains } from 'underscore'\nimport { removeImage } from '../../client/actions'\n\nexport function UploadedImage(props) {\n  const {\n    file,\n    erroredImages,\n    processingImages,\n    progressBars,\n    removeImageAction,\n  } = props\n  const b = block('consignments-submission-uploaded-image')\n  const processing = contains(processingImages, file.fileName)\n  const errored = contains(erroredImages, file.fileName)\n  const processingPercentage = progressBars[file.fileName]\n    ? progressBars[file.fileName] * 100\n    : 0\n\n  const errorBlock = (\n    <div className={b('error')}>\n      <div className={b('error-alert')}>\n        <Alert />\n      </div>\n      <div className={b('error-content')}>\n        {file.fileName} failed to upload.<br />\n        <b>The image file should be JPG or PNG and should be less than 30mb.</b>\n      </div>\n      <div\n        className={b('error-close')}\n        onClick={() => removeImageAction(file.fileName)}\n      >\n        <Close />\n      </div>\n    </div>\n  )\n\n  return (\n    <div className={b()}>\n      {errored ? (\n        errorBlock\n      ) : (\n        <div className={b('image-wrapper', { processing })}>\n          <img className={b('image')} src={file.src} />\n          {processing ? (\n            <div className={b('progress-wrapper')}>\n              <div\n                className={b('progress')}\n                style={{ width: `${processingPercentage}%` }}\n              />\n            </div>\n          ) : (\n            <div className={b('filename')}>{file.fileName}</div>\n          )}\n        </div>\n      )}\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    erroredImages: state.submissionFlow.erroredImages,\n    processingImages: state.submissionFlow.processingImages,\n    progressBars: state.submissionFlow.progressBars,\n  }\n}\n\nconst mapDispatchToProps = {\n  removeImageAction: removeImage,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UploadedImage)\n\nUploadedImage.propTypes = {\n  file: PropTypes.object.isRequired,\n  erroredImages: PropTypes.array,\n  processingImages: PropTypes.array,\n  progressBars: PropTypes.object,\n  removeImageAction: PropTypes.func.isRequired,\n}\n"]}]}