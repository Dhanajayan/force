{"remainingRequest":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js??ref--2-1!/Users/eve/development/force/src/desktop/apps/consign/helpers.js","dependencies":[{"path":"/Users/eve/development/force/src/desktop/apps/consign/helpers.js","mtime":1519227436000},{"path":"/Users/eve/development/force/.babelrc","mtime":1528124541000},{"path":"/Users/eve/development/force/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.fetchToken = fetchToken;\nexports.formattedLocation = formattedLocation;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _superagent = _interopRequireDefault(require(\"superagent\"));\n\nvar _sharify = require(\"sharify\");\n\nfunction fetchToken(_x) {\n  return _fetchToken.apply(this, arguments);\n}\n\nfunction _fetchToken() {\n  _fetchToken = (0, _asyncToGenerator2.default)(\n  /*#__PURE__*/\n  _regenerator.default.mark(function _callee(accessToken) {\n    var _ref, token;\n\n    return _regenerator.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _superagent.default.post(\"\".concat(_sharify.data.API_URL, \"/api/v1/me/token\")).set('X-ACCESS-TOKEN', accessToken).send({\n              client_application_id: _sharify.data.CONVECTION_APP_ID\n            });\n\n          case 2:\n            _ref = _context.sent;\n            token = _ref.body.token;\n            return _context.abrupt(\"return\", token);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n  return _fetchToken.apply(this, arguments);\n}\n\nfunction formattedLocation(city, state, country) {\n  return [city, state, country].filter(Boolean).join(', ');\n}",{"version":3,"sources":["src/desktop/apps/consign/helpers.js"],"names":["fetchToken","accessToken","post","API_URL","set","send","client_application_id","CONVECTION_APP_ID","token","body","formattedLocation","city","state","country","filter","Boolean","join"],"mappings":";;;;;;;;;;;;;;AAAA;;AACA;;SAEsBA,U;;;;;;;4BAAf,iBAA0BC,WAA1B;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAC6B,oBAC/BC,IAD+B,WACvB,cAAGC,OADoB,uBAE/BC,GAF+B,CAE3B,gBAF2B,EAETH,WAFS,EAG/BI,IAH+B,CAG1B;AAAEC,qCAAuB,cAAGC;AAA5B,aAH0B,CAD7B;;AAAA;AAAA;AACWC,iBADX,QACGC,IADH,CACWD,KADX;AAAA,6CAKEA,KALF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAQA,SAASE,iBAAT,CAA2BC,IAA3B,EAAiCC,KAAjC,EAAwCC,OAAxC,EAAiD;AACtD,SAAO,CAACF,IAAD,EAAOC,KAAP,EAAcC,OAAd,EAAuBC,MAAvB,CAA8BC,OAA9B,EAAuCC,IAAvC,CAA4C,IAA5C,CAAP;AACD","file":"/Users/eve/development/force/src/desktop/apps/consign/helpers.js","sourceRoot":"/Users/eve/development/force","sourcesContent":["import request from 'superagent'\nimport { data as sd } from 'sharify'\n\nexport async function fetchToken(accessToken) {\n  const { body: { token } } = await request\n    .post(`${sd.API_URL}/api/v1/me/token`)\n    .set('X-ACCESS-TOKEN', accessToken)\n    .send({ client_application_id: sd.CONVECTION_APP_ID })\n  return token\n}\n\nexport function formattedLocation(city, state, country) {\n  return [city, state, country].filter(Boolean).join(', ')\n}\n"]}]}