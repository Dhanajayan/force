{"remainingRequest":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js??ref--2-1!/Users/eve/development/force/src/desktop/apps/consign/components/upload_photo/index.js","dependencies":[{"path":"/Users/eve/development/force/src/desktop/apps/consign/components/upload_photo/index.js","mtime":1521064654000},{"path":"/Users/eve/development/force/.babelrc","mtime":1537178749000},{"path":"/Users/eve/development/force/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _extends from \"@babel/runtime/helpers/extends\";\n\n(function () {\n  var enterModule = require('react-hot-loader').enterModule;\n\n  enterModule && enterModule(module);\n})();\n\nvar Camera = function Camera(props) {\n  return React.createElement(\"svg\", _extends({\n    width: \"23\",\n    height: \"17\",\n    viewBox: \"0 0 23 17\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props), React.createElement(\"g\", {\n    fill: \"#000\",\n    fillRule: \"evenodd\"\n  }, React.createElement(\"path\", {\n    d: \"M5.768 2.709H1.252C.561 2.709 0 3.267 0 3.954v11.8C0 16.442.56 17 1.252 17h20.496C22.44 17 23 16.442 23 15.754v-11.8c0-.688-.56-1.245-1.252-1.245h-5.009c-.384-.361-.834-.913-1.249-1.742-.519-1.037-1.977-.94-1.977-.94H8.926S7.72-.25 6.996.956c-.441.737-.846 1.338-1.228 1.754z\"\n  }), React.createElement(\"path\", {\n    d: \"M2.789 2.332v-.54c0-.15.169-.272.377-.272h1.708c.209 0 .378.122.378.271v.541H2.789z\"\n  }), React.createElement(\"path\", {\n    d: \"M11 6a4 4 0 1 1 0 8 4 4 0 0 1 0-8z\",\n    stroke: \"#FFF\",\n    strokeWidth: \"2\"\n  }), React.createElement(\"path\", {\n    d: \"M20 6a1 1 0 1 1-2 0 1 1 0 0 1 2 0z\",\n    stroke: \"#FFF\",\n    strokeWidth: \".5\"\n  })));\n};\n\nimport CheckboxInput from \"../checkbox_input\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport _UploadedImage from \"../uploaded_image\";\nimport block from 'bem-cn-lite';\nimport { connect } from 'react-redux';\nimport { selectPhoto, submitPhoto, updateSkipPhotoSubmission } from \"../../client/actions\"; // FIXME: Rewire\n\nvar UploadedImage = _UploadedImage;\n\nfunction UploadPhoto(props) {\n  var error = props.error,\n      hideCheckbox = props.hideCheckbox,\n      isMobile = props.isMobile,\n      isLoading = props.isLoading,\n      processingImages = props.processingImages,\n      selectPhotoAction = props.selectPhotoAction,\n      skipPhotoSubmission = props.skipPhotoSubmission,\n      updateSkipPhotoSubmissionAction = props.updateSkipPhotoSubmissionAction,\n      submitPhotoAction = props.submitPhotoAction,\n      uploadedImages = props.uploadedImages;\n  var b = block('consignments-submission-upload-photo');\n  var imagesInProgress = uploadedImages.length > 0 && processingImages.length > 0;\n  var imagesFinished = uploadedImages.length > 0 && processingImages.length === 0;\n  var nextEnabled = !skipPhotoSubmission && imagesFinished || skipPhotoSubmission && !imagesInProgress;\n  var uploadCta = isMobile ? 'Click to upload photos' : 'Drag or Click to upload photos';\n  return React.createElement(\"div\", {\n    className: b()\n  }, React.createElement(\"div\", {\n    className: b('title')\n  }, \"Upload photos\"), React.createElement(\"div\", {\n    className: b('subtitle')\n  }, \"Take a quick snapshot of the work so we can better assess the condition of the work. We suggest uploading photos of the front and back of the work, any signatures, and certificates of authenticity.\"), React.createElement(\"div\", {\n    className: b('form')\n  }, React.createElement(\"label\", {\n    htmlFor: \"file\",\n    className: b('drop-area'),\n    onDragOver: function onDragOver(e) {\n      return e.preventDefault();\n    },\n    onDrop: function onDrop(e) {\n      e.preventDefault();\n      selectPhotoAction(e.dataTransfer.files[0]);\n    }\n  }, React.createElement(\"div\", {\n    className: b('drop-area-contents')\n  }, React.createElement(\"input\", {\n    type: \"file\",\n    name: \"file\",\n    id: \"file\",\n    className: b('file-upload'),\n    onChange: function onChange(e) {\n      return selectPhotoAction(e.target.files[0]);\n    }\n  }), React.createElement(\"div\", {\n    className: b('camera-icon')\n  }, React.createElement(Camera, null)), React.createElement(\"div\", {\n    className: b('cta')\n  }, uploadCta))), !hideCheckbox && React.createElement(CheckboxInput, {\n    item: 'skip',\n    label: 'No photo currently available',\n    onChange: updateSkipPhotoSubmissionAction,\n    value: skipPhotoSubmission\n  }), uploadedImages.map(function (file, index) {\n    return React.createElement(UploadedImage, {\n      file: file,\n      key: \"\".concat(file.fileName, \"-\").concat(index)\n    });\n  }), React.createElement(\"div\", {\n    className: b.builder()('submit-button').mix('avant-garde-button-black')(),\n    onClick: submitPhotoAction,\n    disabled: !nextEnabled\n  }, isLoading ? React.createElement(\"div\", {\n    className: \"loading-spinner-white\"\n  }) : 'Submit'), error && React.createElement(\"div\", {\n    className: b('error')\n  }, error)));\n}\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    error: state.submissionFlow.error,\n    isMobile: state.submissionFlow.isMobile,\n    isLoading: state.submissionFlow.isLoading,\n    processingImages: state.submissionFlow.processingImages,\n    skipPhotoSubmission: state.submissionFlow.skipPhotoSubmission,\n    uploadedImages: state.submissionFlow.uploadedImages\n  };\n};\n\nvar mapDispatchToProps = {\n  selectPhotoAction: selectPhoto,\n  submitPhotoAction: submitPhoto,\n  updateSkipPhotoSubmissionAction: updateSkipPhotoSubmission\n};\n\nvar _default = connect(mapStateToProps, mapDispatchToProps)(UploadPhoto);\n\nexport default _default;\nUploadPhoto.propTypes = {\n  error: PropTypes.string,\n  hideCheckbox: PropTypes.bool,\n  isMobile: PropTypes.bool.isRequired,\n  isLoading: PropTypes.bool.isRequired,\n  processingImages: PropTypes.array.isRequired,\n  selectPhotoAction: PropTypes.func.isRequired,\n  skipPhotoSubmission: PropTypes.bool.isRequired,\n  submitPhotoAction: PropTypes.func.isRequired,\n  updateSkipPhotoSubmissionAction: PropTypes.func.isRequired,\n  uploadedImages: PropTypes.array\n};\n;\n\n(function () {\n  var reactHotLoader = require('react-hot-loader').default;\n\n  var leaveModule = require('react-hot-loader').leaveModule;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(UploadedImage, \"UploadedImage\", \"/Users/eve/development/force/src/desktop/apps/consign/components/upload_photo/index.js\");\n  reactHotLoader.register(UploadPhoto, \"UploadPhoto\", \"/Users/eve/development/force/src/desktop/apps/consign/components/upload_photo/index.js\");\n  reactHotLoader.register(mapStateToProps, \"mapStateToProps\", \"/Users/eve/development/force/src/desktop/apps/consign/components/upload_photo/index.js\");\n  reactHotLoader.register(mapDispatchToProps, \"mapDispatchToProps\", \"/Users/eve/development/force/src/desktop/apps/consign/components/upload_photo/index.js\");\n  reactHotLoader.register(_default, \"default\", \"/Users/eve/development/force/src/desktop/apps/consign/components/upload_photo/index.js\");\n  leaveModule(module);\n})();\n\n;",{"version":3,"sources":["/Users/eve/development/force/src/desktop/apps/consign/components/upload_photo/index.js"],"names":["Camera","CheckboxInput","PropTypes","React","_UploadedImage","block","connect","selectPhoto","submitPhoto","updateSkipPhotoSubmission","UploadedImage","UploadPhoto","props","error","hideCheckbox","isMobile","isLoading","processingImages","selectPhotoAction","skipPhotoSubmission","updateSkipPhotoSubmissionAction","submitPhotoAction","uploadedImages","b","imagesInProgress","length","imagesFinished","nextEnabled","uploadCta","e","preventDefault","dataTransfer","files","target","map","file","index","fileName","builder","mix","mapStateToProps","state","submissionFlow","mapDispatchToProps","propTypes","string","bool","isRequired","array","func"],"mappings":"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","sourcesContent":["import Camera from '../../../../components/main_layout/public/icons/camera.svg'\nimport CheckboxInput from '../checkbox_input'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport _UploadedImage from '../uploaded_image'\nimport block from 'bem-cn-lite'\nimport { connect } from 'react-redux'\nimport { selectPhoto, submitPhoto, updateSkipPhotoSubmission } from '../../client/actions'\n\n// FIXME: Rewire\nlet UploadedImage = _UploadedImage\n\nfunction UploadPhoto (props) {\n  const {\n    error,\n    hideCheckbox,\n    isMobile,\n    isLoading,\n    processingImages,\n    selectPhotoAction,\n    skipPhotoSubmission,\n    updateSkipPhotoSubmissionAction,\n    submitPhotoAction,\n    uploadedImages\n  } = props\n  const b = block('consignments-submission-upload-photo')\n\n  const imagesInProgress = uploadedImages.length > 0 && processingImages.length > 0\n  const imagesFinished = uploadedImages.length > 0 && processingImages.length === 0\n  const nextEnabled = (!skipPhotoSubmission && imagesFinished) || (skipPhotoSubmission && !imagesInProgress)\n  const uploadCta = isMobile ? 'Click to upload photos' : 'Drag or Click to upload photos'\n\n  return (\n    <div className={b()}>\n      <div className={b('title')}>\n        Upload photos\n      </div>\n      <div className={b('subtitle')}>\n        Take a quick snapshot of the work so we can better assess the condition of the work. We suggest uploading photos of the front and back of the work, any signatures, and certificates of authenticity.\n      </div>\n      <div className={b('form')}>\n        <label\n          htmlFor='file'\n          className={b('drop-area')}\n          onDragOver={(e) => e.preventDefault()}\n          onDrop={(e) => {\n            e.preventDefault()\n            selectPhotoAction(e.dataTransfer.files[0])\n          }}\n        >\n          <div className={b('drop-area-contents')}>\n            <input\n              type='file'\n              name='file'\n              id='file'\n              className={b('file-upload')}\n              onChange={(e) => selectPhotoAction(e.target.files[0])}\n            />\n            <div className={b('camera-icon')}>\n              <Camera />\n            </div>\n            <div className={b('cta')}>\n              {uploadCta}\n            </div>\n          </div>\n        </label>\n        {\n          !hideCheckbox && (\n            <CheckboxInput\n              item={'skip'}\n              label={'No photo currently available'}\n              onChange={updateSkipPhotoSubmissionAction}\n              value={skipPhotoSubmission}\n            />\n          )\n        }\n        {\n          uploadedImages.map((file, index) =>\n            <UploadedImage file={file} key={`${file.fileName}-${index}`} />\n          )\n        }\n        <div\n          className={b.builder()('submit-button').mix('avant-garde-button-black')()}\n          onClick={submitPhotoAction}\n          disabled={!nextEnabled}\n        >\n          {\n            isLoading ? <div className='loading-spinner-white' /> : 'Submit'\n          }\n        </div>\n        {\n          error && <div className={b('error')}>{error}</div>\n        }\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    error: state.submissionFlow.error,\n    isMobile: state.submissionFlow.isMobile,\n    isLoading: state.submissionFlow.isLoading,\n    processingImages: state.submissionFlow.processingImages,\n    skipPhotoSubmission: state.submissionFlow.skipPhotoSubmission,\n    uploadedImages: state.submissionFlow.uploadedImages\n  }\n}\n\nconst mapDispatchToProps = {\n  selectPhotoAction: selectPhoto,\n  submitPhotoAction: submitPhoto,\n  updateSkipPhotoSubmissionAction: updateSkipPhotoSubmission\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(UploadPhoto)\n\nUploadPhoto.propTypes = {\n  error: PropTypes.string,\n  hideCheckbox: PropTypes.bool,\n  isMobile: PropTypes.bool.isRequired,\n  isLoading: PropTypes.bool.isRequired,\n  processingImages: PropTypes.array.isRequired,\n  selectPhotoAction: PropTypes.func.isRequired,\n  skipPhotoSubmission: PropTypes.bool.isRequired,\n  submitPhotoAction: PropTypes.func.isRequired,\n  updateSkipPhotoSubmissionAction: PropTypes.func.isRequired,\n  uploadedImages: PropTypes.array\n}\n"]}]}