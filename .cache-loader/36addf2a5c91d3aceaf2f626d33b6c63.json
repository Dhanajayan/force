{"remainingRequest":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js??ref--2-1!/Users/eve/development/force/src/desktop/analytics/articles.js","dependencies":[{"path":"/Users/eve/development/force/src/desktop/analytics/articles.js","mtime":1519664446000},{"path":"/Users/eve/development/force/.babelrc","mtime":1537178749000},{"path":"/Users/eve/development/force/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n// Analytics for all things articles. This includes tests for share buttons\n// and potentionally other alternative layout options or more.\n//\nif (location.pathname.match('/article/') || location.pathname.match('/2016-year-in-art')) {\n  $(document.body).on('click', '.article-social a', function () {\n    var articleId = $(this).closest('.article-container').data('id');\n    analytics.track('Article Share', {\n      article_id: articleId,\n      context_type: sd.ARTICLE ? 'article_fixed' : 'magazine_fixed',\n      service: $(this).attr('data-service')\n    });\n  }).on('click', '.article-share-fixed > a', function () {\n    var articleId = $(this).closest('.article-container').data('id');\n    analytics.track('Article Share', {\n      article_id: articleId,\n      context_type: 'article_sticky',\n      service: $(this).attr('data-service')\n    });\n  }).on('click', '.article-sa-primary-logo a', function () {\n    analytics.track('Clicked primary partner logo', {\n      destination_path: $(this)[0].href,\n      impression_type: 'sa_primary_logo',\n      context_type: 'article_fixed'\n    });\n  }).on('click', '.article-sa-secondary-logo a', function () {\n    analytics.track('Clicked secondary partner logo', {\n      destination_path: $(this)[0].href,\n      impression_type: 'sa_secondary_logo',\n      context_type: 'article_fixed'\n    });\n  }).on('click', '.article-sa-cta-container a', function () {\n    analytics.track('Clicked partner cta link', {\n      destination_path: $(this)[0].href,\n      impression_type: 'sa_partner_cta',\n      context_type: 'article_fixed'\n    });\n  }).on('click', '.article-sa-footer-blurb a', function () {\n    analytics.track('Clicked partner cta link in footer blurb', {\n      destination_path: $(this)[0].href,\n      impression_type: 'sa_partner_cta',\n      context_type: 'article_fixed'\n    });\n  }); // Hooks\n\n  analyticsHooks.on('view:editorial-signup', function (options) {\n    analytics.track('Article impression', {\n      article_id: null,\n      destination_path: null,\n      impression_type: 'newsletter_signup',\n      context_type: options.type\n    });\n  });\n} // Applies to both /article/* and /articles\n\n\nif (location.pathname.match('/article/') || location.pathname.match('/articles') || location.pathname.match('/gallery-insights') || location.pathname.match('/venice-biennale-2015')) {\n  $('.cta-bar .mktoButtonRow').click(function (e) {\n    analytics.track('Sign up for gallery insights email', {\n      session_id: sd.SESSION_ID,\n      email: $('.cta-bar-container input').val(),\n      article_id: $(this).closest('.article-container').data('id'),\n      context_type: 'article_fixed'\n    });\n    analytics.identify({\n      session_id: sd.SESSION_ID,\n      email: $('.cta-bar-container input').val()\n    });\n  });\n  $('#articles-body-container .mktoButtonRow').click(function (e) {\n    var email = $(\"#Email\").val();\n    analytics.track('Sign up for gallery insights email', {\n      session_id: sd.SESSION_ID,\n      email: email,\n      article_id: $(this).closest('.article-container').data('id'),\n      context_type: 'article_fixed'\n    });\n    analytics.identify({\n      session_id: sd.SESSION_ID,\n      email: email\n    });\n  });\n  analyticsHooks.on('submit:editorial-signup', function (options) {\n    analytics.track('Sign up for editorial email', {\n      article_id: $(this).closest('.article-container').data('id'),\n      context_type: options.type,\n      user_email: options.email\n    });\n  });\n  analyticsHooks.on('dismiss:editorial-signup', function (options) {\n    analytics.track('Dismiss editorial signup', {\n      context_type: options.type\n    });\n  });\n}",{"version":3,"sources":["/Users/eve/development/force/src/desktop/analytics/articles.js"],"names":["location","pathname","match","$","document","body","on","articleId","closest","data","analytics","track","article_id","context_type","sd","ARTICLE","service","attr","destination_path","href","impression_type","analyticsHooks","options","type","click","e","session_id","SESSION_ID","email","val","identify","user_email"],"mappings":"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","sourcesContent":["//\n// Analytics for all things articles. This includes tests for share buttons\n// and potentionally other alternative layout options or more.\n//\n\nif (location.pathname.match('/article/') || location.pathname.match('/2016-year-in-art')) {\n  $(document.body).on('click', '.article-social a', function () {\n    var articleId = $(this).closest('.article-container').data('id')\n    analytics.track('Article Share', {\n      article_id: articleId,\n      context_type: sd.ARTICLE ? 'article_fixed' : 'magazine_fixed',\n      service: $(this).attr('data-service')\n    })\n  }).on('click', '.article-share-fixed > a', function () {\n    var articleId = $(this).closest('.article-container').data('id')\n    analytics.track('Article Share', {\n      article_id: articleId,\n      context_type: 'article_sticky',\n      service: $(this).attr('data-service')\n    })\n  }).on('click', '.article-sa-primary-logo a', function () {\n    analytics.track('Clicked primary partner logo', {\n      destination_path: $(this)[0].href,\n      impression_type: 'sa_primary_logo',\n      context_type: 'article_fixed'\n    })\n  }).on('click', '.article-sa-secondary-logo a', function () {\n    analytics.track('Clicked secondary partner logo', {\n      destination_path: $(this)[0].href,\n      impression_type: 'sa_secondary_logo',\n      context_type: 'article_fixed'\n    })\n  }).on('click', '.article-sa-cta-container a', function () {\n    analytics.track('Clicked partner cta link', {\n      destination_path: $(this)[0].href,\n      impression_type: 'sa_partner_cta',\n      context_type: 'article_fixed'\n    })\n  }).on('click', '.article-sa-footer-blurb a', function () {\n    analytics.track('Clicked partner cta link in footer blurb', {\n      destination_path: $(this)[0].href,\n      impression_type: 'sa_partner_cta',\n      context_type: 'article_fixed'\n    })\n  })\n\n  // Hooks\n  analyticsHooks.on('view:editorial-signup', function (options) {\n    analytics.track('Article impression', {\n      article_id: null,\n      destination_path: null,\n      impression_type: 'newsletter_signup',\n      context_type: options.type\n    })\n  })\n}\n\n// Applies to both /article/* and /articles\nif (location.pathname.match('/article/') || location.pathname.match('/articles') || location.pathname.match('/gallery-insights') || location.pathname.match('/venice-biennale-2015')) {\n  $('.cta-bar .mktoButtonRow').click(function (e) {\n    analytics.track('Sign up for gallery insights email', {\n      session_id: sd.SESSION_ID,\n      email: $('.cta-bar-container input').val(),\n      article_id: $(this).closest('.article-container').data('id'),\n      context_type: 'article_fixed'\n    });\n    analytics.identify({\n      session_id: sd.SESSION_ID,\n      email: $('.cta-bar-container input').val()\n    });\n  })\n\n  $('#articles-body-container .mktoButtonRow').click(function (e) {\n    var email = $(\"#Email\").val();\n    analytics.track('Sign up for gallery insights email', {\n      session_id: sd.SESSION_ID,\n      email: email,\n      article_id: $(this).closest('.article-container').data('id'),\n      context_type: 'article_fixed'\n    });\n    analytics.identify({\n      session_id: sd.SESSION_ID,\n      email: email\n    });\n  })\n\n  analyticsHooks.on('submit:editorial-signup', function (options) {\n    analytics.track('Sign up for editorial email', {\n      article_id: $(this).closest('.article-container').data('id'),\n      context_type: options.type,\n      user_email: options.email\n    })\n  })\n\n  analyticsHooks.on('dismiss:editorial-signup', function (options) {\n    analytics.track('Dismiss editorial signup', {\n      context_type: options.type\n    })\n  })\n}\n"]}]}