{"remainingRequest":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js??ref--2-1!/Users/eve/development/force/src/desktop/apps/auction/components/artwork_rail/ArtworkRail.js","dependencies":[{"path":"/Users/eve/development/force/src/desktop/apps/auction/components/artwork_rail/ArtworkRail.js","mtime":1519227436000},{"path":"/Users/eve/development/force/.babelrc","mtime":1528124541000},{"path":"/Users/eve/development/force/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ArtworkRail = void 0;\n\nvar _getPrototypeOf = _interopRequireDefault(require(\"@babel/runtime/core-js/object/get-prototype-of\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _bemCnLite = _interopRequireDefault(require(\"bem-cn-lite\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar ChevronLeft = function ChevronLeft(props) {\n  return _react.default.createElement(\"svg\", (0, _extends2.default)({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"32\",\n    height: \"32\",\n    viewBox: \"0 0 32 32\"\n  }, props), _react.default.createElement(\"path\", {\n    d: \"M24.91 29.577l-2.121 2.121L7.09 16 22.789.302l2.121 2.121L11.333 16z\"\n  }));\n};\n\nvar ChevronRight = function ChevronRight(props) {\n  return _react.default.createElement(\"svg\", (0, _extends2.default)({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"32\",\n    height: \"32\",\n    viewBox: \"0 0 32 32\"\n  }, props), _react.default.createElement(\"path\", {\n    d: \"M7.09 2.423L9.211.302 24.91 16 9.211 31.698 7.09 29.577 20.667 16z\"\n  }));\n};\n\nvar ArtworkRail =\n/*#__PURE__*/\nfunction (_Component) {\n  (0, _inherits2.default)(ArtworkRail, _Component);\n\n  function ArtworkRail() {\n    var _ref;\n\n    var _temp, _this;\n\n    (0, _classCallCheck2.default)(this, ArtworkRail);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return (0, _possibleConstructorReturn2.default)(_this, (_temp = _this = (0, _possibleConstructorReturn2.default)(this, (_ref = ArtworkRail.__proto__ || (0, _getPrototypeOf.default)(ArtworkRail)).call.apply(_ref, [this].concat(args))), Object.defineProperty((0, _assertThisInitialized2.default)(_this), \"state\", {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: {\n        currArtworks: [],\n        displayCount: 4,\n        hasPreviousPage: false,\n        hasNextPage: false,\n        isSinglePage: false,\n        page: 1\n      }\n    }), Object.defineProperty((0, _assertThisInitialized2.default)(_this), \"previousPage\", {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: function value() {\n        var _this$state = _this.state,\n            hasPreviousPage = _this$state.hasPreviousPage,\n            page = _this$state.page;\n\n        if (hasPreviousPage) {\n          var newPage = page - 1;\n\n          _this.setState({\n            hasPreviousPage: hasPreviousPage,\n            page: newPage\n          });\n        }\n      }\n    }), Object.defineProperty((0, _assertThisInitialized2.default)(_this), \"nextPage\", {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: function value() {\n        var _this$state2 = _this.state,\n            hasNextPage = _this$state2.hasNextPage,\n            page = _this$state2.page;\n\n        if (hasNextPage) {\n          var newPage = page + 1;\n\n          _this.setState({\n            hasNextPage: hasNextPage,\n            page: newPage\n          });\n        }\n      }\n    }), _temp));\n  }\n\n  (0, _createClass2.default)(ArtworkRail, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.updatePageDisplay();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (this.state.page !== prevState.page) {\n        this.updatePageDisplay();\n      }\n    }\n  }, {\n    key: \"updatePageDisplay\",\n    value: function updatePageDisplay() {\n      var artworks = this.props.artworks;\n      var _state = this.state,\n          displayCount = _state.displayCount,\n          page = _state.page;\n      var initialSlice = (page - 1) * displayCount;\n      var currArtworks = artworks.slice(initialSlice, initialSlice + displayCount);\n      var isSinglePage = artworks.length <= displayCount;\n      var hasPreviousPage = page > 1;\n      var hasNextPage = page < artworks.length / displayCount;\n      this.setState({\n        currArtworks: currArtworks,\n        isSinglePage: isSinglePage,\n        hasPreviousPage: hasPreviousPage,\n        hasNextPage: hasNextPage\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          style = _props.style,\n          title = _props.title;\n      var _state2 = this.state,\n          currArtworks = _state2.currArtworks,\n          hasNextPage = _state2.hasNextPage,\n          hasPreviousPage = _state2.hasPreviousPage,\n          isSinglePage = _state2.isSinglePage;\n      var b = (0, _bemCnLite.default)('auction-ArtworkRail');\n      var leftPageClasses = (0, _classnames.default)(String(b('page-left')), {\n        disabled: !hasPreviousPage\n      });\n      var rightPageClasses = (0, _classnames.default)(String(b('page-right')), {\n        disabled: isSinglePage || !hasNextPage\n      });\n      return _react.default.createElement(\"div\", {\n        className: b(),\n        style: style\n      }, _react.default.createElement(\"div\", {\n        className: b('title')\n      }, title), _react.default.createElement(\"div\", {\n        className: b('content')\n      }, _react.default.createElement(\"div\", {\n        className: leftPageClasses,\n        onClick: this.previousPage\n      }, _react.default.createElement(ChevronLeft, null)), _react.default.createElement(\"div\", {\n        className: b('artworks')\n      }, currArtworks.map(function (artwork, key) {\n        return _react.default.createElement(\"div\", {\n          className: b('artwork'),\n          key: key\n        }, _this2.props.getDisplayComponent(artwork));\n      })), _react.default.createElement(\"div\", {\n        className: rightPageClasses,\n        onClick: this.nextPage\n      }, _react.default.createElement(ChevronRight, null))));\n    }\n  }]);\n  return ArtworkRail;\n}(_react.Component);\n\nexports.ArtworkRail = ArtworkRail;\nObject.defineProperty(ArtworkRail, \"propTypes\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    artworks: _propTypes.default.array.isRequired,\n    getDisplayComponent: _propTypes.default.func.isRequired,\n    style: _propTypes.default.object,\n    title: _propTypes.default.string.isRequired\n  }\n});\nObject.defineProperty(ArtworkRail, \"defaultProps\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    artworks: [],\n    style: {}\n  }\n});",{"version":3,"sources":["src/desktop/apps/auction/components/artwork_rail/ArtworkRail.js"],"names":["ChevronLeft","ChevronRight","ArtworkRail","currArtworks","displayCount","hasPreviousPage","hasNextPage","isSinglePage","page","state","newPage","setState","updatePageDisplay","prevProps","prevState","artworks","props","initialSlice","slice","length","style","title","b","leftPageClasses","String","disabled","rightPageClasses","previousPage","map","artwork","key","getDisplayComponent","nextPage","array","isRequired","func","object","string"],"mappings":"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","file":"/Users/eve/development/force/src/desktop/apps/auction/components/artwork_rail/ArtworkRail.js","sourceRoot":"/Users/eve/development/force","sourcesContent":["import ChevronLeft from '../../../../components/main_layout/public/icons/chevron-left.svg'\nimport ChevronRight from '../../../../components/main_layout/public/icons/chevron-right.svg'\nimport PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport block from 'bem-cn-lite'\nimport classNames from 'classnames'\n\nexport class ArtworkRail extends Component {\n  static propTypes = {\n    artworks: PropTypes.array.isRequired,\n    getDisplayComponent: PropTypes.func.isRequired,\n    style: PropTypes.object,\n    title: PropTypes.string.isRequired\n  }\n\n  static defaultProps = {\n    artworks: [],\n    style: {}\n  }\n\n  state = {\n    currArtworks: [],\n    displayCount: 4,\n    hasPreviousPage: false,\n    hasNextPage: false,\n    isSinglePage: false,\n    page: 1\n  }\n\n  componentWillMount () {\n    this.updatePageDisplay()\n  }\n\n  componentDidUpdate (prevProps, prevState) {\n    if (this.state.page !== prevState.page) {\n      this.updatePageDisplay()\n    }\n  }\n\n  updatePageDisplay () {\n    const { artworks } = this.props\n    const { displayCount, page } = this.state\n    const initialSlice = (page - 1) * displayCount\n\n    const currArtworks = artworks.slice(\n      initialSlice,\n      initialSlice + displayCount\n    )\n\n    const isSinglePage = artworks.length <= displayCount\n    const hasPreviousPage = page > 1\n    const hasNextPage = page < artworks.length / displayCount\n\n    this.setState({\n      currArtworks,\n      isSinglePage,\n      hasPreviousPage,\n      hasNextPage\n    })\n  }\n\n  previousPage = () => {\n    const { hasPreviousPage, page } = this.state\n\n    if (hasPreviousPage) {\n      const newPage = page - 1\n\n      this.setState({\n        hasPreviousPage,\n        page: newPage\n      })\n    }\n  }\n\n  nextPage = () => {\n    const { hasNextPage, page } = this.state\n\n    if (hasNextPage) {\n      const newPage = page + 1\n\n      this.setState({\n        hasNextPage,\n        page: newPage\n      })\n    }\n  }\n\n  render () {\n    const { style, title } = this.props\n    const { currArtworks, hasNextPage, hasPreviousPage, isSinglePage } = this.state\n    const b = block('auction-ArtworkRail')\n\n    const leftPageClasses = classNames(\n      String(b('page-left')),\n      { disabled: !hasPreviousPage }\n    )\n\n    const rightPageClasses = classNames(\n      String(b('page-right')),\n      { disabled: isSinglePage || !hasNextPage }\n    )\n\n    return (\n      <div className={b()} style={style}>\n        <div className={b('title')}>\n          {title}\n        </div>\n        <div className={b('content')}>\n          <div\n            className={leftPageClasses}\n            onClick={this.previousPage}\n          >\n            <ChevronLeft />\n          </div>\n          <div className={b('artworks')}>\n            {\n              currArtworks.map((artwork, key) => {\n                return (\n                  <div className={b('artwork')} key={key}>\n                    {this.props.getDisplayComponent(artwork)}\n                  </div>\n                )\n              })\n            }\n          </div>\n          <div\n            className={rightPageClasses}\n            onClick={this.nextPage}\n          >\n            <ChevronRight />\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n"]}]}