{"remainingRequest":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js??ref--2-1!/Users/eve/development/force/src/desktop/apps/article/components/layouts/NonScrollArticle.js","dependencies":[{"path":"/Users/eve/development/force/src/desktop/apps/article/components/layouts/NonScrollArticle.js","mtime":1533580185000},{"path":"/Users/eve/development/force/.babelrc","mtime":1528124541000},{"path":"/Users/eve/development/force/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NonScrollArticleLayout = void 0;\n\nvar _getPrototypeOf = _interopRequireDefault(require(\"@babel/runtime/core-js/object/get-prototype-of\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _article = _interopRequireDefault(require(\"../../../../models/article.coffee\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _Publishing = require(\"@artsy/reaction/dist/Components/Publishing\");\n\nvar _FollowButton = require(\"../FollowButton.js\");\n\nvar _editorial_signup = _interopRequireDefault(require(\"../../../../components/email/client/editorial_signup.coffee\"));\n\nvar _super_article = _interopRequireDefault(require(\"../../../../components/article/client/super_article.coffee\"));\n\n(function () {\n  var enterModule = require('react-hot-loader').enterModule;\n\n  enterModule && enterModule(module);\n})();\n\n// FIXME: Rewire\nvar SuperArticleView = _super_article.default;\nvar EditorialSignupView = _editorial_signup.default;\n\nvar NonScrollArticleLayout =\n/*#__PURE__*/\nfunction (_React$Component) {\n  (0, _inherits2.default)(NonScrollArticleLayout, _React$Component);\n\n  function NonScrollArticleLayout(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, NonScrollArticleLayout);\n    _this = (0, _possibleConstructorReturn2.default)(this, (NonScrollArticleLayout.__proto__ || (0, _getPrototypeOf.default)(NonScrollArticleLayout)).call(this, props));\n    _this.state = {\n      following: (0, _FollowButton.setupFollows)() || null\n    };\n    return _this;\n  }\n\n  (0, _createClass2.default)(NonScrollArticleLayout, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _props = this.props,\n          article = _props.article,\n          isSuper = _props.isSuper; // TODO: Replace with relay follow\n\n      (0, _FollowButton.setupFollowButtons)(this.state.following); // Comment until we are ready to launch the test\n      // splitTest('article_infinite_scroll').view()\n\n      if (isSuper) {\n        // setup superArticle header/footer\n        new SuperArticleView({\n          el: document.querySelector('body'),\n          article: new _article.default(article)\n        });\n      }\n\n      if (!isSuper && article.layout === 'standard') {\n        // setup mobile email popup\n        new EditorialSignupView({\n          el: document.querySelector('body')\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _props2 = this.props,\n          article = _props2.article,\n          isMobile = _props2.isMobile,\n          isSuper = _props2.isSuper,\n          onOpenAuthModal = _props2.onOpenAuthModal,\n          renderTime = _props2.renderTime,\n          showTooltips = _props2.showTooltips,\n          _props2$templates = _props2.templates;\n      _props2$templates = _props2$templates === void 0 ? {} : _props2$templates;\n      var SuperArticleFooter = _props2$templates.SuperArticleFooter,\n          SuperArticleHeader = _props2$templates.SuperArticleHeader;\n      return _react.default.createElement(\"div\", null, isSuper && _react.default.createElement(\"div\", {\n        dangerouslySetInnerHTML: {\n          __html: SuperArticleHeader\n        }\n      }), _react.default.createElement(_Publishing.Article, {\n        article: article,\n        display: article.display,\n        isMobile: isMobile,\n        onOpenAuthModal: onOpenAuthModal,\n        relatedArticlesForPanel: article.relatedArticlesPanel,\n        relatedArticlesForCanvas: article.relatedArticlesCanvas,\n        renderTime: renderTime,\n        showTooltips: showTooltips\n      }), isSuper && _react.default.createElement(\"div\", {\n        dangerouslySetInnerHTML: {\n          __html: SuperArticleFooter\n        }\n      }));\n    }\n  }, {\n    key: \"__reactstandin__regenerateByEval\",\n    value: function __reactstandin__regenerateByEval(key, code) {\n      this[key] = eval(code);\n    }\n  }]);\n  return NonScrollArticleLayout;\n}(_react.default.Component);\n\nexports.NonScrollArticleLayout = NonScrollArticleLayout;\nObject.defineProperty(NonScrollArticleLayout, \"propTypes\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    article: _propTypes.default.object,\n    isMobile: _propTypes.default.bool,\n    onOpenAuthModal: _propTypes.default.func,\n    showTooltips: _propTypes.default.bool,\n    renderTime: _propTypes.default.number\n  }\n});\n;\n\n(function () {\n  var reactHotLoader = require('react-hot-loader').default;\n\n  var leaveModule = require('react-hot-loader').leaveModule;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(SuperArticleView, \"SuperArticleView\", \"/Users/eve/development/force/src/desktop/apps/article/components/layouts/NonScrollArticle.js\");\n  reactHotLoader.register(EditorialSignupView, \"EditorialSignupView\", \"/Users/eve/development/force/src/desktop/apps/article/components/layouts/NonScrollArticle.js\");\n  reactHotLoader.register(NonScrollArticleLayout, \"NonScrollArticleLayout\", \"/Users/eve/development/force/src/desktop/apps/article/components/layouts/NonScrollArticle.js\");\n  leaveModule(module);\n})();\n\n;",{"version":3,"sources":["src/desktop/apps/article/components/layouts/NonScrollArticle.js"],"names":["SuperArticleView","EditorialSignupView","NonScrollArticleLayout","props","state","following","article","isSuper","el","document","querySelector","layout","isMobile","onOpenAuthModal","renderTime","showTooltips","templates","SuperArticleFooter","SuperArticleHeader","__html","display","relatedArticlesPanel","relatedArticlesCanvas","Component","object","bool","func","number"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;AAEA;AACA,IAAIA,yCAAJ;AACA,IAAIC,+CAAJ;;IAEaC,sB;;;;;AACX,kCAAYC,KAAZ,EAAmB;AAAA;;AAAA;AACjB,iKAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACXC,iBAAW,qCAAkB;AADlB,KAAb;AAFiB;AAKlB;;;;wCASmB;AAAA,mBACW,KAAKF,KADhB;AAAA,UACVG,OADU,UACVA,OADU;AAAA,UACDC,OADC,UACDA,OADC,EAElB;;AACA,4CAAmB,KAAKH,KAAL,CAAWC,SAA9B,EAHkB,CAIlB;AACA;;AAEA,UAAIE,OAAJ,EAAa;AACX;AACA,YAAIP,gBAAJ,CAAqB;AACnBQ,cAAIC,SAASC,aAAT,CAAuB,MAAvB,CADe;AAEnBJ,mBAAS,qBAAiBA,OAAjB;AAFU,SAArB;AAID;;AACD,UAAI,CAACC,OAAD,IAAYD,QAAQK,MAAR,KAAmB,UAAnC,EAA+C;AAC7C;AACA,YAAIV,mBAAJ,CAAwB;AACtBO,cAAIC,SAASC,aAAT,CAAuB,MAAvB;AADkB,SAAxB;AAGD;AACF;;;6BAEQ;AAAA,oBASH,KAAKP,KATF;AAAA,UAELG,OAFK,WAELA,OAFK;AAAA,UAGLM,QAHK,WAGLA,QAHK;AAAA,UAILL,OAJK,WAILA,OAJK;AAAA,UAKLM,eALK,WAKLA,eALK;AAAA,UAMLC,UANK,WAMLA,UANK;AAAA,UAOLC,YAPK,WAOLA,YAPK;AAAA,sCAQLC,SARK;AAAA,yDAQmD,EARnD;AAAA,UAQQC,kBARR,qBAQQA,kBARR;AAAA,UAQ4BC,kBAR5B,qBAQ4BA,kBAR5B;AAWP,aACE,0CACGX,WACC;AACE,iCAAyB;AACvBY,kBAAQD;AADe;AAD3B,QAFJ,EASE;AACE,iBAASZ,OADX;AAEE,iBAASA,QAAQc,OAFnB;AAGE,kBAAUR,QAHZ;AAIE,yBAAiBC,eAJnB;AAKE,iCAAyBP,QAAQe,oBALnC;AAME,kCAA0Bf,QAAQgB,qBANpC;AAOE,oBAAYR,UAPd;AAQE,sBAAcC;AARhB,QATF,EAoBGR,WACC;AACE,iCAAyB;AACvBY,kBAAQF;AADe;AAD3B,QArBJ,CADF;AA8BD;;;;;;;;EA9EyC,eAAMM,S;;;sBAArCrB,sB;;;;SAOQ;AACjBI,aAAS,mBAAUkB,MADF;AAEjBZ,cAAU,mBAAUa,IAFH;AAGjBZ,qBAAiB,mBAAUa,IAHV;AAIjBX,kBAAc,mBAAUU,IAJP;AAKjBX,gBAAY,mBAAUa;AALL;;;;;;;;;;;;;0BAVjB3B,gB;0BACAC,mB;0BAESC,sB","file":"/Users/eve/development/force/src/desktop/apps/article/components/layouts/NonScrollArticle.js","sourceRoot":"/Users/eve/development/force","sourcesContent":["import ArticleModel from 'desktop/models/article.coffee'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport { Article } from 'reaction/Components/Publishing'\nimport { setupFollows, setupFollowButtons } from '../FollowButton.js'\nimport _EditorialSignupView from 'desktop/components/email/client/editorial_signup.coffee'\nimport _SuperArticleView from 'desktop/components/article/client/super_article.coffee'\n\n// FIXME: Rewire\nlet SuperArticleView = _SuperArticleView\nlet EditorialSignupView = _EditorialSignupView\n\nexport class NonScrollArticleLayout extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      following: setupFollows() || null,\n    }\n  }\n  static propTypes = {\n    article: PropTypes.object,\n    isMobile: PropTypes.bool,\n    onOpenAuthModal: PropTypes.func,\n    showTooltips: PropTypes.bool,\n    renderTime: PropTypes.number,\n  }\n\n  componentDidMount() {\n    const { article, isSuper } = this.props\n    // TODO: Replace with relay follow\n    setupFollowButtons(this.state.following)\n    // Comment until we are ready to launch the test\n    // splitTest('article_infinite_scroll').view()\n\n    if (isSuper) {\n      // setup superArticle header/footer\n      new SuperArticleView({\n        el: document.querySelector('body'),\n        article: new ArticleModel(article),\n      })\n    }\n    if (!isSuper && article.layout === 'standard') {\n      // setup mobile email popup\n      new EditorialSignupView({\n        el: document.querySelector('body'),\n      })\n    }\n  }\n\n  render() {\n    const {\n      article,\n      isMobile,\n      isSuper,\n      onOpenAuthModal,\n      renderTime,\n      showTooltips,\n      templates: { SuperArticleFooter, SuperArticleHeader } = {},\n    } = this.props\n\n    return (\n      <div>\n        {isSuper && (\n          <div\n            dangerouslySetInnerHTML={{\n              __html: SuperArticleHeader,\n            }}\n          />\n        )}\n\n        <Article\n          article={article}\n          display={article.display}\n          isMobile={isMobile}\n          onOpenAuthModal={onOpenAuthModal}\n          relatedArticlesForPanel={article.relatedArticlesPanel}\n          relatedArticlesForCanvas={article.relatedArticlesCanvas}\n          renderTime={renderTime}\n          showTooltips={showTooltips}\n        />\n\n        {isSuper && (\n          <div\n            dangerouslySetInnerHTML={{\n              __html: SuperArticleFooter,\n            }}\n          />\n        )}\n      </div>\n    )\n  }\n}\n"]}]}