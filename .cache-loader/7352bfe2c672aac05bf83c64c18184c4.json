{"remainingRequest":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js??ref--2-1!/Users/eve/development/force/node_modules/@artsy/reaction/src/Styleguide/Components/MarketInsights.tsx","dependencies":[{"path":"/Users/eve/development/force/node_modules/@artsy/reaction/src/Styleguide/Components/MarketInsights.tsx","mtime":1530569767000},{"path":"/Users/eve/development/force/node_modules/@artsy/reaction/.babelrc","mtime":1529423546000},{"path":"/Users/eve/development/force/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MarketInsightsFragmentContainer = exports.MarketInsights = void 0;\n\nvar _palette = require(\"@artsy/palette\");\n\nvar _MarketInsights = require(\"../../../../../../src/Components/Artist/MarketInsights/MarketInsights\");\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactRelay = require(\"react-relay\");\n\nvar _Box = require(\"../../../../../../src/Styleguide/Elements/Box\");\n\nvar _Flex = require(\"../../../../../../src/Styleguide/Elements/Flex\");\n\nvar _Responsive = require(\"Utils/Responsive\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nvar wrapper = function wrapper(xs) {\n  return function (props) {\n    return xs ? _react.default.createElement(_Flex.Flex, _extends({\n      flexDirection: \"column\",\n      mb: 1\n    }, props)) : _react.default.createElement(_Box.Box, props);\n  };\n};\n\nvar CATEGORIES = {\n  \"blue-chip\": \"Blue chip\",\n  \"top-established\": \"Established\",\n  \"top-emerging\": \"Emerging\"\n};\nvar CATEGORY_LABEL_MAP = {\n  \"blue-chip\": \"Represented by internationally recognized galleries.\",\n  \"top-established\": \"Represented by industry leading gallerie.s\",\n  \"top-emerging\": \"Represented by up-and-coming galleries.\"\n};\n\nvar MarketInsights =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(MarketInsights, _React$Component);\n\n  function MarketInsights() {\n    _classCallCheck(this, MarketInsights);\n\n    return _possibleConstructorReturn(this, (MarketInsights.__proto__ || Object.getPrototypeOf(MarketInsights)).apply(this, arguments));\n  }\n\n  _createClass(MarketInsights, [{\n    key: \"renderAuctionHighlight\",\n    value: function renderAuctionHighlight(xs) {\n      var TextWrap = wrapper(xs);\n\n      if (!this.props.artist.auctionResults || this.props.artist.auctionResults.edges.length < 1) {\n        return null;\n      }\n\n      var topAuctionResult = this.props.artist.auctionResults.edges[0].node;\n      var display = \"\".concat(topAuctionResult.price_realized.display, \", \").concat(topAuctionResult.organization, \", \").concat(topAuctionResult.sale_date);\n      return _react.default.createElement(TextWrap, null, _react.default.createElement(_palette.Sans, {\n        size: \"2\",\n        weight: \"medium\",\n        display: \"inline\",\n        mr: 1\n      }, \"High auction record\"), _react.default.createElement(_palette.Sans, {\n        size: \"2\",\n        display: \"inline\",\n        color: \"black60\"\n      }, display));\n    }\n  }, {\n    key: \"renderGalleryRepresentation\",\n    value: function renderGalleryRepresentation(xs) {\n      var TextWrap = wrapper(xs);\n      var highlights = this.props.artist.highlights;\n      var partners = highlights.partners;\n\n      if (partners && partners.edges && partners.edges.length > 0) {\n        var highCategory = (0, _MarketInsights.highestCategory)(partners.edges);\n        return _react.default.createElement(TextWrap, null, _react.default.createElement(_palette.Sans, {\n          size: \"2\",\n          weight: \"medium\",\n          display: \"inline\",\n          mr: 1\n        }, CATEGORIES[highCategory]), _react.default.createElement(_palette.Sans, {\n          size: \"2\",\n          display: \"inline\",\n          color: \"black60\"\n        }, CATEGORY_LABEL_MAP[highCategory]));\n      }\n    }\n  }, {\n    key: \"renderPermanentCollection\",\n    value: function renderPermanentCollection(xs) {\n      var TextWrap = wrapper(xs);\n      var collections = this.props.artist.collections;\n\n      if (!collections || collections.length === 0) {\n        return null;\n      }\n\n      var label = collections.length === 1 ? \"Collected by a major museum\" : \"Collected by major museums\";\n      return _react.default.createElement(TextWrap, null, _react.default.createElement(_palette.Sans, {\n        size: \"2\",\n        weight: \"medium\",\n        display: \"inline\",\n        mr: 1\n      }, label), _react.default.createElement(_palette.Sans, {\n        size: \"2\",\n        display: \"inline\",\n        color: \"black60\"\n      }, collections.join(\", \")));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      return _react.default.createElement(_Box.BorderBox, {\n        flexDirection: \"column\"\n      }, _react.default.createElement(_Responsive.Responsive, null, function (_ref) {\n        var xs = _ref.xs;\n        return _react.default.createElement(\"div\", null, _this.renderAuctionHighlight(xs), _this.renderGalleryRepresentation(xs), _this.renderPermanentCollection(xs));\n      }));\n    }\n  }]);\n\n  return MarketInsights;\n}(_react.default.Component);\n\nexports.MarketInsights = MarketInsights;\nvar MarketInsightsFragmentContainer = (0, _reactRelay.createFragmentContainer)(MarketInsights, {\n  artist: function artist() {\n    var node = require(\"../../../../../../src/__generated__/MarketInsightsArtistPage_artist.graphql\");\n\n    if (node.hash && node.hash !== \"657224f227fe913f33f33f45e7872555\") {\n      console.error(\"The definition of 'MarketInsightsArtistPage_artist' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.\");\n    }\n\n    return require(\"../../../../../../src/__generated__/MarketInsightsArtistPage_artist.graphql\");\n  }\n});\nexports.MarketInsightsFragmentContainer = MarketInsightsFragmentContainer;",{"version":3,"sources":["node_modules/@artsy/reaction/src/Styleguide/Components/MarketInsights.tsx"],"names":["wrapper","xs","props","CATEGORIES","CATEGORY_LABEL_MAP","MarketInsights","TextWrap","artist","auctionResults","edges","length","topAuctionResult","node","display","price_realized","organization","sale_date","highlights","partners","highCategory","collections","label","join","renderAuctionHighlight","renderGalleryRepresentation","renderPermanentCollection","Component","MarketInsightsFragmentContainer"],"mappings":"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","file":"/Users/eve/development/force/node_modules/@artsy/reaction/src/Styleguide/Components/MarketInsights.tsx","sourceRoot":"/Users/eve/development/force","sourcesContent":["import { Sans } from \"@artsy/palette\"\nimport { MarketInsightsArtistPage_artist } from \"__generated__/MarketInsightsArtistPage_artist.graphql\"\nimport { highestCategory } from \"Components/Artist/MarketInsights/MarketInsights\"\nimport React from \"react\"\nimport { createFragmentContainer, graphql } from \"react-relay\"\nimport { BorderBox, Box } from \"Styleguide/Elements/Box\"\nimport { Flex } from \"Styleguide/Elements/Flex\"\nimport { Responsive } from \"Utils/Responsive\"\n\nconst wrapper = xs => props =>\n  xs ? <Flex flexDirection=\"column\" mb={1} {...props} /> : <Box {...props} />\n\nexport interface MarketInsightsProps {\n  artist: MarketInsightsArtistPage_artist\n}\n\nconst CATEGORIES = {\n  \"blue-chip\": \"Blue chip\",\n  \"top-established\": \"Established\",\n  \"top-emerging\": \"Emerging\",\n}\nconst CATEGORY_LABEL_MAP = {\n  \"blue-chip\": \"Represented by internationally recognized galleries.\",\n  \"top-established\": \"Represented by industry leading gallerie.s\",\n  \"top-emerging\": \"Represented by up-and-coming galleries.\",\n}\n\nexport class MarketInsights extends React.Component<MarketInsightsProps> {\n  renderAuctionHighlight(xs: boolean) {\n    const TextWrap = wrapper(xs)\n    if (\n      !this.props.artist.auctionResults ||\n      this.props.artist.auctionResults.edges.length < 1\n    ) {\n      return null\n    }\n    const topAuctionResult = this.props.artist.auctionResults.edges[0].node\n    const display = `${topAuctionResult.price_realized.display}, ${\n      topAuctionResult.organization\n    }, ${topAuctionResult.sale_date}`\n    return (\n      <TextWrap>\n        <Sans size=\"2\" weight=\"medium\" display=\"inline\" mr={1}>\n          High auction record\n        </Sans>\n        <Sans size=\"2\" display=\"inline\" color=\"black60\">\n          {display}\n        </Sans>\n      </TextWrap>\n    )\n  }\n  renderGalleryRepresentation(xs: boolean) {\n    const TextWrap = wrapper(xs)\n    const { highlights } = this.props.artist\n    const { partners } = highlights\n    if (partners && partners.edges && partners.edges.length > 0) {\n      const highCategory = highestCategory(partners.edges)\n      return (\n        <TextWrap>\n          <Sans size=\"2\" weight=\"medium\" display=\"inline\" mr={1}>\n            {CATEGORIES[highCategory]}\n          </Sans>\n          <Sans size=\"2\" display=\"inline\" color=\"black60\">\n            {CATEGORY_LABEL_MAP[highCategory]}\n          </Sans>\n        </TextWrap>\n      )\n    }\n  }\n  renderPermanentCollection(xs: boolean) {\n    const TextWrap = wrapper(xs)\n    const { collections } = this.props.artist\n    if (!collections || collections.length === 0) {\n      return null\n    }\n    const label =\n      collections.length === 1\n        ? \"Collected by a major museum\"\n        : \"Collected by major museums\"\n    return (\n      <TextWrap>\n        <Sans size=\"2\" weight=\"medium\" display=\"inline\" mr={1}>\n          {label}\n        </Sans>\n        <Sans size=\"2\" display=\"inline\" color=\"black60\">\n          {collections.join(\", \")}\n        </Sans>\n      </TextWrap>\n    )\n  }\n\n  render() {\n    return (\n      <BorderBox flexDirection=\"column\">\n        <Responsive>\n          {({ xs }) => {\n            return (\n              <div>\n                {this.renderAuctionHighlight(xs)}\n                {this.renderGalleryRepresentation(xs)}\n                {this.renderPermanentCollection(xs)}\n              </div>\n            )\n          }}\n        </Responsive>\n      </BorderBox>\n    )\n  }\n}\n\nexport const MarketInsightsFragmentContainer = createFragmentContainer(\n  MarketInsights,\n  graphql`\n    fragment MarketInsightsArtistPage_artist on Artist\n      @argumentDefinitions(\n        partner_category: {\n          type: \"[String]\"\n          defaultValue: [\"blue-chip\", \"top-established\", \"top-emerging\"]\n        }\n      ) {\n      _id\n      collections\n      highlights {\n        partners(\n          first: 10\n          display_on_partner_profile: true\n          represented_by: true\n          partner_category: $partner_category\n        ) {\n          edges {\n            node {\n              categories {\n                id\n              }\n            }\n          }\n        }\n      }\n      auctionResults(\n        recordsTrusted: true\n        first: 1\n        sort: PRICE_AND_DATE_DESC\n      ) {\n        edges {\n          node {\n            price_realized {\n              display(format: \"0a\")\n            }\n            organization\n            sale_date(format: \"YYYY\")\n          }\n        }\n      }\n    }\n  `\n)\n"]}]}