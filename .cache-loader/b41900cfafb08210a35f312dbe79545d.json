{"remainingRequest":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js??ref--2-1!/Users/eve/development/force/src/desktop/apps/article/components/InfiniteScrollArticle.js","dependencies":[{"path":"/Users/eve/development/force/src/desktop/apps/article/components/InfiniteScrollArticle.js","mtime":1533652817000},{"path":"/Users/eve/development/force/.babelrc","mtime":1528124541000},{"path":"/Users/eve/development/force/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LoadingSpinner = exports.default = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _getPrototypeOf = _interopRequireDefault(require(\"@babel/runtime/core-js/object/get-prototype-of\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _underscore = _interopRequireDefault(require(\"underscore\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactWaypoint = _interopRequireDefault(require(\"react-waypoint\"));\n\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\n\nvar _sharify = require(\"sharify\");\n\nvar _positronql2 = require(\"../../../lib/positronql\");\n\nvar _Publishing = require(\"@artsy/reaction/dist/Components/Publishing\");\n\nvar _articles = require(\"../queries/articles\");\n\nvar _FollowButton = require(\"./FollowButton.js\");\n\nvar _Constants = require(\"@artsy/reaction/dist/Components/Publishing/Constants\");\n\n// FIXME: Rewire\nvar positronql = _positronql2.positronql;\nvar FETCH_TOP_OFFSET = 200;\n\nvar InfiniteScrollArticle =\n/*#__PURE__*/\nfunction (_React$Component) {\n  (0, _inherits2.default)(InfiniteScrollArticle, _React$Component);\n\n  function InfiniteScrollArticle(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, InfiniteScrollArticle);\n    _this = (0, _possibleConstructorReturn2.default)(this, (InfiniteScrollArticle.__proto__ || (0, _getPrototypeOf.default)(InfiniteScrollArticle)).call(this, props));\n    Object.defineProperty((0, _assertThisInitialized2.default)(_this), \"fetchNextArticles\", {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: function () {\n        var _value = (0, _asyncToGenerator2.default)(\n        /*#__PURE__*/\n        _regenerator.default.mark(function _callee() {\n          var _this$state, articles, following, offset, renderTimes, data;\n\n          return _regenerator.default.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _this$state = _this.state, articles = _this$state.articles, following = _this$state.following, offset = _this$state.offset, renderTimes = _this$state.renderTimes;\n\n                  _this.setState({\n                    isLoading: true\n                  });\n\n                  _context.prev = 2;\n                  _context.next = 5;\n                  return positronql({\n                    query: (0, _articles.articlesQuery)({\n                      offset: offset,\n                      layout: 'standard',\n                      limit: 3,\n                      channel: _sharify.data.ARTSY_EDITORIAL_CHANNEL,\n                      omit: _this.props.article.id\n                    })\n                  });\n\n                case 5:\n                  data = _context.sent;\n\n                  if (data.articles.length) {\n                    _this.setState({\n                      articles: articles.concat(data.articles),\n                      renderTimes: renderTimes.concat([(0, _Constants.getCurrentUnixTimestamp)()]),\n                      isLoading: false,\n                      offset: offset + 3\n                    });\n\n                    (0, _FollowButton.setupFollowButtons)(following);\n                  } else {\n                    _this.setState({\n                      isEnabled: false,\n                      isLoading: false\n                    });\n                  }\n\n                  _context.next = 13;\n                  break;\n\n                case 9:\n                  _context.prev = 9;\n                  _context.t0 = _context[\"catch\"](2);\n                  console.error('(apps/article/InfiniteScrollArticle) Error fetching next article set: ', _context.t0);\n\n                  _this.setState({\n                    isEnabled: false,\n                    isLoading: false,\n                    error: true\n                  });\n\n                case 13:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, this, [[2, 9]]);\n        }));\n\n        return function value() {\n          return _value.apply(this, arguments);\n        };\n      }()\n    });\n    Object.defineProperty((0, _assertThisInitialized2.default)(_this), \"renderWaypoint\", {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: function value() {\n        var _this$state2 = _this.state,\n            isEnabled = _this$state2.isEnabled,\n            isLoading = _this$state2.isLoading,\n            error = _this$state2.error;\n\n        if (isEnabled) {\n          if (!isLoading) {\n            return React.createElement(_reactWaypoint.default, {\n              onEnter: _this.fetchNextArticles,\n              threshold: 2.0,\n              topOffset: FETCH_TOP_OFFSET\n            });\n          } else if (!error) {\n            return React.createElement(LoadingSpinner, null, React.createElement(\"div\", {\n              className: \"loading-spinner\"\n            }));\n          }\n        }\n      }\n    });\n    Object.defineProperty((0, _assertThisInitialized2.default)(_this), \"onEnter\", {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: function value(article, _ref) {\n        var previousPosition = _ref.previousPosition,\n            currentPosition = _ref.currentPosition;\n\n        if (previousPosition === 'above' && currentPosition === 'inside') {\n          document.title = article.thumbnail_title;\n          window.history.replaceState({}, article.id, \"/article/\".concat(article.slug));\n        }\n      }\n    });\n    Object.defineProperty((0, _assertThisInitialized2.default)(_this), \"onLeave\", {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: function value(i, _ref2) {\n        var previousPosition = _ref2.previousPosition,\n            currentPosition = _ref2.currentPosition;\n        var nextArticle = _this.state.articles[i + 1];\n\n        if (nextArticle && previousPosition === 'inside' && currentPosition === 'above') {\n          document.title = nextArticle.thumbnail_title;\n          window.history.replaceState({}, nextArticle.id, \"/article/\".concat(nextArticle.slug));\n        }\n      }\n    });\n    Object.defineProperty((0, _assertThisInitialized2.default)(_this), \"renderContent\", {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: function value() {\n        var _this$props = _this.props,\n            slug = _this$props.article.slug,\n            emailSignupUrl = _this$props.emailSignupUrl,\n            isMobile = _this$props.isMobile,\n            showTooltips = _this$props.showTooltips,\n            onOpenAuthModal = _this$props.onOpenAuthModal;\n        var _this$state3 = _this.state,\n            articles = _this$state3.articles,\n            renderTimes = _this$state3.renderTimes;\n        return _underscore.default.flatten(articles.map(function (article, i) {\n          return React.createElement(\"div\", {\n            key: \"article-\".concat(i)\n          }, React.createElement(_Publishing.Article, {\n            article: article,\n            emailSignupUrl: emailSignupUrl,\n            relatedArticlesForPanel: article.relatedArticlesPanel,\n            relatedArticlesForCanvas: article.relatedArticlesCanvas,\n            isTruncated: i !== 0,\n            isMobile: isMobile,\n            display: article.display,\n            showTooltips: showTooltips,\n            onOpenAuthModal: onOpenAuthModal,\n            renderTime: renderTimes[Math.floor(i / 3)],\n            infiniteScrollEntrySlug: slug\n          }), React.createElement(_reactWaypoint.default, {\n            onEnter: function onEnter(waypointData) {\n              return _this.onEnter(article, waypointData);\n            },\n            onLeave: function onLeave(waypointData) {\n              return _this.onLeave(i, waypointData);\n            }\n          }));\n        }));\n      }\n    });\n    _this.state = {\n      isLoading: false,\n      articles: [props.article],\n      offset: 0,\n      error: false,\n      following: (0, _FollowButton.setupFollows)() || null,\n      isEnabled: true,\n      renderTimes: [props.renderTime]\n    };\n    return _this;\n  }\n\n  (0, _createClass2.default)(InfiniteScrollArticle, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      (0, _FollowButton.setupFollowButtons)(this.state.following);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        id: \"article-root\"\n      }, this.renderContent(), this.renderWaypoint());\n    }\n  }]);\n  return InfiniteScrollArticle;\n}(React.Component);\n\nexports.default = InfiniteScrollArticle;\nObject.defineProperty(InfiniteScrollArticle, \"propTypes\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    article: _propTypes.default.object,\n    emailSignupUrl: _propTypes.default.string,\n    isMobile: _propTypes.default.bool,\n    showTooltips: _propTypes.default.bool,\n    onOpenAuthModal: _propTypes.default.func,\n    renderTime: _propTypes.default.number\n  }\n});\n\nvar LoadingSpinner =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"InfiniteScrollArticle__LoadingSpinner\",\n  componentId: \"s17nwnks-0\"\n})([\"position:relative;padding:100px;\"]);\n\nexports.LoadingSpinner = LoadingSpinner;",{"version":3,"sources":["src/desktop/apps/article/components/InfiniteScrollArticle.js"],"names":["positronql","FETCH_TOP_OFFSET","InfiniteScrollArticle","props","state","articles","following","offset","renderTimes","setState","isLoading","query","layout","limit","channel","ARTSY_EDITORIAL_CHANNEL","omit","article","id","data","length","concat","isEnabled","console","error","fetchNextArticles","previousPosition","currentPosition","document","title","thumbnail_title","window","history","replaceState","slug","i","nextArticle","emailSignupUrl","isMobile","showTooltips","onOpenAuthModal","flatten","map","relatedArticlesPanel","relatedArticlesCanvas","display","Math","floor","onEnter","waypointData","onLeave","renderTime","renderContent","renderWaypoint","React","Component","object","string","bool","func","number","LoadingSpinner","div"],"mappings":"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","file":"/Users/eve/development/force/src/desktop/apps/article/components/InfiniteScrollArticle.js","sourceRoot":"/Users/eve/development/force","sourcesContent":["import * as React from 'react'\nimport _ from 'underscore'\nimport PropTypes from 'prop-types'\nimport Waypoint from 'react-waypoint'\nimport styled from 'styled-components'\nimport { data as sd } from 'sharify'\nimport { positronql as _positronql } from 'desktop/lib/positronql'\nimport { Article } from 'reaction/Components/Publishing'\nimport { articlesQuery } from 'desktop/apps/article/queries/articles'\nimport { setupFollows, setupFollowButtons } from './FollowButton.js'\nimport { getCurrentUnixTimestamp } from 'reaction/Components/Publishing/Constants'\n\n// FIXME: Rewire\nlet positronql = _positronql\n\nconst FETCH_TOP_OFFSET = 200\n\nexport default class InfiniteScrollArticle extends React.Component {\n  static propTypes = {\n    article: PropTypes.object,\n    emailSignupUrl: PropTypes.string,\n    isMobile: PropTypes.bool,\n    showTooltips: PropTypes.bool,\n    onOpenAuthModal: PropTypes.func,\n    renderTime: PropTypes.number,\n  }\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n      articles: [props.article],\n      offset: 0,\n      error: false,\n      following: setupFollows() || null,\n      isEnabled: true,\n      renderTimes: [props.renderTime],\n    }\n  }\n\n  componentDidMount() {\n    setupFollowButtons(this.state.following)\n  }\n\n  fetchNextArticles = async () => {\n    const { articles, following, offset, renderTimes } = this.state\n\n    this.setState({\n      isLoading: true,\n    })\n\n    try {\n      const data = await positronql({\n        query: articlesQuery({\n          offset,\n          layout: 'standard',\n          limit: 3,\n          channel: sd.ARTSY_EDITORIAL_CHANNEL,\n          omit: this.props.article.id,\n        }),\n      })\n\n      if (data.articles.length) {\n        this.setState({\n          articles: articles.concat(data.articles),\n          renderTimes: renderTimes.concat([getCurrentUnixTimestamp()]),\n          isLoading: false,\n          offset: offset + 3,\n        })\n        setupFollowButtons(following)\n      } else {\n        this.setState({\n          isEnabled: false,\n          isLoading: false,\n        })\n      }\n    } catch (error) {\n      console.error(\n        '(apps/article/InfiniteScrollArticle) Error fetching next article set: ',\n        error\n      )\n\n      this.setState({\n        isEnabled: false,\n        isLoading: false,\n        error: true,\n      })\n    }\n  }\n\n  renderWaypoint = () => {\n    const { isEnabled, isLoading, error } = this.state\n\n    if (isEnabled) {\n      if (!isLoading) {\n        return (\n          <Waypoint\n            onEnter={this.fetchNextArticles}\n            threshold={2.0}\n            topOffset={FETCH_TOP_OFFSET}\n          />\n        )\n      } else if (!error) {\n        return (\n          <LoadingSpinner>\n            <div className=\"loading-spinner\" />\n          </LoadingSpinner>\n        )\n      }\n    }\n  }\n\n  onEnter = (article, { previousPosition, currentPosition }) => {\n    if (previousPosition === 'above' && currentPosition === 'inside') {\n      document.title = article.thumbnail_title\n      window.history.replaceState({}, article.id, `/article/${article.slug}`)\n    }\n  }\n\n  onLeave = (i, { previousPosition, currentPosition }) => {\n    const nextArticle = this.state.articles[i + 1]\n\n    if (\n      nextArticle &&\n      previousPosition === 'inside' &&\n      currentPosition === 'above'\n    ) {\n      document.title = nextArticle.thumbnail_title\n      window.history.replaceState(\n        {},\n        nextArticle.id,\n        `/article/${nextArticle.slug}`\n      )\n    }\n  }\n\n  renderContent = () => {\n    const {\n      article: { slug },\n      emailSignupUrl,\n      isMobile,\n      showTooltips,\n      onOpenAuthModal,\n    } = this.props\n    const { articles, renderTimes } = this.state\n\n    return _.flatten(\n      articles.map((article, i) => {\n        return (\n          <div key={`article-${i}`}>\n            <Article\n              article={article}\n              emailSignupUrl={emailSignupUrl}\n              relatedArticlesForPanel={article.relatedArticlesPanel}\n              relatedArticlesForCanvas={article.relatedArticlesCanvas}\n              isTruncated={i !== 0}\n              isMobile={isMobile}\n              display={article.display}\n              showTooltips={showTooltips}\n              onOpenAuthModal={onOpenAuthModal}\n              renderTime={renderTimes[Math.floor(i / 3)]}\n              infiniteScrollEntrySlug={slug}\n            />\n            <Waypoint\n              onEnter={waypointData => this.onEnter(article, waypointData)}\n              onLeave={waypointData => this.onLeave(i, waypointData)}\n            />\n          </div>\n        )\n      })\n    )\n  }\n\n  render() {\n    return (\n      <div id=\"article-root\">\n        {this.renderContent()}\n        {this.renderWaypoint()}\n      </div>\n    )\n  }\n}\n\nexport const LoadingSpinner = styled.div`\n  position: relative;\n  padding: 100px;\n`\n"]}]}