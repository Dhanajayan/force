{"remainingRequest":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js??ref--2-1!/Users/eve/development/force/src/desktop/apps/consign/components/uploaded_image/index.js","dependencies":[{"path":"/Users/eve/development/force/src/desktop/apps/consign/components/uploaded_image/index.js","mtime":1519227436000},{"path":"/Users/eve/development/force/.babelrc","mtime":1528124541000},{"path":"/Users/eve/development/force/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UploadedImage = UploadedImage;\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _bemCnLite = _interopRequireDefault(require(\"bem-cn-lite\"));\n\nvar _reactRedux = require(\"react-redux\");\n\nvar _underscore = require(\"underscore\");\n\nvar _actions = require(\"../../client/actions\");\n\nvar Alert = function Alert(props) {\n  return _react.default.createElement(\"svg\", (0, _extends2.default)({\n    width: \"15\",\n    height: \"15\",\n    viewBox: \"0 0 15 15\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props), _react.default.createElement(\"path\", {\n    d: \"M7.216 0a7.216 7.216 0 1 0 7.214 7.215A7.216 7.216 0 0 0 7.216 0zm.844 12.175a1.293 1.293 0 0 1-.918.368 1.297 1.297 0 0 1-.924-.376 1.186 1.186 0 0 1-.39-.892c0-.346.134-.643.398-.897.261-.25.57-.375.925-.374.352 0 .657.129.918.381.258.255.389.555.387.902a1.184 1.184 0 0 1-.396.888zm.341-7.692c-.066.307-.153.667-.255 1.08a55.14 55.14 0 0 0-.334 1.463 50.279 50.279 0 0 0-.397 2.166L6.89 9.19a42.91 42.91 0 0 0-.701-3.629 36.661 36.661 0 0 1-.235-1.055c-.073-.343-.108-.601-.105-.775 0-.35.133-.648.392-.894.259-.249.573-.372.936-.37.359.002.672.127.935.377.262.248.393.549.391.899 0 .186-.035.433-.102.74z\",\n    fill: \"#F4645C\",\n    fillRule: \"evenodd\"\n  }));\n};\n\nvar Close = function Close(props) {\n  return _react.default.createElement(\"svg\", (0, _extends2.default)({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"32\",\n    height: \"32\",\n    viewBox: \"0 0 32 32\"\n  }, props), _react.default.createElement(\"path\", {\n    d: \"M28.042 6.064l-1.954-1.979-10.076 9.949L6.064 3.958 4.085 5.913l9.948 10.075-10.075 9.948 1.955 1.979 10.075-9.948 9.948 10.075 1.978-1.954-9.947-10.076z\"\n  }));\n};\n\nfunction UploadedImage(props) {\n  var file = props.file,\n      erroredImages = props.erroredImages,\n      processingImages = props.processingImages,\n      progressBars = props.progressBars,\n      removeImageAction = props.removeImageAction;\n  var b = (0, _bemCnLite.default)('consignments-submission-uploaded-image');\n  var processing = (0, _underscore.contains)(processingImages, file.fileName);\n  var errored = (0, _underscore.contains)(erroredImages, file.fileName);\n  var processingPercentage = progressBars[file.fileName] ? progressBars[file.fileName] * 100 : 0;\n\n  var errorBlock = _react.default.createElement(\"div\", {\n    className: b('error')\n  }, _react.default.createElement(\"div\", {\n    className: b('error-alert')\n  }, _react.default.createElement(Alert, null)), _react.default.createElement(\"div\", {\n    className: b('error-content')\n  }, file.fileName, \" failed to upload.\", _react.default.createElement(\"br\", null), _react.default.createElement(\"b\", null, \"The image file should be JPG or PNG and should be less than 30mb.\")), _react.default.createElement(\"div\", {\n    className: b('error-close'),\n    onClick: function onClick() {\n      return removeImageAction(file.fileName);\n    }\n  }, _react.default.createElement(Close, null)));\n\n  return _react.default.createElement(\"div\", {\n    className: b()\n  }, errored ? errorBlock : _react.default.createElement(\"div\", {\n    className: b('image-wrapper', {\n      processing: processing\n    })\n  }, _react.default.createElement(\"img\", {\n    className: b('image'),\n    src: file.src\n  }), processing ? _react.default.createElement(\"div\", {\n    className: b('progress-wrapper')\n  }, _react.default.createElement(\"div\", {\n    className: b('progress'),\n    style: {\n      width: \"\".concat(processingPercentage, \"%\")\n    }\n  })) : _react.default.createElement(\"div\", {\n    className: b('filename')\n  }, file.fileName)));\n}\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    erroredImages: state.submissionFlow.erroredImages,\n    processingImages: state.submissionFlow.processingImages,\n    progressBars: state.submissionFlow.progressBars\n  };\n};\n\nvar mapDispatchToProps = {\n  removeImageAction: _actions.removeImage\n};\n\nvar _default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(UploadedImage);\n\nexports.default = _default;\nUploadedImage.propTypes = {\n  file: _propTypes.default.object.isRequired,\n  erroredImages: _propTypes.default.array,\n  processingImages: _propTypes.default.array,\n  progressBars: _propTypes.default.object,\n  removeImageAction: _propTypes.default.func.isRequired\n};",{"version":3,"sources":["src/desktop/apps/consign/components/uploaded_image/index.js"],"names":["Alert","Close","UploadedImage","props","file","erroredImages","processingImages","progressBars","removeImageAction","b","processing","fileName","errored","processingPercentage","errorBlock","src","width","mapStateToProps","state","submissionFlow","mapDispatchToProps","propTypes","object","isRequired","array","func"],"mappings":";;;;;;;;;;;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;IAPOA,K,YAAAA,K;;;;;;;;;;;;;IACAC,K,YAAAA,K;;;;;;;;;;;AAQA,SAASC,aAAT,CAAuBC,KAAvB,EAA8B;AAAA,MAEjCC,IAFiC,GAO/BD,KAP+B,CAEjCC,IAFiC;AAAA,MAGjCC,aAHiC,GAO/BF,KAP+B,CAGjCE,aAHiC;AAAA,MAIjCC,gBAJiC,GAO/BH,KAP+B,CAIjCG,gBAJiC;AAAA,MAKjCC,YALiC,GAO/BJ,KAP+B,CAKjCI,YALiC;AAAA,MAMjCC,iBANiC,GAO/BL,KAP+B,CAMjCK,iBANiC;AAQnC,MAAMC,IAAI,wBAAM,wCAAN,CAAV;AACA,MAAMC,aAAa,0BAASJ,gBAAT,EAA2BF,KAAKO,QAAhC,CAAnB;AACA,MAAMC,UAAU,0BAASP,aAAT,EAAwBD,KAAKO,QAA7B,CAAhB;AACA,MAAME,uBAAuBN,aAAaH,KAAKO,QAAlB,IACzBJ,aAAaH,KAAKO,QAAlB,IAA8B,GADL,GAEzB,CAFJ;;AAIA,MAAMG,aACJ;AAAK,eAAWL,EAAE,OAAF;AAAhB,KACE;AAAK,eAAWA,EAAE,aAAF;AAAhB,KACE,6BAAC,KAAD,OADF,CADF,EAIE;AAAK,eAAWA,EAAE,eAAF;AAAhB,KACGL,KAAKO,QADR,wBACmC,wCADnC,EAEE,4GAFF,CAJF,EAQE;AACE,eAAWF,EAAE,aAAF,CADb;AAEE,aAAS;AAAA,aAAMD,kBAAkBJ,KAAKO,QAAvB,CAAN;AAAA;AAFX,KAIE,6BAAC,KAAD,OAJF,CARF,CADF;;AAkBA,SACE;AAAK,eAAWF;AAAhB,KACGG,UACCE,UADD,GAGC;AAAK,eAAWL,EAAE,eAAF,EAAmB;AAAEC;AAAF,KAAnB;AAAhB,KACE;AAAK,eAAWD,EAAE,OAAF,CAAhB;AAA4B,SAAKL,KAAKW;AAAtC,IADF,EAEGL,aACC;AAAK,eAAWD,EAAE,kBAAF;AAAhB,KACE;AACE,eAAWA,EAAE,UAAF,CADb;AAEE,WAAO;AAAEO,uBAAUH,oBAAV;AAAF;AAFT,IADF,CADD,GAQC;AAAK,eAAWJ,EAAE,UAAF;AAAhB,KAAgCL,KAAKO,QAArC,CAVJ,CAJJ,CADF;AAqBD;;AAED,IAAMM,kBAAkB,SAAlBA,eAAkB,CAACC,KAAD,EAAW;AACjC,SAAO;AACLb,mBAAea,MAAMC,cAAN,CAAqBd,aAD/B;AAELC,sBAAkBY,MAAMC,cAAN,CAAqBb,gBAFlC;AAGLC,kBAAcW,MAAMC,cAAN,CAAqBZ;AAH9B,GAAP;AAKD,CAND;;AAQA,IAAMa,qBAAqB;AACzBZ;AADyB,CAA3B;;eAIe,yBAAQS,eAAR,EAAyBG,kBAAzB,EAA6ClB,aAA7C,C;;;AAEfA,cAAcmB,SAAd,GAA0B;AACxBjB,QAAM,mBAAUkB,MAAV,CAAiBC,UADC;AAExBlB,iBAAe,mBAAUmB,KAFD;AAGxBlB,oBAAkB,mBAAUkB,KAHJ;AAIxBjB,gBAAc,mBAAUe,MAJA;AAKxBd,qBAAmB,mBAAUiB,IAAV,CAAeF;AALV,CAA1B","file":"/Users/eve/development/force/src/desktop/apps/consign/components/uploaded_image/index.js","sourceRoot":"/Users/eve/development/force","sourcesContent":["import Alert from '../../../../components/main_layout/public/icons/alert.svg'\nimport Close from '../../../../components/main_layout/public/icons/close.svg'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport block from 'bem-cn-lite'\nimport { connect } from 'react-redux'\nimport { contains } from 'underscore'\nimport { removeImage } from '../../client/actions'\n\nexport function UploadedImage(props) {\n  const {\n    file,\n    erroredImages,\n    processingImages,\n    progressBars,\n    removeImageAction,\n  } = props\n  const b = block('consignments-submission-uploaded-image')\n  const processing = contains(processingImages, file.fileName)\n  const errored = contains(erroredImages, file.fileName)\n  const processingPercentage = progressBars[file.fileName]\n    ? progressBars[file.fileName] * 100\n    : 0\n\n  const errorBlock = (\n    <div className={b('error')}>\n      <div className={b('error-alert')}>\n        <Alert />\n      </div>\n      <div className={b('error-content')}>\n        {file.fileName} failed to upload.<br />\n        <b>The image file should be JPG or PNG and should be less than 30mb.</b>\n      </div>\n      <div\n        className={b('error-close')}\n        onClick={() => removeImageAction(file.fileName)}\n      >\n        <Close />\n      </div>\n    </div>\n  )\n\n  return (\n    <div className={b()}>\n      {errored ? (\n        errorBlock\n      ) : (\n        <div className={b('image-wrapper', { processing })}>\n          <img className={b('image')} src={file.src} />\n          {processing ? (\n            <div className={b('progress-wrapper')}>\n              <div\n                className={b('progress')}\n                style={{ width: `${processingPercentage}%` }}\n              />\n            </div>\n          ) : (\n            <div className={b('filename')}>{file.fileName}</div>\n          )}\n        </div>\n      )}\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    erroredImages: state.submissionFlow.erroredImages,\n    processingImages: state.submissionFlow.processingImages,\n    progressBars: state.submissionFlow.progressBars,\n  }\n}\n\nconst mapDispatchToProps = {\n  removeImageAction: removeImage,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UploadedImage)\n\nUploadedImage.propTypes = {\n  file: PropTypes.object.isRequired,\n  erroredImages: PropTypes.array,\n  processingImages: PropTypes.array,\n  progressBars: PropTypes.object,\n  removeImageAction: PropTypes.func.isRequired,\n}\n"]}]}