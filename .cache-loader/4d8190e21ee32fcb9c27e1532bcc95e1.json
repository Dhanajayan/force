{"remainingRequest":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js??ref--2-1!/Users/eve/development/force/src/desktop/apps/artist2/client.js","dependencies":[{"path":"/Users/eve/development/force/src/desktop/apps/artist2/client.js","mtime":1533586772000},{"path":"/Users/eve/development/force/.babelrc","mtime":1528124541000},{"path":"/Users/eve/development/force/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _keys = _interopRequireDefault(require(\"@babel/runtime/core-js/object/keys\"));\n\nvar _Router = require(\"@artsy/reaction/dist/Router\");\n\nvar _sharify = require(\"sharify\");\n\nvar _routes = require(\"@artsy/reaction/dist/Apps/Artist/routes\");\n\nvar _mediator = _interopRequireDefault(require(\"../../lib/mediator.coffee\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\n\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\n\nvar _querystring = _interopRequireDefault(require(\"querystring\"));\n\nvar _underscore = require(\"underscore\");\n\n_mediator.default.on('artist:filter:changed', function (filters) {\n  onFilterChange(filters);\n});\n\n_mediator.default.on('artist:tabclick', function (_ref) {\n  var to = _ref.to;\n  window.analytics.page({\n    path: to\n  }, {\n    integrations: {\n      Marketo: false\n    }\n  });\n});\n\n(0, _Router.buildClientApp)({\n  routes: _routes.routes,\n  user: _sharify.data.CURRENT_USER\n}).then(function (_ref2) {\n  var ClientApp = _ref2.ClientApp;\n\n  _reactDom.default.hydrate(_react.default.createElement(Container, null, _react.default.createElement(ClientApp, {\n    mediator: _mediator.default\n  })), document.getElementById('react-root'));\n}).catch(function (error) {\n  console.error(error);\n});\n\nif (module.hot) {\n  module.hot.accept();\n} // Update URL with current filters and sort.\n\n\nvar onFilterChange = function onFilterChange(filters) {\n  var params = (0, _underscore.clone)(filters);\n  (0, _keys.default)(params).forEach(function (filter) {\n    if (!params[filter] || (0, _underscore.isArray)(params[filter]) && params[filter].length === 0) {\n      delete params[filter];\n    }\n  });\n\n  var fragment = '?' + _querystring.default.stringify(params);\n\n  window.history.pushState({}, null, fragment);\n}; // FIXME: Move this to Reaction\n\n\nvar Container =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"client__Container\",\n  componentId: \"s1xsyipz-0\"\n})([\"width:100%;max-width:1192px;margin:auto;\"]);",{"version":3,"sources":["src/desktop/apps/artist2/client.js"],"names":["on","onFilterChange","filters","to","window","analytics","page","path","integrations","Marketo","routes","user","CURRENT_USER","then","ClientApp","hydrate","document","getElementById","catch","console","error","module","hot","accept","params","forEach","filter","length","fragment","stringify","history","pushState","Container","div"],"mappings":";;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA,kBAASA,EAAT,CAAY,uBAAZ,EAAqC,mBAAW;AAC9CC,iBAAeC,OAAf;AACD,CAFD;;AAIA,kBAASF,EAAT,CAAY,iBAAZ,EAA+B,gBAAY;AAAA,MAATG,EAAS,QAATA,EAAS;AACzCC,SAAOC,SAAP,CAAiBC,IAAjB,CAAsB;AAAEC,UAAMJ;AAAR,GAAtB,EAAoC;AAAEK,kBAAc;AAAEC,eAAS;AAAX;AAAhB,GAApC;AACD,CAFD;;AAIA,4BAAe;AAAEC,wBAAF;AAAUC,QAAM,cAAGC;AAAnB,CAAf,EACGC,IADH,CACQ,iBAAmB;AAAA,MAAhBC,SAAgB,SAAhBA,SAAgB;;AACvB,oBAASC,OAAT,CACE,6BAAC,SAAD,QACE,6BAAC,SAAD;AAAW;AAAX,IADF,CADF,EAKEC,SAASC,cAAT,CAAwB,YAAxB,CALF;AAOD,CATH,EAUGC,KAVH,CAUS,iBAAS;AACdC,UAAQC,KAAR,CAAcA,KAAd;AACD,CAZH;;AAcA,IAAIC,OAAOC,GAAX,EAAgB;AACdD,SAAOC,GAAP,CAAWC,MAAX;AACD,C,CAED;;;AACA,IAAMtB,iBAAiB,SAAjBA,cAAiB,UAAW;AAChC,MAAMuB,SAAS,uBAAMtB,OAAN,CAAf;AACA,qBAAYsB,MAAZ,EAAoBC,OAApB,CAA4B,kBAAU;AACpC,QACE,CAACD,OAAOE,MAAP,CAAD,IACC,yBAAQF,OAAOE,MAAP,CAAR,KAA2BF,OAAOE,MAAP,EAAeC,MAAf,KAA0B,CAFxD,EAGE;AACA,aAAOH,OAAOE,MAAP,CAAP;AACD;AACF,GAPD;;AASA,MAAME,WAAW,MAAM,qBAAGC,SAAH,CAAaL,MAAb,CAAvB;;AACApB,SAAO0B,OAAP,CAAeC,SAAf,CAAyB,EAAzB,EAA6B,IAA7B,EAAmCH,QAAnC;AACD,CAbD,C,CAeA;;;AACA,IAAMI;AAAA;AAAY,0BAAOC,GAAnB;AAAA;AAAA;AAAA,gDAAN","file":"/Users/eve/development/force/src/desktop/apps/artist2/client.js","sourceRoot":"/Users/eve/development/force","sourcesContent":["import { buildClientApp } from 'reaction/Router'\nimport { data as sd } from 'sharify'\nimport { routes } from 'reaction/Apps/Artist/routes'\nimport mediator from 'desktop/lib/mediator.coffee'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport styled from 'styled-components'\nimport qs from 'querystring'\nimport { clone, isArray } from 'underscore'\n\nmediator.on('artist:filter:changed', filters => {\n  onFilterChange(filters)\n})\n\nmediator.on('artist:tabclick', ({ to }) => {\n  window.analytics.page({ path: to }, { integrations: { Marketo: false } })\n})\n\nbuildClientApp({ routes, user: sd.CURRENT_USER })\n  .then(({ ClientApp }) => {\n    ReactDOM.hydrate(\n      <Container>\n        <ClientApp mediator={mediator} />\n      </Container>,\n\n      document.getElementById('react-root')\n    )\n  })\n  .catch(error => {\n    console.error(error)\n  })\n\nif (module.hot) {\n  module.hot.accept()\n}\n\n// Update URL with current filters and sort.\nconst onFilterChange = filters => {\n  const params = clone(filters)\n  Object.keys(params).forEach(filter => {\n    if (\n      !params[filter] ||\n      (isArray(params[filter]) && params[filter].length === 0)\n    ) {\n      delete params[filter]\n    }\n  })\n\n  const fragment = '?' + qs.stringify(params)\n  window.history.pushState({}, null, fragment)\n}\n\n// FIXME: Move this to Reaction\nconst Container = styled.div`\n  width: 100%;\n  max-width: 1192px;\n  margin: auto;\n`\n"]}]}