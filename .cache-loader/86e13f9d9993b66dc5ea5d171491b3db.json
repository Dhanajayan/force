{"remainingRequest":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js??ref--2-1!/Users/eve/development/force/src/desktop/analytics/bidding.js","dependencies":[{"path":"/Users/eve/development/force/src/desktop/analytics/bidding.js","mtime":1519227435000},{"path":"/Users/eve/development/force/.babelrc","mtime":1528124541000},{"path":"/Users/eve/development/force/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["//\n// Generic events around bidding for auctions\n//\nvar USER_ID = sd.CURRENT_USER ? sd.CURRENT_USER.id : null;\nvar AUCTION_ID = sd.AUCTION && sd.AUCTION.id;\nvar AUCTION_STATE = sd.AUCTION && sd.AUCTION.auction_state; // Clicked \"Register to bid\" (context_type: 'auctions landing')\n\n$('.auction-Registration .avant-garde-button-black').click(function () {\n  analytics.track('Clicked \"Register to bid\"', {\n    context_type: 'auctions landing',\n    auction_slug: AUCTION_ID,\n    auction_state: AUCTION_STATE,\n    user_id: USER_ID\n  });\n}); // Clicked \"Register to bid\" (context_type: 'settings')\n\n$(document).on('click', '.settings-auction-registration___button a', function () {\n  analytics.track('Clicked \"Register to bid\"', {\n    context_type: 'settings',\n    auction_slug: $(this).attr('href').split('/')[2],\n    auction_state: 'open',\n    user_id: USER_ID\n  });\n}); // Registration failed to submit\n\nanalyticsHooks.on('registration:submit-address', function () {\n  setTimeout(function () {\n    var errorMessages = $('.error').map(function () {\n      return $(this).text();\n    }).toArray();\n\n    if (errorMessages.length > 0) {\n      analytics.track('Registration failed to submit', {\n        auction_slug: sd.SALE.id,\n        auction_state: sd.SALE.auction_state,\n        user_id: USER_ID,\n        error_messages: errorMessages\n      });\n    }\n  });\n}); // Registration submitted\n\nanalyticsHooks.on('registration:success', function (data) {\n  setTimeout(function () {\n    analytics.track('Registration submitted', {\n      auction_slug: sd.SALE.id,\n      auction_state: sd.SALE.auction_state,\n      user_id: USER_ID,\n      bidder_id: data.bidder_id\n    });\n  });\n}); // Credit card not valid\n\nanalyticsHooks.on('creditcard:unqualified', function (data) {\n  analytics.track('Credit card not valid', data);\n}); // Clicked \"Bid\" (context_type: your active bids on auction page)\n\n$(document).on('click', '.auction-ActiveBidItem__bid-button', function (e) {\n  var artworkId = $(e.target).parent().data('artwork_id');\n  analytics.track('Clicked \"Bid\"', {\n    auction_slug: AUCTION_ID,\n    user_id: USER_ID,\n    context_type: 'your active bids',\n    artwork_slug: artworkId\n  });\n}); // Clicked \"Bid\" (context_type: your active bids)\n\n$(document).on('click', '.my-active-bids-bid-button', function (e) {\n  var artworkId = $(e.target).parent().data('artwork_id');\n  analytics.track('Clicked \"Bid\"', {\n    auction_slug: AUCTION_ID,\n    user_id: USER_ID,\n    context_type: 'your active bids',\n    artwork_slug: artworkId\n  });\n}); // Clicked \"Bid\" (context_type: artwork page: pre-register before bidding, approval required before bidding)\n\n$(document).on('click', 'a.artwork-auction__bid-form__button', function () {\n  analytics.track('Clicked \"Bid\"', {\n    auction_slug: AUCTION_ID,\n    user_id: USER_ID,\n    context_type: 'artwork page',\n    artwork_slug: sd.PARAMS.id\n  });\n}); // Confirm bid failed\n\nanalyticsHooks.on('error', function (message) {\n  if (message.match('bid must be higher')) {\n    analytics.track('Confirm bid failed', {\n      auction_slug: sd.SALE.id,\n      user_id: USER_ID,\n      artwork_slug: sd.SALE_ARTWORK.artwork.id\n    });\n  }\n}); // Confirmed bid on bid page\n\nanalyticsHooks.on('confirm:bid:form:success', function (data) {\n  analytics.track('Confirmed bid on bid page', {\n    auction_slug: sd.SALE.id,\n    user_id: USER_ID,\n    artwork_slug: sd.SALE_ARTWORK.artwork.id,\n    bidder_position_id: data.bidder_position_id,\n    bidder_id: data.bidder_id\n  });\n}); // Changed filter params on /auction page\n\nanalyticsHooks.on('auction:artworks:params:change', function (data) {\n  analytics.track('Commercial filter params changed', {\n    sale_id: AUCTION_ID,\n    auction_slug: sd.AUCTION.slug,\n    user_id: USER_ID,\n    current: data.current,\n    changed: data.changed\n  });\n});",{"version":3,"sources":["src/desktop/analytics/bidding.js"],"names":["USER_ID","sd","CURRENT_USER","id","AUCTION_ID","AUCTION","AUCTION_STATE","auction_state","$","click","analytics","track","context_type","auction_slug","user_id","document","on","attr","split","analyticsHooks","setTimeout","errorMessages","map","text","toArray","length","SALE","error_messages","data","bidder_id","e","artworkId","target","parent","artwork_slug","PARAMS","message","match","SALE_ARTWORK","artwork","bidder_position_id","sale_id","slug","current","changed"],"mappings":"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","file":"/Users/eve/development/force/src/desktop/analytics/bidding.js","sourceRoot":"/Users/eve/development/force","sourcesContent":["//\n// Generic events around bidding for auctions\n//\n\nvar USER_ID = sd.CURRENT_USER ? sd.CURRENT_USER.id : null\nvar AUCTION_ID = sd.AUCTION && sd.AUCTION.id\nvar AUCTION_STATE = sd.AUCTION && sd.AUCTION.auction_state\n\n// Clicked \"Register to bid\" (context_type: 'auctions landing')\n$('.auction-Registration .avant-garde-button-black').click(function () {\n  analytics.track('Clicked \"Register to bid\"', {\n    context_type: 'auctions landing',\n    auction_slug: AUCTION_ID,\n    auction_state: AUCTION_STATE,\n    user_id: USER_ID\n  })\n})\n\n// Clicked \"Register to bid\" (context_type: 'settings')\n$(document).on('click', '.settings-auction-registration___button a', function () {\n  analytics.track('Clicked \"Register to bid\"', {\n    context_type: 'settings',\n    auction_slug: $(this).attr('href').split('/')[2],\n    auction_state: 'open',\n    user_id: USER_ID\n  })\n})\n\n// Registration failed to submit\nanalyticsHooks.on('registration:submit-address', function () {\n  setTimeout(function () {\n    var errorMessages = $('.error').map(function () { return $(this).text() }).toArray()\n    if (errorMessages.length > 0) {\n      analytics.track('Registration failed to submit', {\n        auction_slug: sd.SALE.id,\n        auction_state: sd.SALE.auction_state,\n        user_id: USER_ID,\n        error_messages: errorMessages\n      })\n    }\n  })\n})\n\n// Registration submitted\nanalyticsHooks.on('registration:success', function (data) {\n  setTimeout(function () {\n    analytics.track('Registration submitted', {\n      auction_slug: sd.SALE.id,\n      auction_state: sd.SALE.auction_state,\n      user_id: USER_ID,\n      bidder_id: data.bidder_id\n    })\n  })\n})\n\n// Credit card not valid\nanalyticsHooks.on('creditcard:unqualified', function (data) {\n  analytics.track('Credit card not valid', data)\n})\n\n// Clicked \"Bid\" (context_type: your active bids on auction page)\n$(document).on('click', '.auction-ActiveBidItem__bid-button', function (e) {\n  const artworkId = $(e.target).parent().data('artwork_id')\n  analytics.track('Clicked \"Bid\"', {\n    auction_slug: AUCTION_ID,\n    user_id: USER_ID,\n    context_type: 'your active bids',\n    artwork_slug: artworkId\n  })\n})\n\n// Clicked \"Bid\" (context_type: your active bids)\n$(document).on('click', '.my-active-bids-bid-button', function (e) {\n  const artworkId = $(e.target).parent().data('artwork_id')\n  analytics.track('Clicked \"Bid\"', {\n    auction_slug: AUCTION_ID,\n    user_id: USER_ID,\n    context_type: 'your active bids',\n    artwork_slug: artworkId\n  })\n})\n\n// Clicked \"Bid\" (context_type: artwork page: pre-register before bidding, approval required before bidding)\n$(document).on('click', 'a.artwork-auction__bid-form__button', function () {\n  analytics.track('Clicked \"Bid\"', {\n    auction_slug: AUCTION_ID,\n    user_id: USER_ID,\n    context_type: 'artwork page',\n    artwork_slug: sd.PARAMS.id\n  })\n})\n\n// Confirm bid failed\nanalyticsHooks.on('error', function (message) {\n  if (message.match('bid must be higher')) {\n    analytics.track('Confirm bid failed', {\n      auction_slug: sd.SALE.id,\n      user_id: USER_ID,\n      artwork_slug: sd.SALE_ARTWORK.artwork.id\n    })\n  }\n})\n\n// Confirmed bid on bid page\nanalyticsHooks.on('confirm:bid:form:success', function (data) {\n  analytics.track('Confirmed bid on bid page', {\n    auction_slug: sd.SALE.id,\n    user_id: USER_ID,\n    artwork_slug: sd.SALE_ARTWORK.artwork.id,\n    bidder_position_id: data.bidder_position_id,\n    bidder_id: data.bidder_id\n  })\n})\n\n// Changed filter params on /auction page\nanalyticsHooks.on('auction:artworks:params:change', function (data) {\n  analytics.track('Commercial filter params changed', {\n    sale_id: AUCTION_ID,\n    auction_slug: sd.AUCTION.slug,\n    user_id: USER_ID,\n    current: data.current,\n    changed: data.changed\n  })\n})\n"]}]}