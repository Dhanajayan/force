{"remainingRequest":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js??ref--2-1!/Users/eve/development/force/src/desktop/apps/consign/client/reducers.js","dependencies":[{"path":"/Users/eve/development/force/src/desktop/apps/consign/client/reducers.js","mtime":1519227436000},{"path":"/Users/eve/development/force/.babelrc","mtime":1528124541000},{"path":"/Users/eve/development/force/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar actions = _interopRequireWildcard(require(\"./actions\"));\n\nvar _updeep = _interopRequireDefault(require(\"updeep\"));\n\nvar _redux = require(\"redux\");\n\nvar _composeReducers = require(\"../../../components/react/utils/composeReducers\");\n\nvar _sharify = require(\"sharify\");\n\nvar _underscore = require(\"underscore\");\n\nvar _reduxForm = require(\"redux-form\");\n\nvar _responsive_window = require(\"../../../components/react/responsive_window\");\n\nvar _reactRouterRedux = require(\"react-router-redux\");\n\nvar createAccountStep = 'createAccount';\nvar chooseArtistStep = 'chooseArtist';\nvar describeWorkStep = 'describeWork';\nvar uploadPhotosStep = 'uploadPhotos';\nvar initialState = {\n  artistAutocompleteSuggestions: [],\n  artistAutocompleteValue: '',\n  artistName: _sharify.data.SUBMISSION_ARTIST_NAME || '',\n  assetIds: [],\n  authFormState: 'signUp',\n  categoryOptions: ['Painting', 'Sculpture', 'Photography', 'Print', 'Drawing, Collage or other Work on Paper', 'Mixed Media', 'Performance Art', 'Installation', 'Video/Film/Animation', 'Architecture', 'Fashion Design and Wearable Art', 'Jewelry', 'Design/Decorative Art', 'Textile Arts', 'Other'],\n  currentStep: createAccountStep,\n  error: null,\n  erroredImages: [],\n  inputs: {\n    artist_id: '',\n    authenticity_certificate: false,\n    category: 'Painting',\n    depth: '',\n    dimensions_metric: 'in',\n    edition: false,\n    edition_number: '',\n    edition_size: 0,\n    height: '',\n    location_city: '',\n    location_state: '',\n    location_country: '',\n    medium: '',\n    phone: '',\n    provenance: '',\n    signature: false,\n    title: '',\n    width: '',\n    year: ''\n  },\n  isMobile: false,\n  isLoading: false,\n  locationAutocompleteFrozen: false,\n  locationAutocompleteSuggestions: [],\n  locationAutocompleteValue: '',\n  notConsigningArtist: false,\n  processingImages: [],\n  progressBars: {},\n  redirectOnAuth: true,\n  resetPasswordSuccess: false,\n  skipPhotoSubmission: false,\n  steps: [],\n  submission: _sharify.data.SUBMISSION || {},\n  submissionIdFromServer: _sharify.data.SUBMISSION_ID,\n  uploadedImages: [],\n  user: _sharify.data.CURRENT_USER\n};\n\nfunction submissionFlow() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case actions.ADD_ASSET_ID:\n      {\n        return (0, _updeep.default)({\n          assetIds: state.assetIds.concat(action.payload.assetId)\n        }, state);\n      }\n\n    case actions.ADD_IMAGE_TO_UPLOADED_IMAGES:\n      {\n        var newImage = {\n          fileName: action.payload.fileName,\n          processing: true,\n          src: action.payload.src\n        };\n        return (0, _updeep.default)({\n          uploadedImages: state.uploadedImages.concat(newImage)\n        }, state);\n      }\n\n    case actions.CLEAR_ARTIST_SUGGESTIONS:\n      {\n        return (0, _updeep.default)({\n          artistAutocompleteSuggestions: []\n        }, state);\n      }\n\n    case actions.CLEAR_ERROR:\n      {\n        return (0, _updeep.default)({\n          error: null\n        }, state);\n      }\n\n    case actions.CLEAR_LOCATION_DATA:\n      {\n        return (0, _updeep.default)({\n          inputs: {\n            location_city: '',\n            location_country: '',\n            location_state: ''\n          }\n        }, state);\n      }\n\n    case actions.CLEAR_LOCATION_SUGGESTIONS:\n      {\n        return (0, _updeep.default)({\n          locationAutocompleteSuggestions: []\n        }, state);\n      }\n\n    case actions.ERROR_ON_IMAGE:\n      {\n        var fileName = action.payload.fileName;\n\n        if (!(0, _underscore.contains)(state.erroredImages, fileName)) {\n          return (0, _updeep.default)({\n            erroredImages: state.erroredImages.concat(fileName)\n          }, state);\n        }\n\n        return state;\n      }\n\n    case actions.FREEZE_LOCATION_INPUT:\n      {\n        return (0, _updeep.default)({\n          locationAutocompleteFrozen: true\n        }, state);\n      }\n\n    case actions.HIDE_LOADER:\n      {\n        return (0, _updeep.default)({\n          isLoading: false\n        }, state);\n      }\n\n    case actions.HIDE_NOT_CONSIGNING_MESSAGE:\n      {\n        return (0, _updeep.default)({\n          notConsigningArtist: false\n        }, state);\n      }\n\n    case actions.IGNORE_REDIRECT_ON_AUTH:\n      {\n        return (0, _updeep.default)({\n          redirectOnAuth: false\n        }, state);\n      }\n\n    case actions.REMOVE_ERRORED_IMAGE:\n      {\n        var _fileName = action.payload.fileName;\n\n        if ((0, _underscore.contains)(state.erroredImages, _fileName)) {\n          return (0, _updeep.default)({\n            erroredImages: _updeep.default.reject(function (ff) {\n              return ff === _fileName;\n            })\n          }, state);\n        }\n\n        return state;\n      }\n\n    case actions.REMOVE_UPLOADED_IMAGE:\n      {\n        var _fileName2 = action.payload.fileName;\n        return (0, _updeep.default)({\n          uploadedImages: _updeep.default.reject(function (ff) {\n            return ff.fileName === _fileName2;\n          })\n        }, state);\n      }\n\n    case actions.SHOW_LOADER:\n      {\n        return (0, _updeep.default)({\n          isLoading: true\n        }, state);\n      }\n\n    case actions.SHOW_NOT_CONSIGNING_MESSAGE:\n      {\n        return (0, _updeep.default)({\n          notConsigningArtist: true\n        }, state);\n      }\n\n    case actions.SHOW_RESET_PASSWORD_SUCCESS_MESSAGE:\n      {\n        return (0, _updeep.default)({\n          resetPasswordSuccess: true\n        }, state);\n      }\n\n    case actions.START_PROCESSING_IMAGE:\n      {\n        var _fileName3 = action.payload.fileName;\n\n        if (!(0, _underscore.contains)(state.processingImages, _fileName3)) {\n          return (0, _updeep.default)({\n            processingImages: state.processingImages.concat(_fileName3)\n          }, state);\n        }\n\n        return state;\n      }\n\n    case actions.STOP_PROCESSING_IMAGE:\n      {\n        var _fileName4 = action.payload.fileName;\n\n        if ((0, _underscore.contains)(state.processingImages, _fileName4)) {\n          return (0, _updeep.default)({\n            processingImages: _updeep.default.reject(function (ff) {\n              return ff === _fileName4;\n            })\n          }, state);\n        }\n\n        return state;\n      }\n\n    case actions.UNFREEZE_LOCATION_INPUT:\n      {\n        return (0, _updeep.default)({\n          locationAutocompleteFrozen: false,\n          locationAutocompleteValue: ''\n        }, state);\n      }\n\n    case actions.UPDATE_ARTIST_AUTOCOMPLETE_VALUE:\n      {\n        return (0, _updeep.default)({\n          artistAutocompleteValue: action.payload.value\n        }, state);\n      }\n\n    case actions.UPDATE_ARTIST_ID:\n      {\n        return (0, _updeep.default)({\n          inputs: {\n            artist_id: action.payload.artistId\n          }\n        }, state);\n      }\n\n    case actions.UPDATE_ARTIST_NAME:\n      {\n        return (0, _updeep.default)({\n          artistName: action.payload.artistName\n        }, state);\n      }\n\n    case actions.UPDATE_ARTIST_SUGGESTIONS:\n      {\n        return (0, _updeep.default)({\n          artistAutocompleteSuggestions: action.payload.suggestions\n        }, state);\n      }\n\n    case actions.UPDATE_AUTH_FORM_STATE:\n      {\n        return (0, _updeep.default)({\n          authFormState: action.payload.state\n        }, state);\n      }\n\n    case actions.UPDATE_CURRENT_STEP:\n      {\n        return (0, _updeep.default)({\n          currentStep: action.payload.step\n        }, state);\n      }\n\n    case actions.UPDATE_ERROR:\n      {\n        return (0, _updeep.default)({\n          error: action.payload.error\n        }, state);\n      }\n\n    case actions.UPDATE_INPUTS:\n      {\n        return (0, _updeep.default)({\n          inputs: (0, _extends2.default)({}, state.inputs, action.payload.inputs)\n        }, state);\n      }\n\n    case actions.UPDATE_LOCATION_AUTOCOMPLETE_VALUE:\n      {\n        return (0, _updeep.default)({\n          locationAutocompleteValue: action.payload.value\n        }, state);\n      }\n\n    case actions.UPDATE_LOCATION_CITY_VALUE:\n      {\n        return (0, _updeep.default)({\n          inputs: {\n            location_city: action.payload.city\n          }\n        }, state);\n      }\n\n    case actions.UPDATE_LOCATION_SUGGESTIONS:\n      {\n        return (0, _updeep.default)({\n          locationAutocompleteSuggestions: action.payload.suggestions\n        }, state);\n      }\n\n    case actions.UPDATE_LOCATION_VALUES:\n      {\n        return (0, _updeep.default)({\n          inputs: {\n            location_city: action.payload.city,\n            location_country: action.payload.country,\n            location_state: action.payload.state\n          }\n        }, state);\n      }\n\n    case actions.UPDATE_PROGRESS_BAR:\n      {\n        var updatedProgress = (0, _defineProperty2.default)({}, action.payload.fileName, action.payload.percent);\n        return (0, _updeep.default)({\n          progressBars: (0, _extends2.default)({}, state.progressBars, updatedProgress)\n        }, state);\n      }\n\n    case actions.UPDATE_SKIP_PHOTO_SUBMISSION:\n      {\n        return (0, _updeep.default)({\n          skipPhotoSubmission: action.payload.skip\n        }, state);\n      }\n\n    case actions.UPDATE_STEPS_WITH_USER:\n      {\n        return (0, _updeep.default)({\n          currentStep: chooseArtistStep,\n          steps: [chooseArtistStep, describeWorkStep, uploadPhotosStep]\n        }, state);\n      }\n\n    case actions.UPDATE_STEPS_WITHOUT_USER:\n      {\n        return (0, _updeep.default)({\n          currentStep: createAccountStep,\n          steps: [createAccountStep, chooseArtistStep, describeWorkStep, uploadPhotosStep]\n        }, state);\n      }\n\n    case actions.UPDATE_SUBMISSION:\n      {\n        return (0, _updeep.default)({\n          submission: action.payload.submission\n        }, state);\n      }\n\n    case actions.UPDATE_USER:\n      {\n        return (0, _updeep.default)({\n          user: action.payload.user\n        }, state);\n      }\n\n    case actions.UPDATE_USER_PHONE:\n      {\n        return (0, _updeep.default)({\n          user: {\n            phone: action.payload.phone\n          }\n        }, state);\n      }\n\n    default:\n      return state;\n  }\n}\n\nvar _default = (0, _redux.combineReducers)({\n  submissionFlow: (0, _composeReducers.composeReducers)(_responsive_window.responsiveWindowReducer, submissionFlow),\n  router: _reactRouterRedux.routerReducer,\n  form: _reduxForm.reducer\n});\n\nexports.default = _default;",{"version":3,"sources":["src/desktop/apps/consign/client/reducers.js"],"names":["createAccountStep","chooseArtistStep","describeWorkStep","uploadPhotosStep","initialState","artistAutocompleteSuggestions","artistAutocompleteValue","artistName","SUBMISSION_ARTIST_NAME","assetIds","authFormState","categoryOptions","currentStep","error","erroredImages","inputs","artist_id","authenticity_certificate","category","depth","dimensions_metric","edition","edition_number","edition_size","height","location_city","location_state","location_country","medium","phone","provenance","signature","title","width","year","isMobile","isLoading","locationAutocompleteFrozen","locationAutocompleteSuggestions","locationAutocompleteValue","notConsigningArtist","processingImages","progressBars","redirectOnAuth","resetPasswordSuccess","skipPhotoSubmission","steps","submission","SUBMISSION","submissionIdFromServer","SUBMISSION_ID","uploadedImages","user","CURRENT_USER","submissionFlow","state","action","type","actions","ADD_ASSET_ID","concat","payload","assetId","ADD_IMAGE_TO_UPLOADED_IMAGES","newImage","fileName","processing","src","CLEAR_ARTIST_SUGGESTIONS","CLEAR_ERROR","CLEAR_LOCATION_DATA","CLEAR_LOCATION_SUGGESTIONS","ERROR_ON_IMAGE","FREEZE_LOCATION_INPUT","HIDE_LOADER","HIDE_NOT_CONSIGNING_MESSAGE","IGNORE_REDIRECT_ON_AUTH","REMOVE_ERRORED_IMAGE","reject","ff","REMOVE_UPLOADED_IMAGE","SHOW_LOADER","SHOW_NOT_CONSIGNING_MESSAGE","SHOW_RESET_PASSWORD_SUCCESS_MESSAGE","START_PROCESSING_IMAGE","STOP_PROCESSING_IMAGE","UNFREEZE_LOCATION_INPUT","UPDATE_ARTIST_AUTOCOMPLETE_VALUE","value","UPDATE_ARTIST_ID","artistId","UPDATE_ARTIST_NAME","UPDATE_ARTIST_SUGGESTIONS","suggestions","UPDATE_AUTH_FORM_STATE","UPDATE_CURRENT_STEP","step","UPDATE_ERROR","UPDATE_INPUTS","UPDATE_LOCATION_AUTOCOMPLETE_VALUE","UPDATE_LOCATION_CITY_VALUE","city","UPDATE_LOCATION_SUGGESTIONS","UPDATE_LOCATION_VALUES","country","UPDATE_PROGRESS_BAR","updatedProgress","percent","UPDATE_SKIP_PHOTO_SUBMISSION","skip","UPDATE_STEPS_WITH_USER","UPDATE_STEPS_WITHOUT_USER","UPDATE_SUBMISSION","UPDATE_USER","UPDATE_USER_PHONE","router","form"],"mappings":"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","file":"/Users/eve/development/force/src/desktop/apps/consign/client/reducers.js","sourceRoot":"/Users/eve/development/force","sourcesContent":["import * as actions from './actions'\nimport u from 'updeep'\nimport { combineReducers } from 'redux'\nimport { composeReducers } from '../../../components/react/utils/composeReducers'\nimport { data as sd } from 'sharify'\nimport { contains } from 'underscore'\nimport { reducer as formReducer } from 'redux-form'\nimport { responsiveWindowReducer } from '../../../components/react/responsive_window'\nimport { routerReducer } from 'react-router-redux'\n\nconst createAccountStep = 'createAccount'\nconst chooseArtistStep = 'chooseArtist'\nconst describeWorkStep = 'describeWork'\nconst uploadPhotosStep = 'uploadPhotos'\n\nconst initialState = {\n  artistAutocompleteSuggestions: [],\n  artistAutocompleteValue: '',\n  artistName: sd.SUBMISSION_ARTIST_NAME || '',\n  assetIds: [],\n  authFormState: 'signUp',\n  categoryOptions: [\n    'Painting',\n    'Sculpture',\n    'Photography',\n    'Print',\n    'Drawing, Collage or other Work on Paper',\n    'Mixed Media',\n    'Performance Art',\n    'Installation',\n    'Video/Film/Animation',\n    'Architecture',\n    'Fashion Design and Wearable Art',\n    'Jewelry',\n    'Design/Decorative Art',\n    'Textile Arts',\n    'Other'\n  ],\n  currentStep: createAccountStep,\n  error: null,\n  erroredImages: [],\n  inputs: {\n    artist_id: '',\n    authenticity_certificate: false,\n    category: 'Painting',\n    depth: '',\n    dimensions_metric: 'in',\n    edition: false,\n    edition_number: '',\n    edition_size: 0,\n    height: '',\n    location_city: '',\n    location_state: '',\n    location_country: '',\n    medium: '',\n    phone: '',\n    provenance: '',\n    signature: false,\n    title: '',\n    width: '',\n    year: ''\n  },\n  isMobile: false,\n  isLoading: false,\n  locationAutocompleteFrozen: false,\n  locationAutocompleteSuggestions: [],\n  locationAutocompleteValue: '',\n  notConsigningArtist: false,\n  processingImages: [],\n  progressBars: {},\n  redirectOnAuth: true,\n  resetPasswordSuccess: false,\n  skipPhotoSubmission: false,\n  steps: [],\n  submission: sd.SUBMISSION || {},\n  submissionIdFromServer: sd.SUBMISSION_ID,\n  uploadedImages: [],\n  user: sd.CURRENT_USER\n}\n\nfunction submissionFlow (state = initialState, action) {\n  switch (action.type) {\n    case actions.ADD_ASSET_ID: {\n      return u({\n        assetIds: state.assetIds.concat(action.payload.assetId)\n      }, state)\n    }\n    case actions.ADD_IMAGE_TO_UPLOADED_IMAGES: {\n      const newImage = {\n        fileName: action.payload.fileName,\n        processing: true,\n        src: action.payload.src\n      }\n      return u({\n        uploadedImages: state.uploadedImages.concat(newImage)\n      }, state)\n    }\n    case actions.CLEAR_ARTIST_SUGGESTIONS: {\n      return u({\n        artistAutocompleteSuggestions: []\n      }, state)\n    }\n    case actions.CLEAR_ERROR: {\n      return u({\n        error: null\n      }, state)\n    }\n    case actions.CLEAR_LOCATION_DATA: {\n      return u({\n        inputs: {\n          location_city: '',\n          location_country: '',\n          location_state: ''\n        }\n      }, state)\n    }\n    case actions.CLEAR_LOCATION_SUGGESTIONS: {\n      return u({\n        locationAutocompleteSuggestions: []\n      }, state)\n    }\n    case actions.ERROR_ON_IMAGE: {\n      const fileName = action.payload.fileName\n      if (!contains(state.erroredImages, fileName)) {\n        return u({\n          erroredImages: state.erroredImages.concat(fileName)\n        }, state)\n      }\n      return state\n    }\n    case actions.FREEZE_LOCATION_INPUT: {\n      return u({\n        locationAutocompleteFrozen: true\n      }, state)\n    }\n    case actions.HIDE_LOADER: {\n      return u({\n        isLoading: false\n      }, state)\n    }\n    case actions.HIDE_NOT_CONSIGNING_MESSAGE: {\n      return u({\n        notConsigningArtist: false\n      }, state)\n    }\n    case actions.IGNORE_REDIRECT_ON_AUTH: {\n      return u({\n        redirectOnAuth: false\n      }, state)\n    }\n    case actions.REMOVE_ERRORED_IMAGE: {\n      const fileName = action.payload.fileName\n      if (contains(state.erroredImages, fileName)) {\n        return u({\n          erroredImages: u.reject((ff) => ff === fileName)\n        }, state)\n      }\n      return state\n    }\n    case actions.REMOVE_UPLOADED_IMAGE: {\n      const fileName = action.payload.fileName\n      return u({\n        uploadedImages: u.reject((ff) => ff.fileName === fileName)\n      }, state)\n    }\n    case actions.SHOW_LOADER: {\n      return u({\n        isLoading: true\n      }, state)\n    }\n    case actions.SHOW_NOT_CONSIGNING_MESSAGE: {\n      return u({\n        notConsigningArtist: true\n      }, state)\n    }\n    case actions.SHOW_RESET_PASSWORD_SUCCESS_MESSAGE: {\n      return u({\n        resetPasswordSuccess: true\n      }, state)\n    }\n    case actions.START_PROCESSING_IMAGE: {\n      const fileName = action.payload.fileName\n      if (!contains(state.processingImages, fileName)) {\n        return u({\n          processingImages: state.processingImages.concat(fileName)\n        }, state)\n      }\n      return state\n    }\n    case actions.STOP_PROCESSING_IMAGE: {\n      const fileName = action.payload.fileName\n      if (contains(state.processingImages, fileName)) {\n        return u({\n          processingImages: u.reject((ff) => ff === fileName)\n        }, state)\n      }\n      return state\n    }\n    case actions.UNFREEZE_LOCATION_INPUT: {\n      return u({\n        locationAutocompleteFrozen: false,\n        locationAutocompleteValue: ''\n      }, state)\n    }\n    case actions.UPDATE_ARTIST_AUTOCOMPLETE_VALUE: {\n      return u({\n        artistAutocompleteValue: action.payload.value\n      }, state)\n    }\n    case actions.UPDATE_ARTIST_ID: {\n      return u({\n        inputs: {\n          artist_id: action.payload.artistId\n        }\n      }, state)\n    }\n    case actions.UPDATE_ARTIST_NAME: {\n      return u({\n        artistName: action.payload.artistName\n      }, state)\n    }\n    case actions.UPDATE_ARTIST_SUGGESTIONS: {\n      return u({\n        artistAutocompleteSuggestions: action.payload.suggestions\n      }, state)\n    }\n    case actions.UPDATE_AUTH_FORM_STATE: {\n      return u({\n        authFormState: action.payload.state\n      }, state)\n    }\n    case actions.UPDATE_CURRENT_STEP: {\n      return u({\n        currentStep: action.payload.step\n      }, state)\n    }\n    case actions.UPDATE_ERROR: {\n      return u({\n        error: action.payload.error\n      }, state)\n    }\n    case actions.UPDATE_INPUTS: {\n      return u({\n        inputs: {\n          ...state.inputs,\n          ...action.payload.inputs\n        }\n      }, state)\n    }\n    case actions.UPDATE_LOCATION_AUTOCOMPLETE_VALUE: {\n      return u({\n        locationAutocompleteValue: action.payload.value\n      }, state)\n    }\n    case actions.UPDATE_LOCATION_CITY_VALUE: {\n      return u({\n        inputs: {\n          location_city: action.payload.city\n        }\n      }, state)\n    }\n    case actions.UPDATE_LOCATION_SUGGESTIONS: {\n      return u({\n        locationAutocompleteSuggestions: action.payload.suggestions\n      }, state)\n    }\n    case actions.UPDATE_LOCATION_VALUES: {\n      return u({\n        inputs: {\n          location_city: action.payload.city,\n          location_country: action.payload.country,\n          location_state: action.payload.state\n        }\n      }, state)\n    }\n    case actions.UPDATE_PROGRESS_BAR: {\n      const updatedProgress = { [action.payload.fileName]: action.payload.percent }\n      return u({\n        progressBars: {\n          ...state.progressBars,\n          ...updatedProgress\n        }\n      }, state)\n    }\n    case actions.UPDATE_SKIP_PHOTO_SUBMISSION: {\n      return u({\n        skipPhotoSubmission: action.payload.skip\n      }, state)\n    }\n    case actions.UPDATE_STEPS_WITH_USER: {\n      return u({\n        currentStep: chooseArtistStep,\n        steps: [chooseArtistStep, describeWorkStep, uploadPhotosStep]\n      }, state)\n    }\n    case actions.UPDATE_STEPS_WITHOUT_USER: {\n      return u({\n        currentStep: createAccountStep,\n        steps: [createAccountStep, chooseArtistStep, describeWorkStep, uploadPhotosStep]\n      }, state)\n    }\n    case actions.UPDATE_SUBMISSION: {\n      return u({\n        submission: action.payload.submission\n      }, state)\n    }\n    case actions.UPDATE_USER: {\n      return u({\n        user: action.payload.user\n      }, state)\n    }\n    case actions.UPDATE_USER_PHONE: {\n      return u({\n        user: {\n          phone: action.payload.phone\n        }\n      }, state)\n    }\n    default: return state\n  }\n}\n\nexport default combineReducers({\n  submissionFlow: composeReducers(\n    responsiveWindowReducer,\n    submissionFlow\n  ),\n  router: routerReducer,\n  form: formReducer\n})\n"]}]}