{"remainingRequest":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js??ref--2-1!/Users/eve/development/force/src/desktop/analytics/main_layout.js","dependencies":[{"path":"/Users/eve/development/force/src/desktop/analytics/main_layout.js","mtime":1530028054000},{"path":"/Users/eve/development/force/.babelrc","mtime":1537178749000},{"path":"/Users/eve/development/force/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n// Analytics for the main layout. This includes buttons in the header, footer\n// or any other actions that occur on each page.\n//\nimport { data as sd } from 'sharify';\nimport { reportLoadTimeToVolley } from \"../../lib/volley\"; // Track pageview\n\nanalytics.page({\n  path: location.pathname\n}, {\n  integrations: {\n    Marketo: false\n  }\n}); // Track pageload speed\n\nif (window.performance && window.performance.timing && sd.TRACK_PAGELOAD_PATHS) {\n  window.addEventListener('load', function () {\n    var pageType = window.sd.PAGE_TYPE || window.location.pathname.split('/')[1];\n\n    if (sd.TRACK_PAGELOAD_PATHS.split('|').includes(pageType)) {\n      window.setTimeout(function () {\n        var _window$performance$t = window.performance.timing,\n            requestStart = _window$performance$t.requestStart,\n            loadEventEnd = _window$performance$t.loadEventEnd,\n            domComplete = _window$performance$t.domComplete;\n        reportLoadTimeToVolley(requestStart, loadEventEnd, domComplete, pageType, 'desktop');\n      }, 0);\n    }\n  });\n} // Track 15 second bounce rate\n\n\nsetTimeout(function () {\n  analytics.track('Time on page', {\n    category: '15 Seconds',\n    message: sd.CURRENT_PATH\n  });\n}, 15000); // Track 30 second bounce rate\n\nsetTimeout(function () {\n  analytics.track('Time on page', {\n    category: '30 Seconds',\n    message: sd.CURRENT_PATH\n  });\n}, 30000); // Track 1 min bounce rate\n\nsetTimeout(function () {\n  analytics.track('Time on page', {\n    category: '1 Minute',\n    message: sd.CURRENT_PATH\n  });\n}, 60000); // Track 3 Minute bounce rate\n\nsetTimeout(function () {\n  analytics.track('Time on page', {\n    category: '3 Minutes',\n    message: sd.CURRENT_PATH\n  });\n}, 180000); // debug tracking calls\n\nif (sd.SHOW_ANALYTICS_CALLS) {\n  analytics.on('track', function () {\n    console.info('TRACKED: ', arguments[0], JSON.stringify(arguments[1]));\n  });\n}\n\nif (sd.SHOW_ANALYTICS_CALLS) {\n  analyticsHooks.on('all', function (name, data) {\n    console.info('ANALYTICS HOOK: ', name, data);\n  });\n}",{"version":3,"sources":["/Users/eve/development/force/src/desktop/analytics/main_layout.js"],"names":["data","sd","reportLoadTimeToVolley","analytics","page","path","location","pathname","integrations","Marketo","window","performance","timing","TRACK_PAGELOAD_PATHS","addEventListener","pageType","PAGE_TYPE","split","includes","setTimeout","requestStart","loadEventEnd","domComplete","track","category","message","CURRENT_PATH","SHOW_ANALYTICS_CALLS","on","console","info","arguments","JSON","stringify","analyticsHooks","name"],"mappings":"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","sourcesContent":["//\n// Analytics for the main layout. This includes buttons in the header, footer\n// or any other actions that occur on each page.\n//\n\nimport { data as sd } from 'sharify'\nimport { reportLoadTimeToVolley } from 'lib/volley'\n\n// Track pageview\nanalytics.page(\n  { path: location.pathname },\n  { integrations: { Marketo: false } }\n)\n\n// Track pageload speed\nif (\n  window.performance &&\n  window.performance.timing &&\n  sd.TRACK_PAGELOAD_PATHS\n) {\n  window.addEventListener('load', function() {\n    const pageType =\n      window.sd.PAGE_TYPE || window.location.pathname.split('/')[1]\n    if (sd.TRACK_PAGELOAD_PATHS.split('|').includes(pageType)) {\n      window.setTimeout(function() {\n        const {\n          requestStart,\n          loadEventEnd,\n          domComplete,\n        } = window.performance.timing\n\n        reportLoadTimeToVolley(\n          requestStart,\n          loadEventEnd,\n          domComplete,\n          pageType,\n          'desktop'\n        )\n      }, 0)\n    }\n  })\n}\n\n// Track 15 second bounce rate\nsetTimeout(function() {\n  analytics.track('Time on page', {\n    category: '15 Seconds',\n    message: sd.CURRENT_PATH,\n  })\n}, 15000)\n\n// Track 30 second bounce rate\nsetTimeout(function() {\n  analytics.track('Time on page', {\n    category: '30 Seconds',\n    message: sd.CURRENT_PATH,\n  })\n}, 30000)\n\n// Track 1 min bounce rate\nsetTimeout(function() {\n  analytics.track('Time on page', {\n    category: '1 Minute',\n    message: sd.CURRENT_PATH,\n  })\n}, 60000)\n\n// Track 3 Minute bounce rate\nsetTimeout(function() {\n  analytics.track('Time on page', {\n    category: '3 Minutes',\n    message: sd.CURRENT_PATH,\n  })\n}, 180000)\n\n// debug tracking calls\nif (sd.SHOW_ANALYTICS_CALLS) {\n  analytics.on('track', function() {\n    console.info('TRACKED: ', arguments[0], JSON.stringify(arguments[1]))\n  })\n}\n\nif (sd.SHOW_ANALYTICS_CALLS) {\n  analyticsHooks.on('all', function(name, data) {\n    console.info('ANALYTICS HOOK: ', name, data)\n  })\n}\n"]}]}