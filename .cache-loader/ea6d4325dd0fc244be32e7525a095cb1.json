{"remainingRequest":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js??ref--2-1!/Users/eve/development/force/src/desktop/apps/auction/components/artwork_browser/sidebar/ArtistFilter.js","dependencies":[{"path":"/Users/eve/development/force/src/desktop/apps/auction/components/artwork_browser/sidebar/ArtistFilter.js","mtime":1521064653000},{"path":"/Users/eve/development/force/.babelrc","mtime":1528124541000},{"path":"/Users/eve/development/force/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.test = exports.default = void 0;\n\nvar _BasicCheckbox2 = _interopRequireDefault(require(\"./BasicCheckbox\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _bemCnLite = _interopRequireDefault(require(\"bem-cn-lite\"));\n\nvar _reactRedux = require(\"react-redux\");\n\nvar _underscore = require(\"underscore\");\n\nvar _artworkBrowser = require(\"../../../actions/artworkBrowser\");\n\n// FIXME: Rewire\nvar BasicCheckbox = _BasicCheckbox2.default;\n\nfunction ArtistFilter(props) {\n  var aggregatedArtists = props.aggregatedArtists,\n      allArtists = props.allArtists,\n      allArtistsSelected = props.allArtistsSelected,\n      artistIds = props.artistIds,\n      artistsYouFollow = props.artistsYouFollow,\n      includeArtworksByFollowedArtists = props.includeArtworksByFollowedArtists,\n      numArtistsYouFollow = props.numArtistsYouFollow,\n      updateArtistParamsAction = props.updateArtistParamsAction,\n      user = props.user;\n  var b = (0, _bemCnLite.default)('auction-ArtistFilter');\n  return _react.default.createElement(\"div\", {\n    className: b()\n  }, _react.default.createElement(\"div\", {\n    className: b('title')\n  }, \"Artists\"), user && _react.default.createElement(\"div\", {\n    className: b('artists-you-follow')\n  }, _react.default.createElement(BasicCheckbox, {\n    key: artistsYouFollow.id,\n    item: artistsYouFollow,\n    onClick: updateArtistParamsAction,\n    checked: includeArtworksByFollowedArtists,\n    disabled: numArtistsYouFollow === 0\n  })), _react.default.createElement(BasicCheckbox, {\n    key: allArtists.id,\n    item: allArtists,\n    onClick: updateArtistParamsAction,\n    checked: allArtistsSelected\n  }), aggregatedArtists.map(function (agg) {\n    var artistSelected = (0, _underscore.contains)(artistIds, agg.id);\n    return _react.default.createElement(BasicCheckbox, {\n      key: agg.id,\n      item: agg,\n      onClick: updateArtistParamsAction,\n      checked: artistSelected\n    });\n  }));\n}\n\nArtistFilter.propTypes = {\n  aggregatedArtists: _propTypes.default.array.isRequired,\n  allArtists: _propTypes.default.object.isRequired,\n  allArtistsSelected: _propTypes.default.bool.isRequired,\n  artistIds: _propTypes.default.array.isRequired,\n  artistsYouFollow: _propTypes.default.object.isRequired,\n  includeArtworksByFollowedArtists: _propTypes.default.bool.isRequired,\n  numArtistsYouFollow: _propTypes.default.number,\n  updateArtistParamsAction: _propTypes.default.func.isRequired,\n  user: _propTypes.default.object\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  var _state$artworkBrowser = state.artworkBrowser,\n      aggregatedArtists = _state$artworkBrowser.aggregatedArtists,\n      filterParams = _state$artworkBrowser.filterParams,\n      numArtistsYouFollow = _state$artworkBrowser.numArtistsYouFollow,\n      user = _state$artworkBrowser.user;\n  var artistIds = filterParams.artist_ids;\n  var includeArtworksByFollowedArtists = filterParams.include_artworks_by_followed_artists;\n  var allArtists = {\n    id: 'artists-all',\n    name: 'All'\n  };\n  var allArtistsSelected = artistIds.length === 0 && !filterParams.include_artworks_by_followed_artists;\n  var countDisplay = numArtistsYouFollow > 0 ? numArtistsYouFollow : undefined;\n  var artistsYouFollow = {\n    id: 'artists-you-follow',\n    count: countDisplay,\n    name: 'Artists You Follow'\n  };\n  return {\n    aggregatedArtists: aggregatedArtists,\n    allArtists: allArtists,\n    allArtistsSelected: allArtistsSelected,\n    artistIds: artistIds,\n    artistsYouFollow: artistsYouFollow,\n    includeArtworksByFollowedArtists: includeArtworksByFollowedArtists,\n    numArtistsYouFollow: numArtistsYouFollow,\n    user: user\n  };\n};\n\nvar mapDispatchToProps = {\n  updateArtistParamsAction: _artworkBrowser.updateArtistParams\n};\n\nvar _default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(ArtistFilter);\n\nexports.default = _default;\nvar test = {\n  ArtistFilter: ArtistFilter\n};\nexports.test = test;",{"version":3,"sources":["src/desktop/apps/auction/components/artwork_browser/sidebar/ArtistFilter.js"],"names":["BasicCheckbox","ArtistFilter","props","aggregatedArtists","allArtists","allArtistsSelected","artistIds","artistsYouFollow","includeArtworksByFollowedArtists","numArtistsYouFollow","updateArtistParamsAction","user","b","id","map","agg","artistSelected","propTypes","array","isRequired","object","bool","number","func","mapStateToProps","state","artworkBrowser","filterParams","artist_ids","include_artworks_by_followed_artists","name","length","countDisplay","undefined","count","mapDispatchToProps","test"],"mappings":"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","file":"/Users/eve/development/force/src/desktop/apps/auction/components/artwork_browser/sidebar/ArtistFilter.js","sourceRoot":"/Users/eve/development/force","sourcesContent":["import _BasicCheckbox from './BasicCheckbox'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport block from 'bem-cn-lite'\nimport { connect } from 'react-redux'\nimport { contains } from 'underscore'\nimport { updateArtistParams } from 'desktop/apps/auction/actions/artworkBrowser'\n\n// FIXME: Rewire\nlet BasicCheckbox = _BasicCheckbox\n\nfunction ArtistFilter (props) {\n  const {\n    aggregatedArtists,\n    allArtists,\n    allArtistsSelected,\n    artistIds,\n    artistsYouFollow,\n    includeArtworksByFollowedArtists,\n    numArtistsYouFollow,\n    updateArtistParamsAction,\n    user\n  } = props\n\n  const b = block('auction-ArtistFilter')\n\n  return (\n    <div className={b()}>\n      <div className={b('title')}>\n        Artists\n      </div>\n\n      {\n        user &&\n        <div className={b('artists-you-follow')}>\n          <BasicCheckbox\n            key={artistsYouFollow.id}\n            item={artistsYouFollow}\n            onClick={updateArtistParamsAction}\n            checked={includeArtworksByFollowedArtists}\n            disabled={numArtistsYouFollow === 0}\n          />\n        </div>\n      }\n      <BasicCheckbox\n        key={allArtists.id}\n        item={allArtists}\n        onClick={updateArtistParamsAction}\n        checked={allArtistsSelected}\n      />\n      {\n        aggregatedArtists.map((agg) => {\n          const artistSelected = contains(artistIds, agg.id)\n\n          return (\n            <BasicCheckbox\n              key={agg.id}\n              item={agg}\n              onClick={updateArtistParamsAction}\n              checked={artistSelected}\n            />\n          )\n        })\n      }\n    </div>\n  )\n}\n\nArtistFilter.propTypes = {\n  aggregatedArtists: PropTypes.array.isRequired,\n  allArtists: PropTypes.object.isRequired,\n  allArtistsSelected: PropTypes.bool.isRequired,\n  artistIds: PropTypes.array.isRequired,\n  artistsYouFollow: PropTypes.object.isRequired,\n  includeArtworksByFollowedArtists: PropTypes.bool.isRequired,\n  numArtistsYouFollow: PropTypes.number,\n  updateArtistParamsAction: PropTypes.func.isRequired,\n  user: PropTypes.object\n}\n\nconst mapStateToProps = (state) => {\n  const {\n    aggregatedArtists,\n    filterParams,\n    numArtistsYouFollow,\n    user\n  } = state.artworkBrowser\n\n  const artistIds = filterParams.artist_ids\n  const includeArtworksByFollowedArtists = filterParams.include_artworks_by_followed_artists\n  const allArtists = { id: 'artists-all', name: 'All' }\n  const allArtistsSelected = artistIds.length === 0 && !filterParams.include_artworks_by_followed_artists\n  const countDisplay = numArtistsYouFollow > 0 ? numArtistsYouFollow : undefined\n  const artistsYouFollow = {\n    id: 'artists-you-follow',\n    count: countDisplay,\n    name: 'Artists You Follow'\n  }\n\n  return {\n    aggregatedArtists,\n    allArtists,\n    allArtistsSelected,\n    artistIds,\n    artistsYouFollow,\n    includeArtworksByFollowedArtists,\n    numArtistsYouFollow,\n    user\n  }\n}\n\nconst mapDispatchToProps = {\n  updateArtistParamsAction: updateArtistParams\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ArtistFilter)\n\nexport const test = { ArtistFilter }\n"]}]}