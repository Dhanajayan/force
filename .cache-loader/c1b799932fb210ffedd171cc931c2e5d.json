{"remainingRequest":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js??ref--2-1!/Users/eve/development/force/node_modules/@artsy/reaction/src/Components/Modal/Modal.tsx","dependencies":[{"path":"/Users/eve/development/force/node_modules/@artsy/reaction/src/Components/Modal/Modal.tsx","mtime":1530569767000},{"path":"/Users/eve/development/force/node_modules/@artsy/reaction/.babelrc","mtime":1529423546000},{"path":"/Users/eve/development/force/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.Modal = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _styledComponents = _interopRequireWildcard(require(\"styled-components\"));\n\nvar _FadeTransition = _interopRequireDefault(require(\"../Animation/FadeTransition\"));\n\nvar _templateObject = /*#__PURE__*/ _taggedTemplateLiteral([\"\\n  .blurred {\\n    filter: blur(50px);\\n  }\\n\"], [\"\\n  .blurred {\\n    filter: blur(50px);\\n  }\\n\"]);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _taggedTemplateLiteral(strings, raw) { return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\n(0, _styledComponents.injectGlobal)(_templateObject);\n\nvar Modal =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Modal, _React$Component);\n\n  function Modal() {\n    var _ref;\n\n    var _temp, _this;\n\n    _classCallCheck(this, Modal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _possibleConstructorReturn(_this, (_temp = _this = _possibleConstructorReturn(this, (_ref = Modal.__proto__ || Object.getPrototypeOf(Modal)).call.apply(_ref, [this].concat(args))), Object.defineProperty(_assertThisInitialized(_this), \"state\", {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: {\n        isAnimating: _this.props.show || false,\n        isShown: _this.props.show || false,\n        blurContainers: _this.props.blurContainerSelector ? Array.from(document.querySelectorAll(_this.props.blurContainerSelector)) : []\n      }\n    }), Object.defineProperty(_assertThisInitialized(_this), \"close\", {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: function value(e) {\n        e.preventDefault();\n\n        _this.props.onClose();\n\n        _this.removeBlurToContainers();\n      }\n    }), Object.defineProperty(_assertThisInitialized(_this), \"addBlurToContainers\", {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: function value() {\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = _this.state.blurContainers[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var _container = _step.value;\n\n            _container.classList.add(\"blurred\");\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return != null) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n      }\n    }), Object.defineProperty(_assertThisInitialized(_this), \"removeBlurToContainers\", {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: function value() {\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n          for (var _iterator2 = _this.state.blurContainers[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var _container2 = _step2.value;\n\n            _container2.classList.remove(\"blurred\");\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n              _iterator2.return();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n      }\n    }), _temp));\n  }\n\n  _createClass(Modal, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.props.show !== nextProps.show) {\n        this.setState({\n          isAnimating: true,\n          isShown: nextProps.show\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.removeBlurToContainers();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var children = this.props.children;\n      var _state = this.state,\n          isShown = _state.isShown,\n          isAnimating = _state.isAnimating;\n\n      if (isShown) {\n        this.addBlurToContainers();\n      } else {\n        this.removeBlurToContainers();\n      }\n\n      return _react.default.createElement(ModalWrapper, {\n        isShown: isShown || isAnimating\n      }, isShown && _react.default.createElement(Overlay, {\n        onClick: this.close\n      }), _react.default.createElement(_FadeTransition.default, {\n        \"in\": isShown,\n        mountOnEnter: true,\n        onExited: function onExited() {\n          _this2.setState({\n            isAnimating: false\n          });\n        },\n        unmountOnExit: true,\n        timeout: {\n          enter: 10,\n          exit: 200\n        }\n      }, _react.default.createElement(ModalContainer, null, children)));\n    }\n  }]);\n\n  return Modal;\n}(_react.default.Component);\n\nexports.Modal = Modal;\nObject.defineProperty(Modal, \"defaultProps\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    show: false,\n    blurContainerSelector: \"\",\n    style: {}\n  }\n});\nvar slideUp = (0, _styledComponents.keyframes)([\"from{transform:translate(-50%,-40%);opacity:0;},to{transform:translate(-50%,-50%);opacity:1;}\"]);\n\nvar ModalWrapper = _styledComponents.default.div.attrs({}).withConfig({\n  displayName: \"Modal__ModalWrapper\",\n  componentId: \"ae7lk6-0\"\n})([\"\", \";\"], function (props) {\n  return props.isShown && \"\\n    position: fixed;\\n    top: 0;\\n    bottom: 0;\\n    left: 0;\\n    right: 0;\\n    z-index: 9999\\n  \";\n});\n\nvar ModalContainer = _styledComponents.default.div.withConfig({\n  displayName: \"Modal__ModalContainer\",\n  componentId: \"ae7lk6-1\"\n})([\"position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#fff;width:440px;height:min-content;border-radius:4px;padding:20px 40px;box-shadow:0 4px 15px rgba(0,0,0,0.15);animation:\", \" 250ms linear;\"], slideUp);\n\nvar Overlay = _styledComponents.default.div.withConfig({\n  displayName: \"Modal__Overlay\",\n  componentId: \"ae7lk6-2\"\n})([\"position:fixed;width:100%;height:100%;top:0;left:0;background:rgba(200,200,200,0.5);\"]);\n\nvar _default = Modal;\nexports.default = _default;",{"version":3,"sources":["node_modules/@artsy/reaction/src/Components/Modal/Modal.tsx"],"names":["Modal","isAnimating","props","show","isShown","blurContainers","blurContainerSelector","Array","from","document","querySelectorAll","e","preventDefault","onClose","removeBlurToContainers","state","container","classList","add","remove","nextProps","setState","children","addBlurToContainers","close","enter","exit","Component","style","slideUp","ModalWrapper","div","attrs","ModalContainer","Overlay"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;AAaA;;IAMaA,K;;;;;;;;;;;;;;;;;;;;aAOH;AACNC,qBAAa,MAAKC,KAAL,CAAWC,IAAX,IAAmB,KAD1B;AAENC,iBAAS,MAAKF,KAAL,CAAWC,IAAX,IAAmB,KAFtB;AAGNE,wBAAgB,MAAKH,KAAL,CAAWI,qBAAX,GACZC,MAAMC,IAAN,CAAWC,SAASC,gBAAT,CAA0B,MAAKR,KAAL,CAAWI,qBAArC,CAAX,CADY,GAEZ;AALE;;;;;aAqBA,kBAAK;AACXK,UAAEC,cAAF;;AACA,cAAKV,KAAL,CAAWW,OAAX;;AAEA,cAAKC,sBAAL;AACD;;;;;aAEqB,iBAAM;AAAA;AAAA;AAAA;;AAAA;AAC1B,+BAAsB,MAAKC,KAAL,CAAWV,cAAjC,8HAAiD;AAAA,gBAAxCW,UAAwC;;AAC/CA,uBAAUC,SAAV,CAAoBC,GAApB,CAAwB,SAAxB;AACD;AAHyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAI3B;;;;;aAEwB,iBAAM;AAAA;AAAA;AAAA;;AAAA;AAC7B,gCAAsB,MAAKH,KAAL,CAAWV,cAAjC,mIAAiD;AAAA,gBAAxCW,WAAwC;;AAC/CA,wBAAUC,SAAV,CAAoBE,MAApB,CAA2B,SAA3B;AACD;AAH4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAI9B;;;;;;8CA9ByBC,S,EAAW;AACnC,UAAI,KAAKlB,KAAL,CAAWC,IAAX,KAAoBiB,UAAUjB,IAAlC,EAAwC;AACtC,aAAKkB,QAAL,CAAc;AACZpB,uBAAa,IADD;AAEZG,mBAASgB,UAAUjB;AAFP,SAAd;AAID;AACF;;;2CAEsB;AACrB,WAAKW,sBAAL;AACD;;;6BAqBqB;AAAA;;AAAA,UACZQ,QADY,GACC,KAAKpB,KADN,CACZoB,QADY;AAAA,mBAEa,KAAKP,KAFlB;AAAA,UAEZX,OAFY,UAEZA,OAFY;AAAA,UAEHH,WAFG,UAEHA,WAFG;;AAIpB,UAAIG,OAAJ,EAAa;AACX,aAAKmB,mBAAL;AACD,OAFD,MAEO;AACL,aAAKT,sBAAL;AACD;;AAED,aACE,6BAAC,YAAD;AAAc,iBAASV,WAAWH;AAAlC,SACGG,WAAW,6BAAC,OAAD;AAAS,iBAAS,KAAKoB;AAAvB,QADd,EAEE;AACE,cAAIpB,OADN;AAEE,0BAFF;AAGE,kBAAU,oBAAM;AACd,iBAAKiB,QAAL,CAAc;AAAEpB,yBAAa;AAAf,WAAd;AACD,SALH;AAME,2BANF;AAOE,iBAAS;AAAEwB,iBAAO,EAAT;AAAaC,gBAAM;AAAnB;AAPX,SASE,6BAAC,cAAD,QAAiBJ,QAAjB,CATF,CAFF,CADF;AAgBD;;;;EAzEwB,eAAMK,S;;;sBAApB3B,K;;;;SACW;AACpBG,UAAM,KADc;AAEpBG,2BAAuB,EAFH;AAGpBsB,WAAO;AAHa;;AA2ExB,IAAMC,6IAAN;;AAYA,IAAMC,eAAe,0BAAOC,GAAP,CAAWC,KAAX,CAAwC,EAAxC,CAAf;AAAA;AAAA;AAAA,cACF;AAAA,SACA9B,MAAME,OAAN,6GADA;AAAA,CADE,CAAN;;AAaA,IAAM6B,iBAAiB,0BAAOF,GAAxB;AAAA;AAAA;AAAA,8NAWSF,OAXT,CAAN;;AAcA,IAAMK,UAAU,0BAAOH,GAAjB;AAAA;AAAA;AAAA,4FAAN;;eASe/B,K","file":"/Users/eve/development/force/node_modules/@artsy/reaction/src/Components/Modal/Modal.tsx","sourceRoot":"/Users/eve/development/force","sourcesContent":["import React from \"react\"\nimport styled, { injectGlobal, keyframes } from \"styled-components\"\nimport FadeTransition from \"../Animation/FadeTransition\"\n\nexport interface ModalProps extends React.HTMLProps<Modal> {\n  show?: boolean\n  onClose?: () => void\n  blurContainerSelector?: string\n}\nexport interface ModalState {\n  isAnimating: boolean\n  isShown: boolean\n  blurContainers: Element[]\n}\n\ninjectGlobal`\n  .blurred {\n    filter: blur(50px);\n  }\n`\n\nexport class Modal extends React.Component<ModalProps, ModalState> {\n  static defaultProps = {\n    show: false,\n    blurContainerSelector: \"\",\n    style: {},\n  }\n\n  state = {\n    isAnimating: this.props.show || false,\n    isShown: this.props.show || false,\n    blurContainers: this.props.blurContainerSelector\n      ? Array.from(document.querySelectorAll(this.props.blurContainerSelector))\n      : [],\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.show !== nextProps.show) {\n      this.setState({\n        isAnimating: true,\n        isShown: nextProps.show,\n      })\n    }\n  }\n\n  componentWillUnmount() {\n    this.removeBlurToContainers()\n  }\n\n  close = e => {\n    e.preventDefault()\n    this.props.onClose()\n\n    this.removeBlurToContainers()\n  }\n\n  addBlurToContainers = () => {\n    for (let container of this.state.blurContainers) {\n      container.classList.add(\"blurred\")\n    }\n  }\n\n  removeBlurToContainers = () => {\n    for (let container of this.state.blurContainers) {\n      container.classList.remove(\"blurred\")\n    }\n  }\n\n  render(): JSX.Element {\n    const { children } = this.props\n    const { isShown, isAnimating } = this.state\n\n    if (isShown) {\n      this.addBlurToContainers()\n    } else {\n      this.removeBlurToContainers()\n    }\n\n    return (\n      <ModalWrapper isShown={isShown || isAnimating}>\n        {isShown && <Overlay onClick={this.close} />}\n        <FadeTransition\n          in={isShown}\n          mountOnEnter\n          onExited={() => {\n            this.setState({ isAnimating: false })\n          }}\n          unmountOnExit\n          timeout={{ enter: 10, exit: 200 }}\n        >\n          <ModalContainer>{children}</ModalContainer>\n        </FadeTransition>\n      </ModalWrapper>\n    )\n  }\n}\n\nconst slideUp = keyframes`\n  from {\n    transform: translate(-50%,-40%);\n    opacity: 0;\n  },\n\n  to {\n    transform: translate(-50%,-50%);\n    opacity: 1;\n  }\n`\n\nconst ModalWrapper = styled.div.attrs<{ isShown?: boolean }>({})`\n  ${props =>\n    props.isShown &&\n    `\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: 9999\n  `};\n`\n\nconst ModalContainer = styled.div`\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background: #fff;\n  width: 440px;\n  height: min-content;\n  border-radius: 4px;\n  padding: 20px 40px;\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);\n  animation: ${slideUp} 250ms linear;\n`\n\nconst Overlay = styled.div`\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  background: rgba(200, 200, 200, 0.5);\n`\n\nexport default Modal\n"]}]}