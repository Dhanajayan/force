{"remainingRequest":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js??ref--2-1!/Users/eve/development/force/src/desktop/apps/article/components/FollowButton.js","dependencies":[{"path":"/Users/eve/development/force/src/desktop/apps/article/components/FollowButton.js","mtime":1519227435000},{"path":"/Users/eve/development/force/.babelrc","mtime":1537178749000},{"path":"/Users/eve/development/force/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/force/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _map from \"lodash/map\";\n\n(function () {\n  var enterModule = require('react-hot-loader').enterModule;\n\n  enterModule && enterModule(module);\n})();\n\nimport Artist from \"../../../models/artist.coffee\";\nimport CurrentUser from \"../../../models/current_user.coffee\";\nimport { Following, FollowButton } from \"../../../components/follow_button/index.coffee\";\nimport { data as sd } from 'sharify';\nexport var setupFollows = function setupFollows() {\n  if (CurrentUser.orNull()) {\n    return new Following(null, {\n      kind: 'artist'\n    });\n  }\n};\nexport var setupFollowButtons = function setupFollowButtons(following) {\n  var artists = _map($('.artist-follow'), function (artist) {\n    return artist.getAttribute('data-id');\n  });\n\n  _map(artists, function (artist) {\n    new FollowButton({\n      el: $(\".artist-follow[data-id=\\\"\".concat(artist, \"\\\"]\")),\n      following: following,\n      modelName: 'artist',\n      model: new Artist({\n        id: artist\n      }),\n      context_page: 'Article Page',\n      context_module: 'article_artist_follow',\n      href: sd.APP_URL + sd.CURRENT_PATH\n    });\n  });\n\n  if (CurrentUser.orNull()) {\n    following.syncFollows(artists);\n  }\n};\n;\n\n(function () {\n  var reactHotLoader = require('react-hot-loader').default;\n\n  var leaveModule = require('react-hot-loader').leaveModule;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(setupFollows, \"setupFollows\", \"/Users/eve/development/force/src/desktop/apps/article/components/FollowButton.js\");\n  reactHotLoader.register(setupFollowButtons, \"setupFollowButtons\", \"/Users/eve/development/force/src/desktop/apps/article/components/FollowButton.js\");\n  leaveModule(module);\n})();\n\n;",{"version":3,"sources":["/Users/eve/development/force/src/desktop/apps/article/components/FollowButton.js"],"names":["Artist","CurrentUser","Following","FollowButton","data","sd","setupFollows","orNull","kind","setupFollowButtons","following","artists","$","artist","getAttribute","el","modelName","model","id","context_page","context_module","href","APP_URL","CURRENT_PATH","syncFollows"],"mappings":";;;;;;;;AAAA,OAAOA,MAAP;AACA,OAAOC,WAAP;AACA,SAASC,SAAT,EAAoBC,YAApB;AACA,SAASC,IAAI,IAAIC,EAAjB,QAA2B,SAA3B;AAGA,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AAChC,MAAIL,WAAW,CAACM,MAAZ,EAAJ,EAA0B;AACxB,WAAO,IAAIL,SAAJ,CAAc,IAAd,EAAoB;AAACM,MAAAA,IAAI,EAAE;AAAP,KAApB,CAAP;AACD;AACF,CAJM;AAMP,OAAO,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,SAAD,EAAe;AAC/C,MAAMC,OAAO,GAAG,KAAIC,CAAC,CAAC,gBAAD,CAAL,EAAyB,UAAAC,MAAM,EAAI;AACjD,WAAOA,MAAM,CAACC,YAAP,CAAoB,SAApB,CAAP;AACD,GAFe,CAAhB;;AAGA,OAAIH,OAAJ,EAAa,UAAAE,MAAM,EAAI;AACrB,QAAIV,YAAJ,CAAiB;AACfY,MAAAA,EAAE,EAAEH,CAAC,oCAA4BC,MAA5B,SADU;AAEfH,MAAAA,SAAS,EAATA,SAFe;AAGfM,MAAAA,SAAS,EAAE,QAHI;AAIfC,MAAAA,KAAK,EAAE,IAAIjB,MAAJ,CAAW;AAACkB,QAAAA,EAAE,EAAEL;AAAL,OAAX,CAJQ;AAKfM,MAAAA,YAAY,EAAE,cALC;AAMfC,MAAAA,cAAc,EAAE,uBAND;AAOfC,MAAAA,IAAI,EAAEhB,EAAE,CAACiB,OAAH,GAAajB,EAAE,CAACkB;AAPP,KAAjB;AASD,GAVD;;AAWA,MAAItB,WAAW,CAACM,MAAZ,EAAJ,EAA0B;AACxBG,IAAAA,SAAS,CAACc,WAAV,CAAsBb,OAAtB;AACD;AACF,CAlBM;;;;;;;;;;;;0BANML,Y;0BAMAG,kB","sourcesContent":["import Artist from 'desktop/models/artist.coffee'\nimport CurrentUser from 'desktop/models/current_user.coffee'\nimport { Following, FollowButton } from 'desktop/components/follow_button/index.coffee'\nimport { data as sd } from 'sharify'\nimport { map } from 'lodash'\n\nexport const setupFollows = () => {\n  if (CurrentUser.orNull()) {\n    return new Following(null, {kind: 'artist'})\n  }\n}\n\nexport const setupFollowButtons = (following) => {\n  const artists = map($('.artist-follow'), artist => {\n    return artist.getAttribute('data-id')\n  })\n  map(artists, artist => {\n    new FollowButton({\n      el: $(`.artist-follow[data-id=\"${artist}\"]`),\n      following,\n      modelName: 'artist',\n      model: new Artist({id: artist}),\n      context_page: 'Article Page',\n      context_module: 'article_artist_follow',\n      href: sd.APP_URL + sd.CURRENT_PATH\n    })\n  })\n  if (CurrentUser.orNull()) {\n    following.syncFollows(artists)\n  }\n}\n"]}]}